var F$=Object.create;var U0=Object.defineProperty,L$=Object.defineProperties,V$=Object.getOwnPropertyDescriptor,j$=Object.getOwnPropertyDescriptors,B$=Object.getOwnPropertyNames,kx=Object.getOwnPropertySymbols,U$=Object.getPrototypeOf,Ox=Object.prototype.hasOwnProperty,H$=Object.prototype.propertyIsEnumerable;var Nx=(n,e,t)=>e in n?U0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,J=(n,e)=>{for(var t in e||={})Ox.call(e,t)&&Nx(n,t,e[t]);if(kx)for(var t of kx(e))H$.call(e,t)&&Nx(n,t,e[t]);return n},ye=(n,e)=>L$(n,j$(e));var Fx=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var $$=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var z$=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of B$(e))!Ox.call(n,i)&&i!==t&&U0(n,i,{get:()=>e[i],enumerable:!(r=V$(e,i))||r.enumerable});return n};var W$=(n,e,t)=>(t=n!=null?F$(U$(n)):{},z$(e||!n||!n.__esModule?U0(t,"default",{value:n,enumerable:!0}):t,n));var CU=$$((dx,td)=>{"use strict";(function(n,e){typeof dx=="object"&&typeof td<"u"?td.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(dx,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(u){n=u}function r(u){return u instanceof Array||Object.prototype.toString.call(u)==="[object Array]"}function i(u){return u!=null&&Object.prototype.toString.call(u)==="[object Object]"}function o(u,p){return Object.prototype.hasOwnProperty.call(u,p)}function s(u){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(u).length===0;var p;for(p in u)if(o(u,p))return!1;return!0}function a(u){return u===void 0}function c(u){return typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]"}function l(u){return u instanceof Date||Object.prototype.toString.call(u)==="[object Date]"}function d(u,p){var _=[],v,C=u.length;for(v=0;v<C;++v)_.push(p(u[v],v));return _}function f(u,p){for(var _ in p)o(p,_)&&(u[_]=p[_]);return o(p,"toString")&&(u.toString=p.toString),o(p,"valueOf")&&(u.valueOf=p.valueOf),u}function g(u,p,_,v){return Ue(u,p,_,v,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function E(u){return u._pf==null&&(u._pf=y()),u._pf}var w;Array.prototype.some?w=Array.prototype.some:w=function(u){var p=Object(this),_=p.length>>>0,v;for(v=0;v<_;v++)if(v in p&&u.call(this,p[v],v,p))return!0;return!1};function I(u){var p=null,_=!1,v=u._d&&!isNaN(u._d.getTime());if(v&&(p=E(u),_=w.call(p.parsedDateParts,function(C){return C!=null}),v=p.overflow<0&&!p.empty&&!p.invalidEra&&!p.invalidMonth&&!p.invalidWeekday&&!p.weekdayMismatch&&!p.nullInput&&!p.invalidFormat&&!p.userInvalidated&&(!p.meridiem||p.meridiem&&_),u._strict&&(v=v&&p.charsLeftOver===0&&p.unusedTokens.length===0&&p.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(u))u._isValid=v;else return v;return u._isValid}function k(u){var p=g(NaN);return u!=null?f(E(p),u):E(p).userInvalidated=!0,p}var L=e.momentProperties=[],U=!1;function q(u,p){var _,v,C,O=L.length;if(a(p._isAMomentObject)||(u._isAMomentObject=p._isAMomentObject),a(p._i)||(u._i=p._i),a(p._f)||(u._f=p._f),a(p._l)||(u._l=p._l),a(p._strict)||(u._strict=p._strict),a(p._tzm)||(u._tzm=p._tzm),a(p._isUTC)||(u._isUTC=p._isUTC),a(p._offset)||(u._offset=p._offset),a(p._pf)||(u._pf=E(p)),a(p._locale)||(u._locale=p._locale),O>0)for(_=0;_<O;_++)v=L[_],C=p[v],a(C)||(u[v]=C);return u}function z(u){q(this,u),this._d=new Date(u._d!=null?u._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),U===!1&&(U=!0,e.updateOffset(this),U=!1)}function $(u){return u instanceof z||u!=null&&u._isAMomentObject!=null}function A(u){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+u)}function T(u,p){var _=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,u),_){var v=[],C,O,W,ae=arguments.length;for(O=0;O<ae;O++){if(C="",typeof arguments[O]=="object"){C+=`
[`+O+"] ";for(W in arguments[0])o(arguments[0],W)&&(C+=W+": "+arguments[0][W]+", ");C=C.slice(0,-2)}else C=arguments[O];v.push(C)}A(u+`
Arguments: `+Array.prototype.slice.call(v).join("")+`
`+new Error().stack),_=!1}return p.apply(this,arguments)},p)}var S={};function R(u,p){e.deprecationHandler!=null&&e.deprecationHandler(u,p),S[u]||(A(p),S[u]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function P(u){return typeof Function<"u"&&u instanceof Function||Object.prototype.toString.call(u)==="[object Function]"}function F(u){var p,_;for(_ in u)o(u,_)&&(p=u[_],P(p)?this[_]=p:this["_"+_]=p);this._config=u,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function x(u,p){var _=f({},u),v;for(v in p)o(p,v)&&(i(u[v])&&i(p[v])?(_[v]={},f(_[v],u[v]),f(_[v],p[v])):p[v]!=null?_[v]=p[v]:delete _[v]);for(v in u)o(u,v)&&!o(p,v)&&i(u[v])&&(_[v]=f({},_[v]));return _}function mt(u){u!=null&&this.set(u)}var Ne;Object.keys?Ne=Object.keys:Ne=function(u){var p,_=[];for(p in u)o(u,p)&&_.push(p);return _};var lt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ot(u,p,_){var v=this._calendar[u]||this._calendar.sameElse;return P(v)?v.call(p,_):v}function ut(u,p,_){var v=""+Math.abs(u),C=p-v.length,O=u>=0;return(O?_?"+":"":"-")+Math.pow(10,Math.max(0,C)).toString().substr(1)+v}var At=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_i={},Ot={};function re(u,p,_,v){var C=v;typeof v=="string"&&(C=function(){return this[v]()}),u&&(Ot[u]=C),p&&(Ot[p[0]]=function(){return ut(C.apply(this,arguments),p[1],p[2])}),_&&(Ot[_]=function(){return this.localeData().ordinal(C.apply(this,arguments),u)})}function zr(u){return u.match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"")}function ur(u){var p=u.match(At),_,v;for(_=0,v=p.length;_<v;_++)Ot[p[_]]?p[_]=Ot[p[_]]:p[_]=zr(p[_]);return function(C){var O="",W;for(W=0;W<v;W++)O+=P(p[W])?p[W].call(C,u):p[W];return O}}function Qn(u,p){return u.isValid()?(p=os(p,u.localeData()),_i[p]=_i[p]||ur(p),_i[p](u)):u.localeData().invalidDate()}function os(u,p){var _=5;function v(C){return p.longDateFormat(C)||C}for(Kn.lastIndex=0;_>=0&&Kn.test(u);)u=u.replace(Kn,v),Kn.lastIndex=0,_-=1;return u}var g0={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function m0(u){var p=this._longDateFormat[u],_=this._longDateFormat[u.toUpperCase()];return p||!_?p:(this._longDateFormat[u]=_.match(At).map(function(v){return v==="MMMM"||v==="MM"||v==="DD"||v==="dddd"?v.slice(1):v}).join(""),this._longDateFormat[u])}var $c="Invalid date";function zc(){return this._invalidDate}var nd="%d",rd=/\d{1,2}/;function id(u){return this._ordinal.replace("%d",u)}var od={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function sp(u,p,_,v){var C=this._relativeTime[_];return P(C)?C(u,p,_,v):C.replace(/%d/i,u)}function ap(u,p){var _=this._relativeTime[u>0?"future":"past"];return P(_)?_(p):_.replace(/%s/i,p)}var cp={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Vn(u){return typeof u=="string"?cp[u]||cp[u.toLowerCase()]:void 0}function Wc(u){var p={},_,v;for(v in u)o(u,v)&&(_=Vn(v),_&&(p[_]=u[v]));return p}var sd={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function lp(u){var p=[],_;for(_ in u)o(u,_)&&p.push({unit:_,priority:sd[_]});return p.sort(function(v,C){return v.priority-C.priority}),p}var up=/\d/,vn=/\d\d/,qc=/\d{3}/,pa=/\d{4}/,Bt=/[+-]?\d{6}/,Ae=/\d\d?/,ga=/\d\d\d\d?/,ad=/\d\d\d\d\d\d?/,ma=/\d{1,3}/,cd=/\d{1,4}/,vi=/[+-]?\d{1,6}/,uo=/\d+/,ya=/[+-]?\d+/,ld=/Z|[+-]\d\d:?\d\d/gi,Gc=/Z|[+-]\d\d(?::?\d\d)?/gi,y0=/[+-]?\d+(\.\d{1,3})?/,ho=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fo=/^[1-9]\d?/,Yc=/^([1-9]\d|\d)/,bi;bi={};function oe(u,p,_){bi[u]=P(p)?p:function(v,C){return v&&_?_:p}}function ud(u,p){return o(bi,u)?bi[u](p._strict,p._locale):new RegExp(po(u))}function po(u){return Tr(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(p,_,v,C,O){return _||v||C||O}))}function Tr(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function bn(u){return u<0?Math.ceil(u)||0:Math.floor(u)}function Pe(u){var p=+u,_=0;return p!==0&&isFinite(p)&&(_=bn(p)),_}var go={};function Ke(u,p){var _,v=p,C;for(typeof u=="string"&&(u=[u]),c(p)&&(v=function(O,W){W[p]=Pe(O)}),C=u.length,_=0;_<C;_++)go[u[_]]=v}function Ut(u,p){Ke(u,function(_,v,C,O){C._w=C._w||{},p(_,C._w,C,O)})}function dp(u,p,_){p!=null&&o(go,u)&&go[u](p,_._a,_,u)}function Ei(u){return u%4===0&&u%100!==0||u%400===0}var Ft=0,Wr=1,Dr=2,Et=3,dr=4,qr=5,Sr=6,hp=7,dd=8;re("Y",0,0,function(){var u=this.year();return u<=9999?ut(u,4):"+"+u}),re(0,["YY",2],0,function(){return this.year()%100}),re(0,["YYYY",4],0,"year"),re(0,["YYYYY",5],0,"year"),re(0,["YYYYYY",6,!0],0,"year"),oe("Y",ya),oe("YY",Ae,vn),oe("YYYY",cd,pa),oe("YYYYY",vi,Bt),oe("YYYYYY",vi,Bt),Ke(["YYYYY","YYYYYY"],Ft),Ke("YYYY",function(u,p){p[Ft]=u.length===2?e.parseTwoDigitYear(u):Pe(u)}),Ke("YY",function(u,p){p[Ft]=e.parseTwoDigitYear(u)}),Ke("Y",function(u,p){p[Ft]=parseInt(u,10)});function wi(u){return Ei(u)?366:365}e.parseTwoDigitYear=function(u){return Pe(u)+(Pe(u)>68?1900:2e3)};var Gr=mo("FullYear",!0);function fp(){return Ei(this.year())}function mo(u,p){return function(_){return _!=null?(Kc(this,u,_),e.updateOffset(this,p),this):yo(this,u)}}function yo(u,p){if(!u.isValid())return NaN;var _=u._d,v=u._isUTC;switch(p){case"Milliseconds":return v?_.getUTCMilliseconds():_.getMilliseconds();case"Seconds":return v?_.getUTCSeconds():_.getSeconds();case"Minutes":return v?_.getUTCMinutes():_.getMinutes();case"Hours":return v?_.getUTCHours():_.getHours();case"Date":return v?_.getUTCDate():_.getDate();case"Day":return v?_.getUTCDay():_.getDay();case"Month":return v?_.getUTCMonth():_.getMonth();case"FullYear":return v?_.getUTCFullYear():_.getFullYear();default:return NaN}}function Kc(u,p,_){var v,C,O,W,ae;if(!(!u.isValid()||isNaN(_))){switch(v=u._d,C=u._isUTC,p){case"Milliseconds":return void(C?v.setUTCMilliseconds(_):v.setMilliseconds(_));case"Seconds":return void(C?v.setUTCSeconds(_):v.setSeconds(_));case"Minutes":return void(C?v.setUTCMinutes(_):v.setMinutes(_));case"Hours":return void(C?v.setUTCHours(_):v.setHours(_));case"Date":return void(C?v.setUTCDate(_):v.setDate(_));case"FullYear":break;default:return}O=_,W=u.month(),ae=u.date(),ae=ae===29&&W===1&&!Ei(O)?28:ae,C?v.setUTCFullYear(O,W,ae):v.setFullYear(O,W,ae)}}function pp(u){return u=Vn(u),P(this[u])?this[u]():this}function gp(u,p){if(typeof u=="object"){u=Wc(u);var _=lp(u),v,C=_.length;for(v=0;v<C;v++)this[_[v].unit](u[_[v].unit])}else if(u=Vn(u),P(this[u]))return this[u](p);return this}function _0(u,p){return(u%p+p)%p}var wt;Array.prototype.indexOf?wt=Array.prototype.indexOf:wt=function(u){var p;for(p=0;p<this.length;++p)if(this[p]===u)return p;return-1};function Qc(u,p){if(isNaN(u)||isNaN(p))return NaN;var _=_0(p,12);return u+=(p-_)/12,_===1?Ei(u)?29:28:31-_%7%2}re("M",["MM",2],"Mo",function(){return this.month()+1}),re("MMM",0,0,function(u){return this.localeData().monthsShort(this,u)}),re("MMMM",0,0,function(u){return this.localeData().months(this,u)}),oe("M",Ae,fo),oe("MM",Ae,vn),oe("MMM",function(u,p){return p.monthsShortRegex(u)}),oe("MMMM",function(u,p){return p.monthsRegex(u)}),Ke(["M","MM"],function(u,p){p[Wr]=Pe(u)-1}),Ke(["MMM","MMMM"],function(u,p,_,v){var C=_._locale.monthsParse(u,v,_._strict);C!=null?p[Wr]=C:E(_).invalidMonth=u});var hd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ss="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ii=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fd=ho,v0=ho;function mp(u,p){return u?r(this._months)?this._months[u.month()]:this._months[(this._months.isFormat||Ii).test(p)?"format":"standalone"][u.month()]:r(this._months)?this._months:this._months.standalone}function yp(u,p){return u?r(this._monthsShort)?this._monthsShort[u.month()]:this._monthsShort[Ii.test(p)?"format":"standalone"][u.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function _p(u,p,_){var v,C,O,W=u.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],v=0;v<12;++v)O=g([2e3,v]),this._shortMonthsParse[v]=this.monthsShort(O,"").toLocaleLowerCase(),this._longMonthsParse[v]=this.months(O,"").toLocaleLowerCase();return _?p==="MMM"?(C=wt.call(this._shortMonthsParse,W),C!==-1?C:null):(C=wt.call(this._longMonthsParse,W),C!==-1?C:null):p==="MMM"?(C=wt.call(this._shortMonthsParse,W),C!==-1?C:(C=wt.call(this._longMonthsParse,W),C!==-1?C:null)):(C=wt.call(this._longMonthsParse,W),C!==-1?C:(C=wt.call(this._shortMonthsParse,W),C!==-1?C:null))}function pd(u,p,_){var v,C,O;if(this._monthsParseExact)return _p.call(this,u,p,_);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),v=0;v<12;v++){if(C=g([2e3,v]),_&&!this._longMonthsParse[v]&&(this._longMonthsParse[v]=new RegExp("^"+this.months(C,"").replace(".","")+"$","i"),this._shortMonthsParse[v]=new RegExp("^"+this.monthsShort(C,"").replace(".","")+"$","i")),!_&&!this._monthsParse[v]&&(O="^"+this.months(C,"")+"|^"+this.monthsShort(C,""),this._monthsParse[v]=new RegExp(O.replace(".",""),"i")),_&&p==="MMMM"&&this._longMonthsParse[v].test(u))return v;if(_&&p==="MMM"&&this._shortMonthsParse[v].test(u))return v;if(!_&&this._monthsParse[v].test(u))return v}}function Zc(u,p){if(!u.isValid())return u;if(typeof p=="string"){if(/^\d+$/.test(p))p=Pe(p);else if(p=u.localeData().monthsParse(p),!c(p))return u}var _=p,v=u.date();return v=v<29?v:Math.min(v,Qc(u.year(),_)),u._isUTC?u._d.setUTCMonth(_,v):u._d.setMonth(_,v),u}function gd(u){return u!=null?(Zc(this,u),e.updateOffset(this,!0),this):yo(this,"Month")}function vp(){return Qc(this.year(),this.month())}function b0(u){return this._monthsParseExact?(o(this,"_monthsRegex")||md.call(this),u?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=fd),this._monthsShortStrictRegex&&u?this._monthsShortStrictRegex:this._monthsShortRegex)}function E0(u){return this._monthsParseExact?(o(this,"_monthsRegex")||md.call(this),u?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=v0),this._monthsStrictRegex&&u?this._monthsStrictRegex:this._monthsRegex)}function md(){function u(_e,He){return He.length-_e.length}var p=[],_=[],v=[],C,O,W,ae;for(C=0;C<12;C++)O=g([2e3,C]),W=Tr(this.monthsShort(O,"")),ae=Tr(this.months(O,"")),p.push(W),_.push(ae),v.push(ae),v.push(W);p.sort(u),_.sort(u),v.sort(u),this._monthsRegex=new RegExp("^("+v.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+_.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+p.join("|")+")","i")}function bp(u,p,_,v,C,O,W){var ae;return u<100&&u>=0?(ae=new Date(u+400,p,_,v,C,O,W),isFinite(ae.getFullYear())&&ae.setFullYear(u)):ae=new Date(u,p,_,v,C,O,W),ae}function _a(u){var p,_;return u<100&&u>=0?(_=Array.prototype.slice.call(arguments),_[0]=u+400,p=new Date(Date.UTC.apply(null,_)),isFinite(p.getUTCFullYear())&&p.setUTCFullYear(u)):p=new Date(Date.UTC.apply(null,arguments)),p}function Ar(u,p,_){var v=7+p-_,C=(7+_a(u,0,v).getUTCDay()-p)%7;return-C+v-1}function xr(u,p,_,v,C){var O=(7+_-v)%7,W=Ar(u,v,C),ae=1+7*(p-1)+O+W,_e,He;return ae<=0?(_e=u-1,He=wi(_e)+ae):ae>wi(u)?(_e=u+1,He=ae-wi(u)):(_e=u,He=ae),{year:_e,dayOfYear:He}}function Ci(u,p,_){var v=Ar(u.year(),p,_),C=Math.floor((u.dayOfYear()-v-1)/7)+1,O,W;return C<1?(W=u.year()-1,O=C+Zn(W,p,_)):C>Zn(u.year(),p,_)?(O=C-Zn(u.year(),p,_),W=u.year()+1):(W=u.year(),O=C),{week:O,year:W}}function Zn(u,p,_){var v=Ar(u,p,_),C=Ar(u+1,p,_);return(wi(u)-v+C)/7}re("w",["ww",2],"wo","week"),re("W",["WW",2],"Wo","isoWeek"),oe("w",Ae,fo),oe("ww",Ae,vn),oe("W",Ae,fo),oe("WW",Ae,vn),Ut(["w","ww","W","WW"],function(u,p,_,v){p[v.substr(0,1)]=Pe(u)});function Ep(u){return Ci(u,this._week.dow,this._week.doy).week}var yt={dow:0,doy:6};function Xc(){return this._week.dow}function va(){return this._week.doy}function ba(u){var p=this.localeData().week(this);return u==null?p:this.add((u-p)*7,"d")}function w0(u){var p=Ci(this,1,4).week;return u==null?p:this.add((u-p)*7,"d")}re("d",0,"do","day"),re("dd",0,0,function(u){return this.localeData().weekdaysMin(this,u)}),re("ddd",0,0,function(u){return this.localeData().weekdaysShort(this,u)}),re("dddd",0,0,function(u){return this.localeData().weekdays(this,u)}),re("e",0,0,"weekday"),re("E",0,0,"isoWeekday"),oe("d",Ae),oe("e",Ae),oe("E",Ae),oe("dd",function(u,p){return p.weekdaysMinRegex(u)}),oe("ddd",function(u,p){return p.weekdaysShortRegex(u)}),oe("dddd",function(u,p){return p.weekdaysRegex(u)}),Ut(["dd","ddd","dddd"],function(u,p,_,v){var C=_._locale.weekdaysParse(u,v,_._strict);C!=null?p.d=C:E(_).invalidWeekday=u}),Ut(["d","e","E"],function(u,p,_,v){p[v]=Pe(u)});function wp(u,p){return typeof u!="string"?u:isNaN(u)?(u=p.weekdaysParse(u),typeof u=="number"?u:null):parseInt(u,10)}function I0(u,p){return typeof u=="string"?p.weekdaysParse(u)%7||7:isNaN(u)?null:u}function yd(u,p){return u.slice(p,7).concat(u.slice(0,p))}var C0="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ip="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ea="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ti=ho,Cp=ho,Tp=ho;function Dp(u,p){var _=r(this._weekdays)?this._weekdays:this._weekdays[u&&u!==!0&&this._weekdays.isFormat.test(p)?"format":"standalone"];return u===!0?yd(_,this._week.dow):u?_[u.day()]:_}function as(u){return u===!0?yd(this._weekdaysShort,this._week.dow):u?this._weekdaysShort[u.day()]:this._weekdaysShort}function T0(u){return u===!0?yd(this._weekdaysMin,this._week.dow):u?this._weekdaysMin[u.day()]:this._weekdaysMin}function D0(u,p,_){var v,C,O,W=u.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],v=0;v<7;++v)O=g([2e3,1]).day(v),this._minWeekdaysParse[v]=this.weekdaysMin(O,"").toLocaleLowerCase(),this._shortWeekdaysParse[v]=this.weekdaysShort(O,"").toLocaleLowerCase(),this._weekdaysParse[v]=this.weekdays(O,"").toLocaleLowerCase();return _?p==="dddd"?(C=wt.call(this._weekdaysParse,W),C!==-1?C:null):p==="ddd"?(C=wt.call(this._shortWeekdaysParse,W),C!==-1?C:null):(C=wt.call(this._minWeekdaysParse,W),C!==-1?C:null):p==="dddd"?(C=wt.call(this._weekdaysParse,W),C!==-1||(C=wt.call(this._shortWeekdaysParse,W),C!==-1)?C:(C=wt.call(this._minWeekdaysParse,W),C!==-1?C:null)):p==="ddd"?(C=wt.call(this._shortWeekdaysParse,W),C!==-1||(C=wt.call(this._weekdaysParse,W),C!==-1)?C:(C=wt.call(this._minWeekdaysParse,W),C!==-1?C:null)):(C=wt.call(this._minWeekdaysParse,W),C!==-1||(C=wt.call(this._weekdaysParse,W),C!==-1)?C:(C=wt.call(this._shortWeekdaysParse,W),C!==-1?C:null))}function S0(u,p,_){var v,C,O;if(this._weekdaysParseExact)return D0.call(this,u,p,_);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),v=0;v<7;v++){if(C=g([2e3,1]).day(v),_&&!this._fullWeekdaysParse[v]&&(this._fullWeekdaysParse[v]=new RegExp("^"+this.weekdays(C,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[v]=new RegExp("^"+this.weekdaysShort(C,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[v]=new RegExp("^"+this.weekdaysMin(C,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[v]||(O="^"+this.weekdays(C,"")+"|^"+this.weekdaysShort(C,"")+"|^"+this.weekdaysMin(C,""),this._weekdaysParse[v]=new RegExp(O.replace(".",""),"i")),_&&p==="dddd"&&this._fullWeekdaysParse[v].test(u))return v;if(_&&p==="ddd"&&this._shortWeekdaysParse[v].test(u))return v;if(_&&p==="dd"&&this._minWeekdaysParse[v].test(u))return v;if(!_&&this._weekdaysParse[v].test(u))return v}}function Di(u){if(!this.isValid())return u!=null?this:NaN;var p=yo(this,"Day");return u!=null?(u=wp(u,this.localeData()),this.add(u-p,"d")):p}function A0(u){if(!this.isValid())return u!=null?this:NaN;var p=(this.day()+7-this.localeData()._week.dow)%7;return u==null?p:this.add(u-p,"d")}function x0(u){if(!this.isValid())return u!=null?this:NaN;if(u!=null){var p=I0(u,this.localeData());return this.day(this.day()%7?p:p-7)}else return this.day()||7}function wa(u){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||_o.call(this),u?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Ti),this._weekdaysStrictRegex&&u?this._weekdaysStrictRegex:this._weekdaysRegex)}function Jc(u){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||_o.call(this),u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Cp),this._weekdaysShortStrictRegex&&u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Sp(u){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||_o.call(this),u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Tp),this._weekdaysMinStrictRegex&&u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function _o(){function u(Bn,To){return To.length-Bn.length}var p=[],_=[],v=[],C=[],O,W,ae,_e,He;for(O=0;O<7;O++)W=g([2e3,1]).day(O),ae=Tr(this.weekdaysMin(W,"")),_e=Tr(this.weekdaysShort(W,"")),He=Tr(this.weekdays(W,"")),p.push(ae),_.push(_e),v.push(He),C.push(ae),C.push(_e),C.push(He);p.sort(u),_.sort(u),v.sort(u),C.sort(u),this._weekdaysRegex=new RegExp("^("+C.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+v.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+_.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+p.join("|")+")","i")}function vo(){return this.hours()%12||12}function Ap(){return this.hours()||24}re("H",["HH",2],0,"hour"),re("h",["hh",2],0,vo),re("k",["kk",2],0,Ap),re("hmm",0,0,function(){return""+vo.apply(this)+ut(this.minutes(),2)}),re("hmmss",0,0,function(){return""+vo.apply(this)+ut(this.minutes(),2)+ut(this.seconds(),2)}),re("Hmm",0,0,function(){return""+this.hours()+ut(this.minutes(),2)}),re("Hmmss",0,0,function(){return""+this.hours()+ut(this.minutes(),2)+ut(this.seconds(),2)});function el(u,p){re(u,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),p)})}el("a",!0),el("A",!1);function Dt(u,p){return p._meridiemParse}oe("a",Dt),oe("A",Dt),oe("H",Ae,Yc),oe("h",Ae,fo),oe("k",Ae,fo),oe("HH",Ae,vn),oe("hh",Ae,vn),oe("kk",Ae,vn),oe("hmm",ga),oe("hmmss",ad),oe("Hmm",ga),oe("Hmmss",ad),Ke(["H","HH"],Et),Ke(["k","kk"],function(u,p,_){var v=Pe(u);p[Et]=v===24?0:v}),Ke(["a","A"],function(u,p,_){_._isPm=_._locale.isPM(u),_._meridiem=u}),Ke(["h","hh"],function(u,p,_){p[Et]=Pe(u),E(_).bigHour=!0}),Ke("hmm",function(u,p,_){var v=u.length-2;p[Et]=Pe(u.substr(0,v)),p[dr]=Pe(u.substr(v)),E(_).bigHour=!0}),Ke("hmmss",function(u,p,_){var v=u.length-4,C=u.length-2;p[Et]=Pe(u.substr(0,v)),p[dr]=Pe(u.substr(v,2)),p[qr]=Pe(u.substr(C)),E(_).bigHour=!0}),Ke("Hmm",function(u,p,_){var v=u.length-2;p[Et]=Pe(u.substr(0,v)),p[dr]=Pe(u.substr(v))}),Ke("Hmmss",function(u,p,_){var v=u.length-4,C=u.length-2;p[Et]=Pe(u.substr(0,v)),p[dr]=Pe(u.substr(v,2)),p[qr]=Pe(u.substr(C))});function M0(u){return(u+"").toLowerCase().charAt(0)==="p"}var R0=/[ap]\.?m?\.?/i,xp=mo("Hours",!0);function Mp(u,p,_){return u>11?_?"pm":"PM":_?"am":"AM"}var _d={calendar:lt,longDateFormat:g0,invalidDate:$c,ordinal:nd,dayOfMonthOrdinalParse:rd,relativeTime:od,months:hd,monthsShort:ss,week:yt,weekdays:C0,weekdaysMin:Ea,weekdaysShort:Ip,meridiemParse:R0},st={},cs={},jn;function Rp(u,p){var _,v=Math.min(u.length,p.length);for(_=0;_<v;_+=1)if(u[_]!==p[_])return _;return v}function Pp(u){return u&&u.toLowerCase().replace("_","-")}function Ia(u){for(var p=0,_,v,C,O;p<u.length;){for(O=Pp(u[p]).split("-"),_=O.length,v=Pp(u[p+1]),v=v?v.split("-"):null;_>0;){if(C=ls(O.slice(0,_).join("-")),C)return C;if(v&&v.length>=_&&Rp(O,v)>=_-1)break;_--}p++}return jn}function kp(u){return!!(u&&u.match("^[^/\\\\]*$"))}function ls(u){var p=null,_;if(st[u]===void 0&&typeof td<"u"&&td&&td.exports&&kp(u))try{p=jn._abbr,_=Fx,_("./locale/"+u),hr(p)}catch{st[u]=null}return st[u]}function hr(u,p){var _;return u&&(a(p)?_=Yr(u):_=tl(u,p),_?jn=_:typeof console<"u"&&console.warn&&console.warn("Locale "+u+" not found. Did you forget to load it?")),jn._abbr}function tl(u,p){if(p!==null){var _,v=_d;if(p.abbr=u,st[u]!=null)R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),v=st[u]._config;else if(p.parentLocale!=null)if(st[p.parentLocale]!=null)v=st[p.parentLocale]._config;else if(_=ls(p.parentLocale),_!=null)v=_._config;else return cs[p.parentLocale]||(cs[p.parentLocale]=[]),cs[p.parentLocale].push({name:u,config:p}),null;return st[u]=new mt(x(v,p)),cs[u]&&cs[u].forEach(function(C){tl(C.name,C.config)}),hr(u),st[u]}else return delete st[u],null}function nl(u,p){if(p!=null){var _,v,C=_d;st[u]!=null&&st[u].parentLocale!=null?st[u].set(x(st[u]._config,p)):(v=ls(u),v!=null&&(C=v._config),p=x(C,p),v==null&&(p.abbr=u),_=new mt(p),_.parentLocale=st[u],st[u]=_),hr(u)}else st[u]!=null&&(st[u].parentLocale!=null?(st[u]=st[u].parentLocale,u===hr()&&hr(u)):st[u]!=null&&delete st[u]);return st[u]}function Yr(u){var p;if(u&&u._locale&&u._locale._abbr&&(u=u._locale._abbr),!u)return jn;if(!r(u)){if(p=ls(u),p)return p;u=[u]}return Ia(u)}function Np(){return Ne(st)}function bo(u){var p,_=u._a;return _&&E(u).overflow===-2&&(p=_[Wr]<0||_[Wr]>11?Wr:_[Dr]<1||_[Dr]>Qc(_[Ft],_[Wr])?Dr:_[Et]<0||_[Et]>24||_[Et]===24&&(_[dr]!==0||_[qr]!==0||_[Sr]!==0)?Et:_[dr]<0||_[dr]>59?dr:_[qr]<0||_[qr]>59?qr:_[Sr]<0||_[Sr]>999?Sr:-1,E(u)._overflowDayOfYear&&(p<Ft||p>Dr)&&(p=Dr),E(u)._overflowWeeks&&p===-1&&(p=hp),E(u)._overflowWeekday&&p===-1&&(p=dd),E(u).overflow=p),u}var Op=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fp=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vd=/Z|[+-]\d\d(?::?\d\d)?/,us=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],rl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],il=/^\/?Date\((-?\d+)/i,Lp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vp={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Si(u){var p,_,v=u._i,C=Op.exec(v)||Fp.exec(v),O,W,ae,_e,He=us.length,Bn=rl.length;if(C){for(E(u).iso=!0,p=0,_=He;p<_;p++)if(us[p][1].exec(C[1])){W=us[p][0],O=us[p][2]!==!1;break}if(W==null){u._isValid=!1;return}if(C[3]){for(p=0,_=Bn;p<_;p++)if(rl[p][1].exec(C[3])){ae=(C[2]||" ")+rl[p][0];break}if(ae==null){u._isValid=!1;return}}if(!O&&ae!=null){u._isValid=!1;return}if(C[4])if(vd.exec(C[4]))_e="Z";else{u._isValid=!1;return}u._f=W+(ae||"")+(_e||""),b(u)}else u._isValid=!1}function jp(u,p,_,v,C,O){var W=[Bp(u),ss.indexOf(p),parseInt(_,10),parseInt(v,10),parseInt(C,10)];return O&&W.push(parseInt(O,10)),W}function Bp(u){var p=parseInt(u,10);return p<=49?2e3+p:p<=999?1900+p:p}function Up(u){return u.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Hp(u,p,_){if(u){var v=Ip.indexOf(u),C=new Date(p[0],p[1],p[2]).getDay();if(v!==C)return E(_).weekdayMismatch=!0,_._isValid=!1,!1}return!0}function ol(u,p,_){if(u)return Vp[u];if(p)return 0;var v=parseInt(_,10),C=v%100,O=(v-C)/100;return O*60+C}function xn(u){var p=Lp.exec(Up(u._i)),_;if(p){if(_=jp(p[4],p[3],p[2],p[5],p[6],p[7]),!Hp(p[1],_,u))return;u._a=_,u._tzm=ol(p[8],p[9],p[10]),u._d=_a.apply(null,u._a),u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),E(u).rfc2822=!0}else u._isValid=!1}function $p(u){var p=il.exec(u._i);if(p!==null){u._d=new Date(+p[1]);return}if(Si(u),u._isValid===!1)delete u._isValid;else return;if(xn(u),u._isValid===!1)delete u._isValid;else return;u._strict?u._isValid=!1:e.createFromInputFallback(u)}e.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(u){u._d=new Date(u._i+(u._useUTC?" UTC":""))});function Eo(u,p,_){return u??p??_}function ds(u){var p=new Date(e.now());return u._useUTC?[p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()]:[p.getFullYear(),p.getMonth(),p.getDate()]}function h(u){var p,_,v=[],C,O,W;if(!u._d){for(C=ds(u),u._w&&u._a[Dr]==null&&u._a[Wr]==null&&m(u),u._dayOfYear!=null&&(W=Eo(u._a[Ft],C[Ft]),(u._dayOfYear>wi(W)||u._dayOfYear===0)&&(E(u)._overflowDayOfYear=!0),_=_a(W,0,u._dayOfYear),u._a[Wr]=_.getUTCMonth(),u._a[Dr]=_.getUTCDate()),p=0;p<3&&u._a[p]==null;++p)u._a[p]=v[p]=C[p];for(;p<7;p++)u._a[p]=v[p]=u._a[p]==null?p===2?1:0:u._a[p];u._a[Et]===24&&u._a[dr]===0&&u._a[qr]===0&&u._a[Sr]===0&&(u._nextDay=!0,u._a[Et]=0),u._d=(u._useUTC?_a:bp).apply(null,v),O=u._useUTC?u._d.getUTCDay():u._d.getDay(),u._tzm!=null&&u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),u._nextDay&&(u._a[Et]=24),u._w&&typeof u._w.d<"u"&&u._w.d!==O&&(E(u).weekdayMismatch=!0)}}function m(u){var p,_,v,C,O,W,ae,_e,He;p=u._w,p.GG!=null||p.W!=null||p.E!=null?(O=1,W=4,_=Eo(p.GG,u._a[Ft],Ci(Se(),1,4).year),v=Eo(p.W,1),C=Eo(p.E,1),(C<1||C>7)&&(_e=!0)):(O=u._locale._week.dow,W=u._locale._week.doy,He=Ci(Se(),O,W),_=Eo(p.gg,u._a[Ft],He.year),v=Eo(p.w,He.week),p.d!=null?(C=p.d,(C<0||C>6)&&(_e=!0)):p.e!=null?(C=p.e+O,(p.e<0||p.e>6)&&(_e=!0)):C=O),v<1||v>Zn(_,O,W)?E(u)._overflowWeeks=!0:_e!=null?E(u)._overflowWeekday=!0:(ae=xr(_,v,C,O,W),u._a[Ft]=ae.year,u._dayOfYear=ae.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function b(u){if(u._f===e.ISO_8601){Si(u);return}if(u._f===e.RFC_2822){xn(u);return}u._a=[],E(u).empty=!0;var p=""+u._i,_,v,C,O,W,ae=p.length,_e=0,He,Bn;for(C=os(u._f,u._locale).match(At)||[],Bn=C.length,_=0;_<Bn;_++)O=C[_],v=(p.match(ud(O,u))||[])[0],v&&(W=p.substr(0,p.indexOf(v)),W.length>0&&E(u).unusedInput.push(W),p=p.slice(p.indexOf(v)+v.length),_e+=v.length),Ot[O]?(v?E(u).empty=!1:E(u).unusedTokens.push(O),dp(O,v,u)):u._strict&&!v&&E(u).unusedTokens.push(O);E(u).charsLeftOver=ae-_e,p.length>0&&E(u).unusedInput.push(p),u._a[Et]<=12&&E(u).bigHour===!0&&u._a[Et]>0&&(E(u).bigHour=void 0),E(u).parsedDateParts=u._a.slice(0),E(u).meridiem=u._meridiem,u._a[Et]=D(u._locale,u._a[Et],u._meridiem),He=E(u).era,He!==null&&(u._a[Ft]=u._locale.erasConvertYear(He,u._a[Ft])),h(u),bo(u)}function D(u,p,_){var v;return _==null?p:u.meridiemHour!=null?u.meridiemHour(p,_):(u.isPM!=null&&(v=u.isPM(_),v&&p<12&&(p+=12),!v&&p===12&&(p=0)),p)}function j(u){var p,_,v,C,O,W,ae=!1,_e=u._f.length;if(_e===0){E(u).invalidFormat=!0,u._d=new Date(NaN);return}for(C=0;C<_e;C++)O=0,W=!1,p=q({},u),u._useUTC!=null&&(p._useUTC=u._useUTC),p._f=u._f[C],b(p),I(p)&&(W=!0),O+=E(p).charsLeftOver,O+=E(p).unusedTokens.length*10,E(p).score=O,ae?O<v&&(v=O,_=p):(v==null||O<v||W)&&(v=O,_=p,W&&(ae=!0));f(u,_||p)}function H(u){if(!u._d){var p=Wc(u._i),_=p.day===void 0?p.date:p.day;u._a=d([p.year,p.month,_,p.hour,p.minute,p.second,p.millisecond],function(v){return v&&parseInt(v,10)}),h(u)}}function ne(u){var p=new z(bo(Ze(u)));return p._nextDay&&(p.add(1,"d"),p._nextDay=void 0),p}function Ze(u){var p=u._i,_=u._f;return u._locale=u._locale||Yr(u._l),p===null||_===void 0&&p===""?k({nullInput:!0}):(typeof p=="string"&&(u._i=p=u._locale.preparse(p)),$(p)?new z(bo(p)):(l(p)?u._d=p:r(_)?j(u):_?b(u):tn(u),I(u)||(u._d=null),u))}function tn(u){var p=u._i;a(p)?u._d=new Date(e.now()):l(p)?u._d=new Date(p.valueOf()):typeof p=="string"?$p(u):r(p)?(u._a=d(p.slice(0),function(_){return parseInt(_,10)}),h(u)):i(p)?H(u):c(p)?u._d=new Date(p):e.createFromInputFallback(u)}function Ue(u,p,_,v,C){var O={};return(p===!0||p===!1)&&(v=p,p=void 0),(_===!0||_===!1)&&(v=_,_=void 0),(i(u)&&s(u)||r(u)&&u.length===0)&&(u=void 0),O._isAMomentObject=!0,O._useUTC=O._isUTC=C,O._l=_,O._i=u,O._f=p,O._strict=v,ne(O)}function Se(u,p,_,v){return Ue(u,p,_,v,!1)}var un=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=Se.apply(null,arguments);return this.isValid()&&u.isValid()?u<this?this:u:k()}),hs=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=Se.apply(null,arguments);return this.isValid()&&u.isValid()?u>this?this:u:k()});function Xn(u,p){var _,v;if(p.length===1&&r(p[0])&&(p=p[0]),!p.length)return Se();for(_=p[0],v=1;v<p.length;++v)(!p[v].isValid()||p[v][u](_))&&(_=p[v]);return _}function sl(){var u=[].slice.call(arguments,0);return Xn("isBefore",u)}function bd(){var u=[].slice.call(arguments,0);return Xn("isAfter",u)}var DU=function(){return Date.now?Date.now():+new Date},Ed=["year","quarter","month","week","day","hour","minute","second","millisecond"];function SU(u){var p,_=!1,v,C=Ed.length;for(p in u)if(o(u,p)&&!(wt.call(Ed,p)!==-1&&(u[p]==null||!isNaN(u[p]))))return!1;for(v=0;v<C;++v)if(u[Ed[v]]){if(_)return!1;parseFloat(u[Ed[v]])!==Pe(u[Ed[v]])&&(_=!0)}return!0}function AU(){return this._isValid}function xU(){return Kr(NaN)}function zp(u){var p=Wc(u),_=p.year||0,v=p.quarter||0,C=p.month||0,O=p.week||p.isoWeek||0,W=p.day||0,ae=p.hour||0,_e=p.minute||0,He=p.second||0,Bn=p.millisecond||0;this._isValid=SU(p),this._milliseconds=+Bn+He*1e3+_e*6e4+ae*1e3*60*60,this._days=+W+O*7,this._months=+C+v*3+_*12,this._data={},this._locale=Yr(),this._bubble()}function Wp(u){return u instanceof zp}function P0(u){return u<0?Math.round(-1*u)*-1:Math.round(u)}function MU(u,p,_){var v=Math.min(u.length,p.length),C=Math.abs(u.length-p.length),O=0,W;for(W=0;W<v;W++)(_&&u[W]!==p[W]||!_&&Pe(u[W])!==Pe(p[W]))&&O++;return O+C}function hx(u,p){re(u,0,0,function(){var _=this.utcOffset(),v="+";return _<0&&(_=-_,v="-"),v+ut(~~(_/60),2)+p+ut(~~_%60,2)})}hx("Z",":"),hx("ZZ",""),oe("Z",Gc),oe("ZZ",Gc),Ke(["Z","ZZ"],function(u,p,_){_._useUTC=!0,_._tzm=k0(Gc,u)});var RU=/([\+\-]|\d\d)/gi;function k0(u,p){var _=(p||"").match(u),v,C,O;return _===null?null:(v=_[_.length-1]||[],C=(v+"").match(RU)||["-",0,0],O=+(C[1]*60)+Pe(C[2]),O===0?0:C[0]==="+"?O:-O)}function N0(u,p){var _,v;return p._isUTC?(_=p.clone(),v=($(u)||l(u)?u.valueOf():Se(u).valueOf())-_.valueOf(),_._d.setTime(_._d.valueOf()+v),e.updateOffset(_,!1),_):Se(u).local()}function O0(u){return-Math.round(u._d.getTimezoneOffset())}e.updateOffset=function(){};function PU(u,p,_){var v=this._offset||0,C;if(!this.isValid())return u!=null?this:NaN;if(u!=null){if(typeof u=="string"){if(u=k0(Gc,u),u===null)return this}else Math.abs(u)<16&&!_&&(u=u*60);return!this._isUTC&&p&&(C=O0(this)),this._offset=u,this._isUTC=!0,C!=null&&this.add(C,"m"),v!==u&&(!p||this._changeInProgress?mx(this,Kr(u-v,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?v:O0(this)}function kU(u,p){return u!=null?(typeof u!="string"&&(u=-u),this.utcOffset(u,p),this):-this.utcOffset()}function NU(u){return this.utcOffset(0,u)}function OU(u){return this._isUTC&&(this.utcOffset(0,u),this._isUTC=!1,u&&this.subtract(O0(this),"m")),this}function FU(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var u=k0(ld,this._i);u!=null?this.utcOffset(u):this.utcOffset(0,!0)}return this}function LU(u){return this.isValid()?(u=u?Se(u).utcOffset():0,(this.utcOffset()-u)%60===0):!1}function VU(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function jU(){if(!a(this._isDSTShifted))return this._isDSTShifted;var u={},p;return q(u,this),u=Ze(u),u._a?(p=u._isUTC?g(u._a):Se(u._a),this._isDSTShifted=this.isValid()&&MU(u._a,p.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function BU(){return this.isValid()?!this._isUTC:!1}function UU(){return this.isValid()?this._isUTC:!1}function fx(){return this.isValid()?this._isUTC&&this._offset===0:!1}var HU=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$U=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Kr(u,p){var _=u,v=null,C,O,W;return Wp(u)?_={ms:u._milliseconds,d:u._days,M:u._months}:c(u)||!isNaN(+u)?(_={},p?_[p]=+u:_.milliseconds=+u):(v=HU.exec(u))?(C=v[1]==="-"?-1:1,_={y:0,d:Pe(v[Dr])*C,h:Pe(v[Et])*C,m:Pe(v[dr])*C,s:Pe(v[qr])*C,ms:Pe(P0(v[Sr]*1e3))*C}):(v=$U.exec(u))?(C=v[1]==="-"?-1:1,_={y:Ca(v[2],C),M:Ca(v[3],C),w:Ca(v[4],C),d:Ca(v[5],C),h:Ca(v[6],C),m:Ca(v[7],C),s:Ca(v[8],C)}):_==null?_={}:typeof _=="object"&&("from"in _||"to"in _)&&(W=zU(Se(_.from),Se(_.to)),_={},_.ms=W.milliseconds,_.M=W.months),O=new zp(_),Wp(u)&&o(u,"_locale")&&(O._locale=u._locale),Wp(u)&&o(u,"_isValid")&&(O._isValid=u._isValid),O}Kr.fn=zp.prototype,Kr.invalid=xU;function Ca(u,p){var _=u&&parseFloat(u.replace(",","."));return(isNaN(_)?0:_)*p}function px(u,p){var _={};return _.months=p.month()-u.month()+(p.year()-u.year())*12,u.clone().add(_.months,"M").isAfter(p)&&--_.months,_.milliseconds=+p-+u.clone().add(_.months,"M"),_}function zU(u,p){var _;return u.isValid()&&p.isValid()?(p=N0(p,u),u.isBefore(p)?_=px(u,p):(_=px(p,u),_.milliseconds=-_.milliseconds,_.months=-_.months),_):{milliseconds:0,months:0}}function gx(u,p){return function(_,v){var C,O;return v!==null&&!isNaN(+v)&&(R(p,"moment()."+p+"(period, number) is deprecated. Please use moment()."+p+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),O=_,_=v,v=O),C=Kr(_,v),mx(this,C,u),this}}function mx(u,p,_,v){var C=p._milliseconds,O=P0(p._days),W=P0(p._months);u.isValid()&&(v=v??!0,W&&Zc(u,yo(u,"Month")+W*_),O&&Kc(u,"Date",yo(u,"Date")+O*_),C&&u._d.setTime(u._d.valueOf()+C*_),v&&e.updateOffset(u,O||W))}var WU=gx(1,"add"),qU=gx(-1,"subtract");function yx(u){return typeof u=="string"||u instanceof String}function GU(u){return $(u)||l(u)||yx(u)||c(u)||KU(u)||YU(u)||u===null||u===void 0}function YU(u){var p=i(u)&&!s(u),_=!1,v=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],C,O,W=v.length;for(C=0;C<W;C+=1)O=v[C],_=_||o(u,O);return p&&_}function KU(u){var p=r(u),_=!1;return p&&(_=u.filter(function(v){return!c(v)&&yx(u)}).length===0),p&&_}function QU(u){var p=i(u)&&!s(u),_=!1,v=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],C,O;for(C=0;C<v.length;C+=1)O=v[C],_=_||o(u,O);return p&&_}function ZU(u,p){var _=u.diff(p,"days",!0);return _<-6?"sameElse":_<-1?"lastWeek":_<0?"lastDay":_<1?"sameDay":_<2?"nextDay":_<7?"nextWeek":"sameElse"}function XU(u,p){arguments.length===1&&(arguments[0]?GU(arguments[0])?(u=arguments[0],p=void 0):QU(arguments[0])&&(p=arguments[0],u=void 0):(u=void 0,p=void 0));var _=u||Se(),v=N0(_,this).startOf("day"),C=e.calendarFormat(this,v)||"sameElse",O=p&&(P(p[C])?p[C].call(this,_):p[C]);return this.format(O||this.localeData().calendar(C,this,Se(_)))}function JU(){return new z(this)}function eH(u,p){var _=$(u)?u:Se(u);return this.isValid()&&_.isValid()?(p=Vn(p)||"millisecond",p==="millisecond"?this.valueOf()>_.valueOf():_.valueOf()<this.clone().startOf(p).valueOf()):!1}function tH(u,p){var _=$(u)?u:Se(u);return this.isValid()&&_.isValid()?(p=Vn(p)||"millisecond",p==="millisecond"?this.valueOf()<_.valueOf():this.clone().endOf(p).valueOf()<_.valueOf()):!1}function nH(u,p,_,v){var C=$(u)?u:Se(u),O=$(p)?p:Se(p);return this.isValid()&&C.isValid()&&O.isValid()?(v=v||"()",(v[0]==="("?this.isAfter(C,_):!this.isBefore(C,_))&&(v[1]===")"?this.isBefore(O,_):!this.isAfter(O,_))):!1}function rH(u,p){var _=$(u)?u:Se(u),v;return this.isValid()&&_.isValid()?(p=Vn(p)||"millisecond",p==="millisecond"?this.valueOf()===_.valueOf():(v=_.valueOf(),this.clone().startOf(p).valueOf()<=v&&v<=this.clone().endOf(p).valueOf())):!1}function iH(u,p){return this.isSame(u,p)||this.isAfter(u,p)}function oH(u,p){return this.isSame(u,p)||this.isBefore(u,p)}function sH(u,p,_){var v,C,O;if(!this.isValid())return NaN;if(v=N0(u,this),!v.isValid())return NaN;switch(C=(v.utcOffset()-this.utcOffset())*6e4,p=Vn(p),p){case"year":O=qp(this,v)/12;break;case"month":O=qp(this,v);break;case"quarter":O=qp(this,v)/3;break;case"second":O=(this-v)/1e3;break;case"minute":O=(this-v)/6e4;break;case"hour":O=(this-v)/36e5;break;case"day":O=(this-v-C)/864e5;break;case"week":O=(this-v-C)/6048e5;break;default:O=this-v}return _?O:bn(O)}function qp(u,p){if(u.date()<p.date())return-qp(p,u);var _=(p.year()-u.year())*12+(p.month()-u.month()),v=u.clone().add(_,"months"),C,O;return p-v<0?(C=u.clone().add(_-1,"months"),O=(p-v)/(v-C)):(C=u.clone().add(_+1,"months"),O=(p-v)/(C-v)),-(_+O)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function aH(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cH(u){if(!this.isValid())return null;var p=u!==!0,_=p?this.clone().utc():this;return _.year()<0||_.year()>9999?Qn(_,p?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?p?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Qn(_,"Z")):Qn(_,p?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function lH(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var u="moment",p="",_,v,C,O;return this.isLocal()||(u=this.utcOffset()===0?"moment.utc":"moment.parseZone",p="Z"),_="["+u+'("]',v=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",C="-MM-DD[T]HH:mm:ss.SSS",O=p+'[")]',this.format(_+v+C+O)}function uH(u){u||(u=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var p=Qn(this,u);return this.localeData().postformat(p)}function dH(u,p){return this.isValid()&&($(u)&&u.isValid()||Se(u).isValid())?Kr({to:this,from:u}).locale(this.locale()).humanize(!p):this.localeData().invalidDate()}function hH(u){return this.from(Se(),u)}function fH(u,p){return this.isValid()&&($(u)&&u.isValid()||Se(u).isValid())?Kr({from:this,to:u}).locale(this.locale()).humanize(!p):this.localeData().invalidDate()}function pH(u){return this.to(Se(),u)}function _x(u){var p;return u===void 0?this._locale._abbr:(p=Yr(u),p!=null&&(this._locale=p),this)}var vx=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(u){return u===void 0?this.localeData():this.locale(u)});function bx(){return this._locale}var Gp=1e3,al=60*Gp,Yp=60*al,Ex=(365*400+97)*24*Yp;function cl(u,p){return(u%p+p)%p}function wx(u,p,_){return u<100&&u>=0?new Date(u+400,p,_)-Ex:new Date(u,p,_).valueOf()}function Ix(u,p,_){return u<100&&u>=0?Date.UTC(u+400,p,_)-Ex:Date.UTC(u,p,_)}function gH(u){var p,_;if(u=Vn(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(_=this._isUTC?Ix:wx,u){case"year":p=_(this.year(),0,1);break;case"quarter":p=_(this.year(),this.month()-this.month()%3,1);break;case"month":p=_(this.year(),this.month(),1);break;case"week":p=_(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":p=_(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":p=_(this.year(),this.month(),this.date());break;case"hour":p=this._d.valueOf(),p-=cl(p+(this._isUTC?0:this.utcOffset()*al),Yp);break;case"minute":p=this._d.valueOf(),p-=cl(p,al);break;case"second":p=this._d.valueOf(),p-=cl(p,Gp);break}return this._d.setTime(p),e.updateOffset(this,!0),this}function mH(u){var p,_;if(u=Vn(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(_=this._isUTC?Ix:wx,u){case"year":p=_(this.year()+1,0,1)-1;break;case"quarter":p=_(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":p=_(this.year(),this.month()+1,1)-1;break;case"week":p=_(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":p=_(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":p=_(this.year(),this.month(),this.date()+1)-1;break;case"hour":p=this._d.valueOf(),p+=Yp-cl(p+(this._isUTC?0:this.utcOffset()*al),Yp)-1;break;case"minute":p=this._d.valueOf(),p+=al-cl(p,al)-1;break;case"second":p=this._d.valueOf(),p+=Gp-cl(p,Gp)-1;break}return this._d.setTime(p),e.updateOffset(this,!0),this}function yH(){return this._d.valueOf()-(this._offset||0)*6e4}function _H(){return Math.floor(this.valueOf()/1e3)}function vH(){return new Date(this.valueOf())}function bH(){var u=this;return[u.year(),u.month(),u.date(),u.hour(),u.minute(),u.second(),u.millisecond()]}function EH(){var u=this;return{years:u.year(),months:u.month(),date:u.date(),hours:u.hours(),minutes:u.minutes(),seconds:u.seconds(),milliseconds:u.milliseconds()}}function wH(){return this.isValid()?this.toISOString():null}function IH(){return I(this)}function CH(){return f({},E(this))}function TH(){return E(this).overflow}function DH(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}re("N",0,0,"eraAbbr"),re("NN",0,0,"eraAbbr"),re("NNN",0,0,"eraAbbr"),re("NNNN",0,0,"eraName"),re("NNNNN",0,0,"eraNarrow"),re("y",["y",1],"yo","eraYear"),re("y",["yy",2],0,"eraYear"),re("y",["yyy",3],0,"eraYear"),re("y",["yyyy",4],0,"eraYear"),oe("N",F0),oe("NN",F0),oe("NNN",F0),oe("NNNN",LH),oe("NNNNN",VH),Ke(["N","NN","NNN","NNNN","NNNNN"],function(u,p,_,v){var C=_._locale.erasParse(u,v,_._strict);C?E(_).era=C:E(_).invalidEra=u}),oe("y",uo),oe("yy",uo),oe("yyy",uo),oe("yyyy",uo),oe("yo",jH),Ke(["y","yy","yyy","yyyy"],Ft),Ke(["yo"],function(u,p,_,v){var C;_._locale._eraYearOrdinalRegex&&(C=u.match(_._locale._eraYearOrdinalRegex)),_._locale.eraYearOrdinalParse?p[Ft]=_._locale.eraYearOrdinalParse(u,C):p[Ft]=parseInt(u,10)});function SH(u,p){var _,v,C,O=this._eras||Yr("en")._eras;for(_=0,v=O.length;_<v;++_){switch(typeof O[_].since){case"string":C=e(O[_].since).startOf("day"),O[_].since=C.valueOf();break}switch(typeof O[_].until){case"undefined":O[_].until=1/0;break;case"string":C=e(O[_].until).startOf("day").valueOf(),O[_].until=C.valueOf();break}}return O}function AH(u,p,_){var v,C,O=this.eras(),W,ae,_e;for(u=u.toUpperCase(),v=0,C=O.length;v<C;++v)if(W=O[v].name.toUpperCase(),ae=O[v].abbr.toUpperCase(),_e=O[v].narrow.toUpperCase(),_)switch(p){case"N":case"NN":case"NNN":if(ae===u)return O[v];break;case"NNNN":if(W===u)return O[v];break;case"NNNNN":if(_e===u)return O[v];break}else if([W,ae,_e].indexOf(u)>=0)return O[v]}function xH(u,p){var _=u.since<=u.until?1:-1;return p===void 0?e(u.since).year():e(u.since).year()+(p-u.offset)*_}function MH(){var u,p,_,v=this.localeData().eras();for(u=0,p=v.length;u<p;++u)if(_=this.clone().startOf("day").valueOf(),v[u].since<=_&&_<=v[u].until||v[u].until<=_&&_<=v[u].since)return v[u].name;return""}function RH(){var u,p,_,v=this.localeData().eras();for(u=0,p=v.length;u<p;++u)if(_=this.clone().startOf("day").valueOf(),v[u].since<=_&&_<=v[u].until||v[u].until<=_&&_<=v[u].since)return v[u].narrow;return""}function PH(){var u,p,_,v=this.localeData().eras();for(u=0,p=v.length;u<p;++u)if(_=this.clone().startOf("day").valueOf(),v[u].since<=_&&_<=v[u].until||v[u].until<=_&&_<=v[u].since)return v[u].abbr;return""}function kH(){var u,p,_,v,C=this.localeData().eras();for(u=0,p=C.length;u<p;++u)if(_=C[u].since<=C[u].until?1:-1,v=this.clone().startOf("day").valueOf(),C[u].since<=v&&v<=C[u].until||C[u].until<=v&&v<=C[u].since)return(this.year()-e(C[u].since).year())*_+C[u].offset;return this.year()}function NH(u){return o(this,"_erasNameRegex")||L0.call(this),u?this._erasNameRegex:this._erasRegex}function OH(u){return o(this,"_erasAbbrRegex")||L0.call(this),u?this._erasAbbrRegex:this._erasRegex}function FH(u){return o(this,"_erasNarrowRegex")||L0.call(this),u?this._erasNarrowRegex:this._erasRegex}function F0(u,p){return p.erasAbbrRegex(u)}function LH(u,p){return p.erasNameRegex(u)}function VH(u,p){return p.erasNarrowRegex(u)}function jH(u,p){return p._eraYearOrdinalRegex||uo}function L0(){var u=[],p=[],_=[],v=[],C,O,W,ae,_e,He=this.eras();for(C=0,O=He.length;C<O;++C)W=Tr(He[C].name),ae=Tr(He[C].abbr),_e=Tr(He[C].narrow),p.push(W),u.push(ae),_.push(_e),v.push(W),v.push(ae),v.push(_e);this._erasRegex=new RegExp("^("+v.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+p.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+_.join("|")+")","i")}re(0,["gg",2],0,function(){return this.weekYear()%100}),re(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Kp(u,p){re(0,[u,u.length],0,p)}Kp("gggg","weekYear"),Kp("ggggg","weekYear"),Kp("GGGG","isoWeekYear"),Kp("GGGGG","isoWeekYear"),oe("G",ya),oe("g",ya),oe("GG",Ae,vn),oe("gg",Ae,vn),oe("GGGG",cd,pa),oe("gggg",cd,pa),oe("GGGGG",vi,Bt),oe("ggggg",vi,Bt),Ut(["gggg","ggggg","GGGG","GGGGG"],function(u,p,_,v){p[v.substr(0,2)]=Pe(u)}),Ut(["gg","GG"],function(u,p,_,v){p[v]=e.parseTwoDigitYear(u)});function BH(u){return Cx.call(this,u,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function UH(u){return Cx.call(this,u,this.isoWeek(),this.isoWeekday(),1,4)}function HH(){return Zn(this.year(),1,4)}function $H(){return Zn(this.isoWeekYear(),1,4)}function zH(){var u=this.localeData()._week;return Zn(this.year(),u.dow,u.doy)}function WH(){var u=this.localeData()._week;return Zn(this.weekYear(),u.dow,u.doy)}function Cx(u,p,_,v,C){var O;return u==null?Ci(this,v,C).year:(O=Zn(u,v,C),p>O&&(p=O),qH.call(this,u,p,_,v,C))}function qH(u,p,_,v,C){var O=xr(u,p,_,v,C),W=_a(O.year,0,O.dayOfYear);return this.year(W.getUTCFullYear()),this.month(W.getUTCMonth()),this.date(W.getUTCDate()),this}re("Q",0,"Qo","quarter"),oe("Q",up),Ke("Q",function(u,p){p[Wr]=(Pe(u)-1)*3});function GH(u){return u==null?Math.ceil((this.month()+1)/3):this.month((u-1)*3+this.month()%3)}re("D",["DD",2],"Do","date"),oe("D",Ae,fo),oe("DD",Ae,vn),oe("Do",function(u,p){return u?p._dayOfMonthOrdinalParse||p._ordinalParse:p._dayOfMonthOrdinalParseLenient}),Ke(["D","DD"],Dr),Ke("Do",function(u,p){p[Dr]=Pe(u.match(Ae)[0])});var Tx=mo("Date",!0);re("DDD",["DDDD",3],"DDDo","dayOfYear"),oe("DDD",ma),oe("DDDD",qc),Ke(["DDD","DDDD"],function(u,p,_){_._dayOfYear=Pe(u)});function YH(u){var p=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return u==null?p:this.add(u-p,"d")}re("m",["mm",2],0,"minute"),oe("m",Ae,Yc),oe("mm",Ae,vn),Ke(["m","mm"],dr);var KH=mo("Minutes",!1);re("s",["ss",2],0,"second"),oe("s",Ae,Yc),oe("ss",Ae,vn),Ke(["s","ss"],qr);var QH=mo("Seconds",!1);re("S",0,0,function(){return~~(this.millisecond()/100)}),re(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),re(0,["SSS",3],0,"millisecond"),re(0,["SSSS",4],0,function(){return this.millisecond()*10}),re(0,["SSSSS",5],0,function(){return this.millisecond()*100}),re(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),re(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),re(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),re(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),oe("S",ma,up),oe("SS",ma,vn),oe("SSS",ma,qc);var fs,Dx;for(fs="SSSS";fs.length<=9;fs+="S")oe(fs,uo);function ZH(u,p){p[Sr]=Pe(("0."+u)*1e3)}for(fs="S";fs.length<=9;fs+="S")Ke(fs,ZH);Dx=mo("Milliseconds",!1),re("z",0,0,"zoneAbbr"),re("zz",0,0,"zoneName");function XH(){return this._isUTC?"UTC":""}function JH(){return this._isUTC?"Coordinated Universal Time":""}var X=z.prototype;X.add=WU,X.calendar=XU,X.clone=JU,X.diff=sH,X.endOf=mH,X.format=uH,X.from=dH,X.fromNow=hH,X.to=fH,X.toNow=pH,X.get=pp,X.invalidAt=TH,X.isAfter=eH,X.isBefore=tH,X.isBetween=nH,X.isSame=rH,X.isSameOrAfter=iH,X.isSameOrBefore=oH,X.isValid=IH,X.lang=vx,X.locale=_x,X.localeData=bx,X.max=hs,X.min=un,X.parsingFlags=CH,X.set=gp,X.startOf=gH,X.subtract=qU,X.toArray=bH,X.toObject=EH,X.toDate=vH,X.toISOString=cH,X.inspect=lH,typeof Symbol<"u"&&Symbol.for!=null&&(X[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),X.toJSON=wH,X.toString=aH,X.unix=_H,X.valueOf=yH,X.creationData=DH,X.eraName=MH,X.eraNarrow=RH,X.eraAbbr=PH,X.eraYear=kH,X.year=Gr,X.isLeapYear=fp,X.weekYear=BH,X.isoWeekYear=UH,X.quarter=X.quarters=GH,X.month=gd,X.daysInMonth=vp,X.week=X.weeks=ba,X.isoWeek=X.isoWeeks=w0,X.weeksInYear=zH,X.weeksInWeekYear=WH,X.isoWeeksInYear=HH,X.isoWeeksInISOWeekYear=$H,X.date=Tx,X.day=X.days=Di,X.weekday=A0,X.isoWeekday=x0,X.dayOfYear=YH,X.hour=X.hours=xp,X.minute=X.minutes=KH,X.second=X.seconds=QH,X.millisecond=X.milliseconds=Dx,X.utcOffset=PU,X.utc=NU,X.local=OU,X.parseZone=FU,X.hasAlignedHourOffset=LU,X.isDST=VU,X.isLocal=BU,X.isUtcOffset=UU,X.isUtc=fx,X.isUTC=fx,X.zoneAbbr=XH,X.zoneName=JH,X.dates=T("dates accessor is deprecated. Use date instead.",Tx),X.months=T("months accessor is deprecated. Use month instead",gd),X.years=T("years accessor is deprecated. Use year instead",Gr),X.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",kU),X.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",jU);function e$(u){return Se(u*1e3)}function t$(){return Se.apply(null,arguments).parseZone()}function Sx(u){return u}var Ye=mt.prototype;Ye.calendar=ot,Ye.longDateFormat=m0,Ye.invalidDate=zc,Ye.ordinal=id,Ye.preparse=Sx,Ye.postformat=Sx,Ye.relativeTime=sp,Ye.pastFuture=ap,Ye.set=F,Ye.eras=SH,Ye.erasParse=AH,Ye.erasConvertYear=xH,Ye.erasAbbrRegex=OH,Ye.erasNameRegex=NH,Ye.erasNarrowRegex=FH,Ye.months=mp,Ye.monthsShort=yp,Ye.monthsParse=pd,Ye.monthsRegex=E0,Ye.monthsShortRegex=b0,Ye.week=Ep,Ye.firstDayOfYear=va,Ye.firstDayOfWeek=Xc,Ye.weekdays=Dp,Ye.weekdaysMin=T0,Ye.weekdaysShort=as,Ye.weekdaysParse=S0,Ye.weekdaysRegex=wa,Ye.weekdaysShortRegex=Jc,Ye.weekdaysMinRegex=Sp,Ye.isPM=M0,Ye.meridiem=Mp;function Qp(u,p,_,v){var C=Yr(),O=g().set(v,p);return C[_](O,u)}function Ax(u,p,_){if(c(u)&&(p=u,u=void 0),u=u||"",p!=null)return Qp(u,p,_,"month");var v,C=[];for(v=0;v<12;v++)C[v]=Qp(u,v,_,"month");return C}function V0(u,p,_,v){typeof u=="boolean"?(c(p)&&(_=p,p=void 0),p=p||""):(p=u,_=p,u=!1,c(p)&&(_=p,p=void 0),p=p||"");var C=Yr(),O=u?C._week.dow:0,W,ae=[];if(_!=null)return Qp(p,(_+O)%7,v,"day");for(W=0;W<7;W++)ae[W]=Qp(p,(W+O)%7,v,"day");return ae}function n$(u,p){return Ax(u,p,"months")}function r$(u,p){return Ax(u,p,"monthsShort")}function i$(u,p,_){return V0(u,p,_,"weekdays")}function o$(u,p,_){return V0(u,p,_,"weekdaysShort")}function s$(u,p,_){return V0(u,p,_,"weekdaysMin")}hr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(u){var p=u%10,_=Pe(u%100/10)===1?"th":p===1?"st":p===2?"nd":p===3?"rd":"th";return u+_}}),e.lang=T("moment.lang is deprecated. Use moment.locale instead.",hr),e.langData=T("moment.langData is deprecated. Use moment.localeData instead.",Yr);var wo=Math.abs;function a$(){var u=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),u.milliseconds=wo(u.milliseconds),u.seconds=wo(u.seconds),u.minutes=wo(u.minutes),u.hours=wo(u.hours),u.months=wo(u.months),u.years=wo(u.years),this}function xx(u,p,_,v){var C=Kr(p,_);return u._milliseconds+=v*C._milliseconds,u._days+=v*C._days,u._months+=v*C._months,u._bubble()}function c$(u,p){return xx(this,u,p,1)}function l$(u,p){return xx(this,u,p,-1)}function Mx(u){return u<0?Math.floor(u):Math.ceil(u)}function u$(){var u=this._milliseconds,p=this._days,_=this._months,v=this._data,C,O,W,ae,_e;return u>=0&&p>=0&&_>=0||u<=0&&p<=0&&_<=0||(u+=Mx(j0(_)+p)*864e5,p=0,_=0),v.milliseconds=u%1e3,C=bn(u/1e3),v.seconds=C%60,O=bn(C/60),v.minutes=O%60,W=bn(O/60),v.hours=W%24,p+=bn(W/24),_e=bn(Rx(p)),_+=_e,p-=Mx(j0(_e)),ae=bn(_/12),_%=12,v.days=p,v.months=_,v.years=ae,this}function Rx(u){return u*4800/146097}function j0(u){return u*146097/4800}function d$(u){if(!this.isValid())return NaN;var p,_,v=this._milliseconds;if(u=Vn(u),u==="month"||u==="quarter"||u==="year")switch(p=this._days+v/864e5,_=this._months+Rx(p),u){case"month":return _;case"quarter":return _/3;case"year":return _/12}else switch(p=this._days+Math.round(j0(this._months)),u){case"week":return p/7+v/6048e5;case"day":return p+v/864e5;case"hour":return p*24+v/36e5;case"minute":return p*1440+v/6e4;case"second":return p*86400+v/1e3;case"millisecond":return Math.floor(p*864e5)+v;default:throw new Error("Unknown unit "+u)}}function Io(u){return function(){return this.as(u)}}var Px=Io("ms"),h$=Io("s"),f$=Io("m"),p$=Io("h"),g$=Io("d"),m$=Io("w"),y$=Io("M"),_$=Io("Q"),v$=Io("y"),b$=Px;function E$(){return Kr(this)}function w$(u){return u=Vn(u),this.isValid()?this[u+"s"]():NaN}function Ta(u){return function(){return this.isValid()?this._data[u]:NaN}}var I$=Ta("milliseconds"),C$=Ta("seconds"),T$=Ta("minutes"),D$=Ta("hours"),S$=Ta("days"),A$=Ta("months"),x$=Ta("years");function M$(){return bn(this.days()/7)}var Co=Math.round,ll={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function R$(u,p,_,v,C){return C.relativeTime(p||1,!!_,u,v)}function P$(u,p,_,v){var C=Kr(u).abs(),O=Co(C.as("s")),W=Co(C.as("m")),ae=Co(C.as("h")),_e=Co(C.as("d")),He=Co(C.as("M")),Bn=Co(C.as("w")),To=Co(C.as("y")),ps=O<=_.ss&&["s",O]||O<_.s&&["ss",O]||W<=1&&["m"]||W<_.m&&["mm",W]||ae<=1&&["h"]||ae<_.h&&["hh",ae]||_e<=1&&["d"]||_e<_.d&&["dd",_e];return _.w!=null&&(ps=ps||Bn<=1&&["w"]||Bn<_.w&&["ww",Bn]),ps=ps||He<=1&&["M"]||He<_.M&&["MM",He]||To<=1&&["y"]||["yy",To],ps[2]=p,ps[3]=+u>0,ps[4]=v,R$.apply(null,ps)}function k$(u){return u===void 0?Co:typeof u=="function"?(Co=u,!0):!1}function N$(u,p){return ll[u]===void 0?!1:p===void 0?ll[u]:(ll[u]=p,u==="s"&&(ll.ss=p-1),!0)}function O$(u,p){if(!this.isValid())return this.localeData().invalidDate();var _=!1,v=ll,C,O;return typeof u=="object"&&(p=u,u=!1),typeof u=="boolean"&&(_=u),typeof p=="object"&&(v=Object.assign({},ll,p),p.s!=null&&p.ss==null&&(v.ss=p.s-1)),C=this.localeData(),O=P$(this,!_,v,C),_&&(O=C.pastFuture(+this,O)),C.postformat(O)}var B0=Math.abs;function ul(u){return(u>0)-(u<0)||+u}function Zp(){if(!this.isValid())return this.localeData().invalidDate();var u=B0(this._milliseconds)/1e3,p=B0(this._days),_=B0(this._months),v,C,O,W,ae=this.asSeconds(),_e,He,Bn,To;return ae?(v=bn(u/60),C=bn(v/60),u%=60,v%=60,O=bn(_/12),_%=12,W=u?u.toFixed(3).replace(/\.?0+$/,""):"",_e=ae<0?"-":"",He=ul(this._months)!==ul(ae)?"-":"",Bn=ul(this._days)!==ul(ae)?"-":"",To=ul(this._milliseconds)!==ul(ae)?"-":"",_e+"P"+(O?He+O+"Y":"")+(_?He+_+"M":"")+(p?Bn+p+"D":"")+(C||v||u?"T":"")+(C?To+C+"H":"")+(v?To+v+"M":"")+(u?To+W+"S":"")):"P0D"}var ze=zp.prototype;ze.isValid=AU,ze.abs=a$,ze.add=c$,ze.subtract=l$,ze.as=d$,ze.asMilliseconds=Px,ze.asSeconds=h$,ze.asMinutes=f$,ze.asHours=p$,ze.asDays=g$,ze.asWeeks=m$,ze.asMonths=y$,ze.asQuarters=_$,ze.asYears=v$,ze.valueOf=b$,ze._bubble=u$,ze.clone=E$,ze.get=w$,ze.milliseconds=I$,ze.seconds=C$,ze.minutes=T$,ze.hours=D$,ze.days=S$,ze.weeks=M$,ze.months=A$,ze.years=x$,ze.humanize=O$,ze.toISOString=Zp,ze.toString=Zp,ze.toJSON=Zp,ze.locale=_x,ze.localeData=bx,ze.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zp),ze.lang=vx,re("X",0,0,"unix"),re("x",0,0,"valueOf"),oe("x",ya),oe("X",y0),Ke("X",function(u,p,_){_._d=new Date(parseFloat(u)*1e3)}),Ke("x",function(u,p,_){_._d=new Date(Pe(u))});return e.version="2.30.1",t(Se),e.fn=X,e.min=sl,e.max=bd,e.now=DU,e.utc=g,e.unix=e$,e.months=n$,e.isDate=l,e.locale=hr,e.invalid=k,e.duration=Kr,e.isMoment=$,e.weekdays=i$,e.parseZone=t$,e.localeData=Yr,e.isDuration=Wp,e.monthsShort=r$,e.weekdaysMin=s$,e.defineLocale=tl,e.updateLocale=nl,e.locales=Np,e.weekdaysShort=o$,e.normalizeUnits=Vn,e.relativeTimeRounding=k$,e.relativeTimeThreshold=N$,e.calendarFormat=ZU,e.prototype=X,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Mn=null,Xp=!1,W0=1,q$=null,Un=Symbol("SIGNAL");function xe(n){let e=Mn;return Mn=n,e}function eg(){return Mn}var wd={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Id(n){if(Xp)throw new Error("");if(Mn===null)return;Mn.consumerOnSignalRead(n);let e=Mn.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Mn.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Mn.producers,t!==void 0&&t.producer===n)){Mn.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Mn&&(!r||Y$(i,Mn)))return;let o=dl(Mn),s={producer:n,consumer:Mn,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Mn.producersTail=s,e!==void 0?e.nextProducer=s:Mn.producers=s,o&&Bx(n,s)}function Lx(){W0++}function q0(n){if(!(dl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===W0)){if(!n.producerMustRecompute(n)&&!ng(n)){z0(n);return}n.producerRecomputeValue(n),z0(n)}}function G0(n){if(n.consumers===void 0)return;let e=Xp;Xp=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||G$(r)}}finally{Xp=e}}function Y0(){return Mn?.consumerAllowSignalWrites!==!1}function G$(n){n.dirty=!0,G0(n),n.consumerMarkedDirty?.(n)}function z0(n){n.dirty=!1,n.lastCleanEpoch=W0}function Cd(n){return n&&Vx(n),xe(n)}function Vx(n){n.producersTail=void 0,n.recomputing=!0}function tg(n,e){xe(e),n&&jx(n)}function jx(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(dl(n))do t=K0(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ng(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(q0(t),r!==t.version))return!0}return!1}function Td(n){if(dl(n)){let e=n.producers;for(;e!==void 0;)e=K0(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Bx(n,e){let t=n.consumersTail,r=dl(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Bx(i.producer,i)}function K0(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!dl(e)){let o=e.producers;for(;o!==void 0;)o=K0(o)}return t}function dl(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Q0(n){q$?.(n)}function Y$(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Z0(n,e){return Object.is(n,e)}function rg(n,e){let t=Object.create(K$);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(q0(t),Id(t),t.value===Jp)throw t.error;return t.value};return r[Un]=t,Q0(t),r}var H0=Symbol("UNSET"),$0=Symbol("COMPUTING"),Jp=Symbol("ERRORED"),K$=ye(J({},wd),{value:H0,dirty:!0,error:null,equal:Z0,kind:"computed",producerMustRecompute(n){return n.value===H0||n.value===$0},producerRecomputeValue(n){if(n.value===$0)throw new Error("");let e=n.value;n.value=$0;let t=Cd(n),r,i=!1;try{r=n.computation(),xe(null),i=e!==H0&&e!==Jp&&r!==Jp&&n.equal(e,r)}catch(o){r=Jp,n.error=o}finally{tg(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Q$(){throw new Error}var Ux=Q$;function Hx(n){Ux(n)}function X0(n){Ux=n}var Z$=null;function J0(n,e){let t=Object.create(ig);t.value=n,e!==void 0&&(t.equal=e);let r=()=>$x(t);return r[Un]=t,Q0(t),[r,s=>Dd(t,s),s=>zx(t,s)]}function $x(n){return Id(n),n.value}function Dd(n,e){Y0()||Hx(n),n.equal(n.value,e)||(n.value=e,X$(n))}function zx(n,e){Y0()||Hx(n),Dd(n,e(n.value))}var ig=ye(J({},wd),{equal:Z0,value:void 0,kind:"signal"});function X$(n){n.version++,Lx(),G0(n),Z$?.(n)}function eb(n){let e=xe(null);try{return n()}finally{xe(e)}}function Te(n){return typeof n=="function"}function hl(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var og=hl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Da(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var nn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Te(r))try{r()}catch(o){e=o instanceof og?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Wx(o)}catch(s){e=e??[],s instanceof og?e=[...e,...s.errors]:e.push(s)}}if(e)throw new og(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Wx(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Da(t,e)}remove(e){let{_finalizers:t}=this;t&&Da(t,e),e instanceof n&&e._removeParent(this)}};nn.EMPTY=(()=>{let n=new nn;return n.closed=!0,n})();var tb=nn.EMPTY;function sg(n){return n instanceof nn||n&&"closed"in n&&Te(n.remove)&&Te(n.add)&&Te(n.unsubscribe)}function Wx(n){Te(n)?n():n.unsubscribe()}var Qr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fl={setTimeout(n,e,...t){let{delegate:r}=fl;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fl;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ag(n){fl.setTimeout(()=>{let{onUnhandledError:e}=Qr;if(e)e(n);else throw n})}function Sd(){}var qx=nb("C",void 0,void 0);function Gx(n){return nb("E",void 0,n)}function Yx(n){return nb("N",n,void 0)}function nb(n,e,t){return{kind:n,value:e,error:t}}var Sa=null;function pl(n){if(Qr.useDeprecatedSynchronousErrorHandling){let e=!Sa;if(e&&(Sa={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Sa;if(Sa=null,t)throw r}}else n()}function Kx(n){Qr.useDeprecatedSynchronousErrorHandling&&Sa&&(Sa.errorThrown=!0,Sa.error=n)}var Aa=class extends nn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sg(e)&&e.add(this)):this.destination=t3}static create(e,t,r){return new gl(e,t,r)}next(e){this.isStopped?ib(Yx(e),this):this._next(e)}error(e){this.isStopped?ib(Gx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ib(qx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},J$=Function.prototype.bind;function rb(n,e){return J$.call(n,e)}var ob=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cg(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cg(r)}else cg(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cg(t)}}},gl=class extends Aa{constructor(e,t,r){super();let i;if(Te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Qr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rb(e.next,o),error:e.error&&rb(e.error,o),complete:e.complete&&rb(e.complete,o)}):i=e}this.destination=new ob(i)}};function cg(n){Qr.useDeprecatedSynchronousErrorHandling?Kx(n):ag(n)}function e3(n){throw n}function ib(n,e){let{onStoppedNotification:t}=Qr;t&&fl.setTimeout(()=>t(n,e))}var t3={closed:!0,next:Sd,error:e3,complete:Sd};var ml=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zr(n){return n}function lg(...n){return sb(n)}function sb(n){return n.length===0?Zr:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=r3(t)?t:new gl(t,r,i);return pl(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Qx(r),new r((i,o)=>{let s=new gl({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ml](){return this}pipe(...t){return sb(t)(this)}toPromise(t){return t=Qx(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Qx(n){var e;return(e=n??Qr.Promise)!==null&&e!==void 0?e:Promise}function n3(n){return n&&Te(n.next)&&Te(n.error)&&Te(n.complete)}function r3(n){return n&&n instanceof Aa||n3(n)&&sg(n)}function i3(n){return Te(n?.lift)}function Xe(n){return e=>{if(i3(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(n,e,t,r,i){return new ab(n,e,t,r,i)}var ab=class extends Aa{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Zx=hl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var dn=(()=>{class n extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ug(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Zx}next(t){pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?tb:(this.currentObservers=null,o.push(t),new nn(()=>{this.currentObservers=null,Da(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Me;return t.source=this,t}}return n.create=(e,t)=>new ug(e,t),n})(),ug=class extends dn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:tb}};var En=class extends dn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var cb={now(){return(cb.delegate||Date).now()},delegate:void 0};var dg=class extends nn{constructor(e,t){super()}schedule(e,t=0){return this}};var Ad={setInterval(n,e,...t){let{delegate:r}=Ad;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ad;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var yl=class extends dg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ad.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ad.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Da(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _l=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};_l.now=cb.now;var vl=class extends _l{constructor(e,t=_l.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var lb=new vl(yl);var hg=class extends yl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var fg=class extends vl{};var ub=new fg(hg);var Jn=new Me(n=>n.complete());function Xx(n){return n&&Te(n.schedule)}function Jx(n){return n[n.length-1]}function pg(n){return Te(Jx(n))?n.pop():void 0}function gs(n){return Xx(Jx(n))?n.pop():void 0}function db(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tM(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function eM(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xa(n){return this instanceof xa?(this.v=n,this):new xa(n)}function nM(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(E){return Promise.resolve(E).then(y,f)}}function a(y,E){r[y]&&(i[y]=function(w){return new Promise(function(I,k){o.push([y,w,I,k])>1||c(y,w)})},E&&(i[y]=E(i[y])))}function c(y,E){try{l(r[y](E))}catch(w){g(o[0][3],w)}}function l(y){y.value instanceof xa?Promise.resolve(y.value.v).then(d,f):g(o[0][2],y)}function d(y){c("next",y)}function f(y){c("throw",y)}function g(y,E){y(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function rM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eM=="function"?eM(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var gg=n=>n&&typeof n.length=="number"&&typeof n!="function";function mg(n){return Te(n?.then)}function yg(n){return Te(n[ml])}function _g(n){return Symbol.asyncIterator&&Te(n?.[Symbol.asyncIterator])}function vg(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function o3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bg=o3();function Eg(n){return Te(n?.[bg])}function wg(n){return nM(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield xa(t.read());if(i)return yield xa(void 0);yield yield xa(r)}}finally{t.releaseLock()}})}function Ig(n){return Te(n?.getReader)}function Wt(n){if(n instanceof Me)return n;if(n!=null){if(yg(n))return s3(n);if(gg(n))return a3(n);if(mg(n))return c3(n);if(_g(n))return iM(n);if(Eg(n))return l3(n);if(Ig(n))return u3(n)}throw vg(n)}function s3(n){return new Me(e=>{let t=n[ml]();if(Te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function a3(n){return new Me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function c3(n){return new Me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ag)})}function l3(n){return new Me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iM(n){return new Me(e=>{d3(n,e).catch(t=>e.error(t))})}function u3(n){return iM(wg(n))}function d3(n,e){var t,r,i,o;return tM(this,void 0,void 0,function*(){try{for(t=rM(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function er(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ms(n,e=0){return Xe((t,r)=>{t.subscribe(Je(r,i=>er(r,n,()=>r.next(i),e),()=>er(r,n,()=>r.complete(),e),i=>er(r,n,()=>r.error(i),e)))})}function ys(n,e=0){return Xe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function oM(n,e){return Wt(n).pipe(ys(e),ms(e))}function sM(n,e){return Wt(n).pipe(ys(e),ms(e))}function aM(n,e){return new Me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cM(n,e){return new Me(t=>{let r;return er(t,e,()=>{r=n[bg](),er(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}function Cg(n,e){if(!n)throw new Error("Iterable cannot be null");return new Me(t=>{er(t,e,()=>{let r=n[Symbol.asyncIterator]();er(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function lM(n,e){return Cg(wg(n),e)}function uM(n,e){if(n!=null){if(yg(n))return oM(n,e);if(gg(n))return aM(n,e);if(mg(n))return sM(n,e);if(_g(n))return Cg(n,e);if(Eg(n))return cM(n,e);if(Ig(n))return lM(n,e)}throw vg(n)}function Ht(n,e){return e?uM(n,e):Wt(n)}function $e(...n){let e=gs(n);return Ht(n,e)}function hb(n,e){let t=Te(n)?n:()=>n,r=i=>i.error(t());return new Me(e?i=>e.schedule(r,0,i):r)}function Tg(n){return!!n&&(n instanceof Me||Te(n.lift)&&Te(n.subscribe))}var Ma=hl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function at(n,e){return Xe((t,r)=>{let i=0;t.subscribe(Je(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:h3}=Array;function f3(n,e){return h3(e)?n(...e):n(e)}function Dg(n){return at(e=>f3(n,e))}var{isArray:p3}=Array,{getPrototypeOf:g3,prototype:m3,keys:y3}=Object;function Sg(n){if(n.length===1){let e=n[0];if(p3(e))return{args:e,keys:null};if(_3(e)){let t=y3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function _3(n){return n&&typeof n=="object"&&g3(n)===m3}function Ag(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function fb(...n){let e=gs(n),t=pg(n),{args:r,keys:i}=Sg(n);if(r.length===0)return Ht([],e);let o=new Me(v3(r,e,i?s=>Ag(i,s):Zr));return t?o.pipe(Dg(t)):o}function v3(n,e,t=Zr){return r=>{dM(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)dM(e,()=>{let l=Ht(n[c],e),d=!1;l.subscribe(Je(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dM(n,e,t){n?er(t,n,e):e()}function hM(n,e,t,r,i,o,s,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&e.complete()},y=w=>l<r?E(w):c.push(w),E=w=>{o&&e.next(w),l++;let I=!1;Wt(t(w,d++)).subscribe(Je(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){let k=c.shift();s?er(e,s,()=>E(k)):E(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(Je(e,y,()=>{f=!0,g()})),()=>{a?.()}}function Hn(n,e,t=1/0){return Te(e)?Hn((r,i)=>at((o,s)=>e(r,o,i,s))(Wt(n(r,i))),t):(typeof e=="number"&&(t=e),Xe((r,i)=>hM(r,i,n,t)))}function fM(n=1/0){return Hn(Zr,n)}function pM(){return fM(1)}function bl(...n){return pM()(Ht(n,gs(n)))}function xd(n){return new Me(e=>{Wt(n()).subscribe(e)})}function pb(...n){let e=pg(n),{args:t,keys:r}=Sg(n),i=new Me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;Wt(t[d]).subscribe(Je(o,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?Ag(r,a):a),o.complete())}))}});return e?i.pipe(Dg(e)):i}function Xr(n,e){return Xe((t,r)=>{let i=0;t.subscribe(Je(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Md(n){return Xe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Je(t,void 0,void 0,s=>{o=Wt(n(s,Md(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function xg(n,e){return Te(e)?Hn(n,e,1):Hn(n,1)}function gb(n){return Xe((e,t)=>{let r=!1;e.subscribe(Je(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Do(n){return n<=0?()=>Jn:Xe((e,t)=>{let r=0;e.subscribe(Je(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gM(n=b3){return Xe((e,t)=>{let r=!1;e.subscribe(Je(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function b3(){return new Ma}function mb(n){return Xe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function So(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Xr((i,o)=>n(i,o,r)):Zr,Do(1),t?gb(e):gM(()=>new Ma))}function Mg(n){return n<=0?()=>Jn:Xe((e,t)=>{let r=[];e.subscribe(Je(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rg(...n){let e=gs(n);return Xe((t,r)=>{(e?bl(n,t,e):bl(n,t)).subscribe(r)})}function Ai(n,e){return Xe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Je(r,c=>{i?.unsubscribe();let l=0,d=o++;Wt(n(c,d)).subscribe(i=Je(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Rd(n){return Xe((e,t)=>{Wt(n).subscribe(Je(t,()=>t.complete(),Sd)),!t.closed&&e.subscribe(t)})}function $n(n,e,t){let r=Te(n)||e||t?{next:n,error:e,complete:t}:n;return r?Xe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Je(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Zr}var yb;function Pg(){return yb}function xi(n){let e=yb;return yb=n,e}var mM=Symbol("NotFound");function El(n){return n===mM||n?.name==="\u0275NotFound"}var Pa=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},kb=new Pa("21.0.3");var Lg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ce=class extends Error{code;constructor(e,t){super(Il(e,t)),this.code=e}};function I3(n){return`NG0${Math.abs(n)}`}function Il(n,e){return`${I3(n)}${e?": "+e:""}`}var Jr=globalThis;function et(n){for(let e in n)if(n[e]===et)return e;throw Error("")}function EM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xo(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(xo).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Nb(n,e){return n?e?`${n} ${e}`:n:e||""}var C3=et({__forward_ref__:et});function pr(n){return n.__forward_ref__=pr,n.toString=function(){return xo(this())},n}function wn(n){return Ob(n)?n():n}function Ob(n){return typeof n=="function"&&n.hasOwnProperty(C3)&&n.__forward_ref__===pr}function fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Mo(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ld(n){return T3(n,Vg)}function Fb(n){return Ld(n)!==null}function T3(n,e){return n.hasOwnProperty(e)&&n[e]||null}function D3(n){let e=n?.[Vg]??null;return e||null}function vb(n){return n&&n.hasOwnProperty(Ng)?n[Ng]:null}var Vg=et({\u0275prov:et}),Ng=et({\u0275inj:et}),ue=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lb(n){return n&&!!n.\u0275providers}var Vb=et({\u0275cmp:et}),jb=et({\u0275dir:et}),Bb=et({\u0275pipe:et}),Ub=et({\u0275mod:et}),kd=et({\u0275fac:et}),Fa=et({__NG_ELEMENT_ID__:et}),yM=et({__NG_ENV_ID__:et});function Cl(n){return typeof n=="string"?n:n==null?"":String(n)}function wM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Cl(n)}var IM=et({ngErrorCode:et}),S3=et({ngErrorMessage:et}),A3=et({ngTokenPath:et});function Hb(n,e){return CM("",-200,e)}function jg(n,e){throw new ce(-201,!1)}function CM(n,e,t){let r=new ce(e,n);return r[IM]=e,r[S3]=n,t&&(r[A3]=t),r}function x3(n){return n[IM]}var bb;function TM(){return bb}function zn(n){let e=bb;return bb=n,e}function $b(n,e,t){let r=Ld(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;jg(n,"Injector")}var M3={},Ra=M3,Eb="__NG_DI_FLAG__",wb=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ka(t)||0;try{return this.injector.get(e,r&8?null:Ra,r)}catch(i){if(El(i))return i;throw i}}};function R3(n,e=0){let t=Pg();if(t===void 0)throw new ce(-203,!1);if(t===null)return $b(n,void 0,e);{let r=P3(e),i=t.retrieve(n,r);if(El(i)){if(r.optional)return null;throw i}return i}}function Re(n,e=0){return(TM()||R3)(wn(n),e)}function Z(n,e){return Re(n,ka(e))}function ka(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function P3(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ib(n){let e=[];for(let t=0;t<n.length;t++){let r=wn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ce(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=k3(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Re(i,o))}else e.push(Re(r))}return e}function DM(n,e){return n[Eb]=e,n.prototype[Eb]=e,n}function k3(n){return n[Eb]}function _s(n,e){let t=n.hasOwnProperty(kd);return t?n[kd]:null}function Bg(n,e){n.forEach(t=>Array.isArray(t)?Bg(t,e):e(t))}function zb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Vd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function SM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function AM(n,e,t){let r=Tl(n,e);return r>=0?n[r|1]=t:(r=~r,SM(n,r,e,t)),r}function Ug(n,e){let t=Tl(n,e);if(t>=0)return n[t|1]}function Tl(n,e){return N3(n,e,1)}function N3(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Es={},fr=[],Dl=new ue(""),Wb=new ue("",-1),qb=new ue(""),Nd=class{get(e,t=Ra){if(t===Ra){let i=CM("",-201);throw i.name="\u0275NotFound",i}return t}};function Gb(n){return n[Ub]||null}function ws(n){return n[Vb]||null}function Yb(n){return n[jb]||null}function xM(n){return n[Bb]||null}function gr(n){return{\u0275providers:n}}function MM(...n){return{\u0275providers:Kb(!0,n),\u0275fromNgModule:!0}}function Kb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Bg(e,s=>{let a=s;Og(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RM(i,o),t}function RM(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Qb(i,o=>{e(o,r)})}}function Og(n,e,t,r){if(n=wn(n),!n)return!1;let i=null,o=vb(n),s=!o&&ws(n);if(!o&&!s){let c=n.ngModule;if(o=vb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Og(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Bg(o.imports,d=>{Og(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&RM(l,e)}if(!a){let l=_s(i)||(()=>new i);e({provide:i,useFactory:l,deps:fr},i),e({provide:qb,useValue:i,multi:!0},i),e({provide:Dl,useValue:()=>Re(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Qb(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Qb(n,e){for(let t of n)Lb(t)&&(t=t.\u0275providers),Array.isArray(t)?Qb(t,e):e(t)}var O3=et({provide:String,useValue:et});function PM(n){return n!==null&&typeof n=="object"&&O3 in n}function F3(n){return!!(n&&n.useExisting)}function L3(n){return!!(n&&n.useFactory)}function Na(n){return typeof n=="function"}function kM(n){return!!n.useClass}var jd=new ue(""),kg={},_M={},_b;function Bd(){return _b===void 0&&(_b=new Nd),_b}var rn=class{},Oa=class extends rn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Tb(e,s=>this.processProvider(s)),this.records.set(Wb,wl(void 0,this)),i.has("environment")&&this.records.set(rn,wl(void 0,this));let o=this.records.get(jd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qb,fr,{self:!0}))}retrieve(e,t){let r=ka(t)||0;try{return this.get(e,Ra,r)}catch(i){if(El(i))return i;throw i}}destroy(){Pd(this),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return Pd(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pd(this);let t=xi(this),r=zn(void 0),i;try{return e()}finally{xi(t),zn(r)}}get(e,t=Ra,r){if(Pd(this),e.hasOwnProperty(yM))return e[yM](this);let i=ka(r),o,s=xi(this),a=zn(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let d=H3(e)&&Ld(e);d&&this.injectableDefInScope(d)?l=wl(Cb(e),kg):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?Bd():this.parent;return t=i&8&&t===Ra?null:t,c.get(e,t)}catch(c){let l=x3(c);throw l===-200||l===-201?new ce(l,null):c}finally{zn(a),xi(s)}}resolveInjectorInitializers(){let e=xe(null),t=xi(this),r=zn(void 0),i;try{let o=this.get(Dl,fr,{self:!0});for(let s of o)s()}finally{xi(t),zn(r),xe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(xo(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=wn(e);let t=Na(e)?e:wn(e&&e.provide),r=j3(e);if(!Na(e)&&e.multi===!0){let i=this.records.get(t);i||(i=wl(void 0,kg,!0),i.factory=()=>Ib(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=xe(null);try{if(t.value===_M)throw Hb(xo(e));return t.value===kg&&(t.value=_M,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&U3(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{xe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=wn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cb(n){let e=Ld(n),t=e!==null?e.factory:_s(n);if(t!==null)return t;if(n instanceof ue)throw new ce(204,!1);if(n instanceof Function)return V3(n);throw new ce(204,!1)}function V3(n){if(n.length>0)throw new ce(204,!1);let t=D3(n);return t!==null?()=>t.factory(n):()=>new n}function j3(n){if(PM(n))return wl(void 0,n.useValue);{let e=Zb(n);return wl(e,kg)}}function Zb(n,e,t){let r;if(Na(n)){let i=wn(n);return _s(i)||Cb(i)}else if(PM(n))r=()=>wn(n.useValue);else if(L3(n))r=()=>n.useFactory(...Ib(n.deps||[]));else if(F3(n))r=(i,o)=>Re(wn(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=wn(n&&(n.useClass||n.provide));if(B3(n))r=()=>new i(...Ib(n.deps));else return _s(i)||Cb(i)}return r}function Pd(n){if(n.destroyed)throw new ce(205,!1)}function wl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function B3(n){return!!n.deps}function U3(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function H3(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Tb(n,e){for(let t of n)Array.isArray(t)?Tb(t,e):t&&Lb(t)?Tb(t.\u0275providers,e):e(t)}function on(n,e){let t;n instanceof Oa?(Pd(n),t=n):t=new wb(n);let r,i=xi(t),o=zn(void 0);try{return e()}finally{xi(i),zn(o)}}function NM(){return TM()!==void 0||Pg()!=null}var ei=0,we=1,Ee=2,In=3,Mr=4,Rr=5,Ud=6,Sl=7,Rn=8,Is=9,Ri=10,xt=11,Al=12,Xb=13,La=14,Pr=15,Va=16,ja=17,Ba=18,Hd=19,Jb=20,Ao=21,Hg=22,$d=23,mr=24,Ua=25,zd=26,hn=27,OM=1;var Cs=7,Wd=8,qd=9,tr=10;function Pi(n){return Array.isArray(n)&&typeof n[OM]=="object"}function ti(n){return Array.isArray(n)&&n[OM]===!0}function eE(n){return(n.flags&4)!==0}function Ro(n){return n.componentOffset>-1}function xl(n){return(n.flags&1)===1}function ki(n){return!!n.template}function Ml(n){return(n[Ee]&512)!==0}function Ha(n){return(n[Ee]&256)===256}var FM="svg",LM="math";function kr(n){for(;Array.isArray(n);)n=n[ei];return n}function tE(n,e){return kr(e[n])}function Nr(n,e){return kr(e[n.index])}function $g(n,e){return n.data[e]}function zg(n,e){return n[e]}function nE(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Or(n,e){let t=e[n];return Pi(t)?t:t[ei]}function Wg(n){return(n[Ee]&128)===128}function VM(n){return ti(n[In])}function Gd(n,e){return e==null?null:n[e]}function rE(n){n[ja]=0}function iE(n){n[Ee]&1024||(n[Ee]|=1024,Wg(n)&&Rl(n))}function jM(n,e){for(;n>0;)e=e[La],n--;return e}function Yd(n){return!!(n[Ee]&9216||n[mr]?.dirty)}function qg(n){n[Ri].changeDetectionScheduler?.notify(8),n[Ee]&64&&(n[Ee]|=1024),Yd(n)&&Rl(n)}function Rl(n){n[Ri].changeDetectionScheduler?.notify(0);let e=vs(n);for(;e!==null&&!(e[Ee]&8192||(e[Ee]|=8192,!Wg(e)));)e=vs(e)}function oE(n,e){if(Ha(n))throw new ce(911,!1);n[Ao]===null&&(n[Ao]=[]),n[Ao].push(e)}function BM(n,e){if(n[Ao]===null)return;let t=n[Ao].indexOf(e);t!==-1&&n[Ao].splice(t,1)}function vs(n){let e=n[In];return ti(e)?e[In]:e}function UM(n){return n[Sl]??=[]}function HM(n){return n.cleanup??=[]}var Oe={lFrame:oR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Db=!1;function $M(){return Oe.lFrame.elementDepthCount}function zM(){Oe.lFrame.elementDepthCount++}function WM(){Oe.lFrame.elementDepthCount--}function Gg(){return Oe.bindingsEnabled}function qM(){return Oe.skipHydrationRootTNode!==null}function GM(n){return Oe.skipHydrationRootTNode===n}function YM(){Oe.skipHydrationRootTNode=null}function je(){return Oe.lFrame.lView}function Pn(){return Oe.lFrame.tView}function ee(n){return Oe.lFrame.contextLView=n,n[Rn]}function te(n){return Oe.lFrame.contextLView=null,n}function Wn(){let n=sE();for(;n!==null&&n.type===64;)n=n.parent;return n}function sE(){return Oe.lFrame.currentTNode}function KM(){let n=Oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Pl(n,e){let t=Oe.lFrame;t.currentTNode=n,t.isParent=e}function aE(){return Oe.lFrame.isParent}function QM(){Oe.lFrame.isParent=!1}function ZM(){return Oe.lFrame.contextLView}function cE(){return Db}function lE(n){let e=Db;return Db=n,e}function Kd(){let n=Oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function XM(n){return Oe.lFrame.bindingIndex=n}function $a(){return Oe.lFrame.bindingIndex++}function JM(n){let e=Oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function eR(){return Oe.lFrame.inI18n}function tR(n,e){let t=Oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yg(e)}function nR(){return Oe.lFrame.currentDirectiveIndex}function Yg(n){Oe.lFrame.currentDirectiveIndex=n}function rR(n){let e=Oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function uE(n){Oe.lFrame.currentQueryIndex=n}function $3(n){let e=n[we];return e.type===2?e.declTNode:e.type===1?n[Rr]:null}function dE(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=$3(o),i===null||(o=o[La],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Oe.lFrame=iR();return r.currentTNode=e,r.lView=n,!0}function Kg(n){let e=iR(),t=n[we];Oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function iR(){let n=Oe.lFrame,e=n===null?null:n.child;return e===null?oR(n):e}function oR(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function sR(){let n=Oe.lFrame;return Oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var hE=sR;function Qg(){let n=sR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function aR(n){return(Oe.lFrame.contextLView=jM(n,Oe.lFrame.contextLView))[Rn]}function za(){return Oe.lFrame.selectedIndex}function Ts(n){Oe.lFrame.selectedIndex=n}function Qd(){let n=Oe.lFrame;return $g(n.tView,n.selectedIndex)}function cR(){return Oe.lFrame.currentNamespace}var lR=!0;function Zg(){return lR}function Zd(n){lR=n}function Sb(n,e=null,t=null,r){let i=fE(n,e,t,r);return i.resolveInjectorInitializers(),i}function fE(n,e=null,t=null,r,i=new Set){let o=[t||fr,MM(n)];return r=r||(typeof n=="object"?void 0:xo(n)),new Oa(o,e||Bd(),r||null,i)}var Lt=class n{static THROW_IF_NOT_FOUND=Ra;static NULL=new Nd;static create(e,t){if(Array.isArray(e))return Sb({name:""},t,e,"");{let r=e.name??"";return Sb({name:r},e.parent,e.providers,r)}}static \u0275prov=fe({token:n,providedIn:"any",factory:()=>Re(Wb)});static __NG_ELEMENT_ID__=-1},fn=new ue(""),Ni=(()=>{class n{static __NG_ELEMENT_ID__=z3;static __NG_ENV_ID__=t=>t}return n})(),Ab=class extends Ni{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ha(this._lView)}onDestroy(e){let t=this._lView;return oE(t,e),()=>BM(t,e)}};function z3(){return new Ab(je())}var uR=!1,Po=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new En(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Me(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),xb=class extends dn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,NM()&&(this.destroyRef=Z(Ni,{optional:!0})??void 0,this.pendingTasks=Z(Po,{optional:!0})??void 0)}emit(e){let t=xe(null);try{super.next(e)}finally{xe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof nn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},qt=xb;function Fg(...n){}function pE(n){let e,t;function r(){n=Fg;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function gE(n){return queueMicrotask(()=>n()),()=>{n=Fg}}var mE="isAngularZone",Od=mE+"_ID",W3=0,dt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new qt(!1);onMicrotaskEmpty=new qt(!1);onStable=new qt(!1);onError=new qt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=uR}=e;if(typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Y3(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mE)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ce(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,q3,Fg,Fg);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},q3={};function yE(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function G3(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pE(()=>{n.callbackScheduled=!1,Mb(n),n.isCheckStableRunning=!0,yE(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Mb(n)}function Y3(n){let e=()=>{G3(n)},t=W3++;n._inner=n._inner.fork({name:"angular",properties:{[mE]:!0,[Od]:t,[Od+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(K3(c))return r.invokeTask(o,s,a,c);try{return vM(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),bM(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return vM(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Q3(c)&&e(),bM(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Mb(n),yE(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Mb(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function vM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bM(n){n._nesting--,yE(n)}var Fd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new qt;onMicrotaskEmpty=new qt;onStable=new qt;onError=new qt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function K3(n){return dR(n,"__ignore_ng_zone__")}function Q3(n){return dR(n,"__scheduler_tick__")}function dR(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Mi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ni=new ue("",{factory:()=>{let n=Z(dt),e=Z(rn),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(Mi),t.handleError(r))})}}}),hR={provide:Dl,useValue:()=>{let n=Z(Mi,{optional:!0})},multi:!0};function nr(n,e){let[t,r,i]=J0(n,e?.equal),o=t,s=o[Un];return o.set=r,o.update=i,o.asReadonly=fR.bind(o),o}function fR(){let n=this[Un];if(n.readonlyFn===void 0){let e=()=>this();e[Un]=n,n.readonlyFn=e}return n.readonlyFn}var Xg=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Z3}return n})();function Z3(){return new Xg(je(),Wn())}var bs=class{},Xd=new ue("",{factory:()=>!0});var _E=new ue(""),kl=(()=>{class n{internalPendingTasks=Z(Po);scheduler=Z(bs);errorHandler=Z(ni);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),vE=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new Rb})}return n})(),Rb=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Pb=class{[Un];constructor(e){this[Un]=e}destroy(){this[Un].destroy()}};function sn(n){return eb(n)}function Bl(n){return{toString:n}.toString()}var Jg="__parameters__";function o4(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function s4(n,e,t){return Bl(()=>{let r=o4(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(Jg)?c[Jg]:Object.defineProperty(c,Jg,{value:[]})[Jg];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var kn=DM(s4("Optional"),8);function a4(n){return typeof n=="function"}function YR(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var am=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Qa=(()=>{let n=()=>KR;return n.ngInherit=!0,n})();function KR(n){return n.type.prototype.ngOnChanges&&(n.setInput=l4),c4}function c4(){let n=ZR(this),e=n?.current;if(e){let t=n.previous;if(t===Es)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function l4(n,e,t,r,i){let o=this.declaredInputs[r],s=ZR(n)||u4(n,{previous:Es,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new am(l&&l.currentValue,t,c===Es),YR(n,e,i,t)}var QR="__ngSimpleChanges__";function ZR(n){return n[QR]||null}function u4(n,e){return n[QR]=e}var pR=[];var tt=function(n,e=null,t){for(let r=0;r<pR.length;r++){let i=pR[r];i(n,e,t)}},qe=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(qe||{});function d4(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=KR(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function XR(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function im(n,e,t){JR(n,e,3,t)}function om(n,e,t,r){(n[Ee]&3)===t&&JR(n,e,t,r)}function bE(n,e){let t=n[Ee];(t&3)===e&&(t&=16383,t+=1,n[Ee]=t)}function JR(n,e,t,r){let i=r!==void 0?n[ja]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[ja]+=65536),(a<o||o==-1)&&(h4(n,t,e,c),n[ja]=(n[ja]&4294901760)+c+2),c++}function gR(n,e){tt(qe.LifecycleHookStart,n,e);let t=xe(null);try{e.call(n)}finally{xe(t),tt(qe.LifecycleHookEnd,n,e)}}function h4(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Ee]>>14<n[ja]>>16&&(n[Ee]&3)===e&&(n[Ee]+=16384,gR(a,o)):gR(a,o)}var Ol=-1,qa=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function f4(n){return(n.flags&8)!==0}function p4(n){return(n.flags&16)!==0}function g4(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];y4(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function m4(n){return n===3||n===4||n===6}function y4(n){return n.charCodeAt(0)===64}function nh(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?mR(n,t,i,null,e[++r]):mR(n,t,i,null,null))}}return n}function mR(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function e1(n){return n!==Ol}function cm(n){return n&32767}function _4(n){return n>>16}function lm(n,e){let t=_4(n),r=e;for(;t>0;)r=r[La],t--;return r}var RE=!0;function um(n){let e=RE;return RE=n,e}var v4=256,t1=v4-1,n1=5,b4=0,Oi={};function E4(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fa)&&(r=t[Fa]),r==null&&(r=t[Fa]=b4++);let i=r&t1,o=1<<i;e.data[n+(i>>n1)]|=o}function dm(n,e){let t=r1(n,e);if(t!==-1)return t;let r=e[we];r.firstCreatePass&&(n.injectorIndex=e.length,EE(r.data,n),EE(e,null),EE(r.blueprint,null));let i=QE(n,e),o=n.injectorIndex;if(e1(i)){let s=cm(i),a=lm(i,e),c=a[we].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function EE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function r1(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function QE(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=c1(i),r===null)return Ol;if(t++,i=i[La],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ol}function PE(n,e,t){E4(n,e,t)}function i1(n,e,t){if(t&8||n!==void 0)return n;jg(e,"NodeInjector")}function o1(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Is],o=zn(void 0);try{return i?i.get(e,r,t&8):$b(e,r,t&8)}finally{zn(o)}}return i1(r,e,t)}function s1(n,e,t,r=0,i){if(n!==null){if(e[Ee]&2048&&!(r&2)){let s=D4(n,e,t,r,Oi);if(s!==Oi)return s}let o=a1(n,e,t,r,Oi);if(o!==Oi)return o}return o1(e,t,r,i)}function a1(n,e,t,r,i){let o=C4(t);if(typeof o=="function"){if(!dE(e,n,r))return r&1?i1(i,t,r):o1(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))jg(t);else return s}finally{hE()}}else if(typeof o=="number"){let s=null,a=r1(n,e),c=Ol,l=r&1?e[Pr][Rr]:null;for((a===-1||r&4)&&(c=a===-1?QE(n,e):e[a+8],c===Ol||!_R(r,!1)?a=-1:(s=e[we],a=cm(c),e=lm(c,e)));a!==-1;){let d=e[we];if(yR(o,a,d.data)){let f=w4(a,e,t,s,r,l);if(f!==Oi)return f}c=e[a+8],c!==Ol&&_R(r,e[we].data[a+8]===l)&&yR(o,a,e)?(s=d,a=cm(c),e=lm(c,e)):a=-1}}return i}function w4(n,e,t,r,i,o){let s=e[we],a=s.data[n+8],c=r==null?Ro(a)&&RE:r!=s&&(a.type&3)!==0,l=i&1&&o===a,d=I4(a,s,t,c,l);return d!==null?hm(e,s,d,a,i):Oi}function I4(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:l;for(let y=f;y<g;y++){let E=s[y];if(y<c&&t===E||y>=c&&E.type===t)return y}if(i){let y=s[c];if(y&&ki(y)&&y.type===t)return c}return null}function hm(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof qa){let a=o;if(a.resolving){let y=wM(s[t]);throw Hb(y)}let c=um(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],d,f=a.injectImpl?zn(a.injectImpl):null,g=dE(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&d4(t,s[t],e)}finally{f!==null&&zn(f),um(c),a.resolving=!1,hE()}}return o}function C4(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Fa)?n[Fa]:void 0;return typeof e=="number"?e>=0?e&t1:T4:e}function yR(n,e,t){let r=1<<n;return!!(t[e+(n>>n1)]&r)}function _R(n,e){return!(n&2)&&!(n&1&&e)}var Wa=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return s1(this._tNode,this._lView,e,ka(r),t)}};function T4(){return new Wa(Wn(),je())}function si(n){return Bl(()=>{let e=n.prototype.constructor,t=e[kd]||kE(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[kd]||kE(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kE(n){return Ob(n)?()=>{let e=kE(wn(n));return e&&e()}:_s(n)}function D4(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Ee]&2048&&!Ml(s);){let a=a1(o,s,t,r|2,Oi);if(a!==Oi)return a;let c=o.parent;if(!c){let l=s[Jb];if(l){let d=l.get(t,Oi,r);if(d!==Oi)return d}c=c1(s),s=s[La]}o=c}return i}function c1(n){let e=n[we],t=e.type;return t===2?e.declTNode:t===1?n[Rr]:null}function S4(){return wm(Wn(),je())}function wm(n,e){return new ko(Nr(n,e))}var ko=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=S4}return n})();function l1(n){return(n.flags&128)===128}var ZE=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ZE||{}),u1=new Map,A4=0;function x4(){return A4++}function M4(n){u1.set(n[Hd],n)}function NE(n){u1.delete(n[Hd])}var vR="__ngContext__";function Fl(n,e){Pi(e)?(n[vR]=e[Hd],M4(e)):n[vR]=e}function d1(n){return f1(n[Al])}function h1(n){return f1(n[Mr])}function f1(n){for(;n!==null&&!ti(n);)n=n[Mr];return n}var OE;function XE(n){OE=n}function p1(){if(OE!==void 0)return OE;if(typeof document<"u")return document;throw new ce(210,!1)}var Im=new ue("",{factory:()=>R4}),R4="ng";var Cm=new ue(""),Li=new ue("",{providedIn:"platform",factory:()=>"unknown"});var Tm=new ue("",{factory:()=>Z(fn).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var g1=!1,m1=new ue("",{factory:()=>g1});var P4=(n,e,t,r)=>{};function k4(n,e,t,r){P4(n,e,t,r)}function JE(n){return(n.flags&32)===32}var N4=()=>null;function y1(n,e,t=!1){return N4(n,e,t)}function _1(n,e){let t=n.contentQueries;if(t!==null){let r=xe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];uE(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function FE(n,e,t){uE(0);let r=xe(null);try{e(n,t)}finally{xe(r)}}function ew(n,e,t){if(eE(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}var ii=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(ii||{});var em;function v1(){if(em===void 0&&(em=null,Jr.trustedTypes))try{em=Jr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return em}function Dm(n){return v1()?.createHTML(n)||n}function O4(n){return v1()?.createScriptURL(n)||n}var tm;function F4(){if(tm===void 0&&(tm=null,Jr.trustedTypes))try{tm=Jr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tm}function bR(n){return F4()?.createHTML(n)||n}var fm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lg})`}};function tw(n){return n instanceof fm?n.changingThisBreaksApplicationSecurity:n}function b1(n,e){let t=E1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Lg})`)}return t===e}function E1(n){return n instanceof fm&&n.getTypeName()||null}function L4(n){let e=new VE(n);return V4()?new LE(e):e}var LE=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Dm(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},VE=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Dm(e),t}};function V4(){try{return!!new window.DOMParser().parseFromString(Dm(""),"text/html")}catch{return!1}}var j4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function w1(n){return n=String(n),n.match(j4)?n:"unsafe:"+n}function No(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function sh(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var I1=No("area,br,col,hr,img,wbr"),C1=No("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T1=No("rp,rt"),B4=sh(T1,C1),U4=sh(C1,No("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),H4=sh(T1,No("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ER=sh(I1,U4,H4,B4),D1=No("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$4=No("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),z4=No("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),W4=sh(D1,$4,z4),q4=No("script,style,template"),jE=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=K4(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=Y4(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=wR(e).toLowerCase();if(!ER.hasOwnProperty(t))return this.sanitizedSomething=!0,!q4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!W4.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;D1[a]&&(c=w1(c)),this.buf.push(" ",s,'="',IR(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=wR(e).toLowerCase();ER.hasOwnProperty(t)&&!I1.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(IR(e))}};function G4(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Y4(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw S1(e);return e}function K4(n){let e=n.firstChild;if(e&&G4(n,e))throw S1(e);return e}function wR(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function S1(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Q4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Z4=/([^\#-~ |!])/g;function IR(n){return n.replace(/&/g,"&amp;").replace(Q4,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(Z4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nm;function A1(n,e){let t=null;try{nm=nm||L4(n);let r=e?String(e):"";t=nm.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=nm.getInertBodyElement(r)}while(r!==o);let a=new jE().sanitizeChildren(CR(t)||t);return Dm(a)}finally{if(t){let r=CR(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function CR(n){return"content"in n&&X4(n)?n.content:null}function X4(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var J4=/^>|^->|<!--|-->|--!>|<!-$/g,ez=/(<|>)/g,tz="\u200B$1\u200B";function nz(n){return n.replace(J4,e=>e.replace(ez,tz))}function rz(n,e){return n.createText(e)}function iz(n,e,t){n.setValue(e,t)}function oz(n,e){return n.createComment(nz(e))}function x1(n,e,t){return n.createElement(e,t)}function pm(n,e,t,r,i){n.insertBefore(e,t,r,i)}function M1(n,e,t){n.appendChild(e,t)}function TR(n,e,t,r,i){r!==null?pm(n,e,t,r,i):M1(n,e,t)}function sz(n,e,t,r){n.removeChild(null,e,t,r)}function az(n,e,t){n.setAttribute(e,"style",t)}function cz(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function R1(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&g4(n,e,r),i!==null&&cz(n,e,i),o!==null&&az(n,e,o)}var nw=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(nw||{});function rw(n){let e=lz();return e?bR(e.sanitize(nw.HTML,n)||""):b1(n,"HTML")?bR(tw(n)):A1(p1(),Cl(n))}function Sm(n){return O4(n[0])}function lz(){let n=je();return n&&n[Ri].sanitizer}function P1(n){return n instanceof Function?n():n}function uz(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var k1="ng-template";function dz(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uz(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(iw(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function iw(n){return n.type===4&&n.value!==k1}function hz(n,e,t){let r=n.type===4&&!t?k1:n.value;return e===r}function fz(n,e,t){let r=4,i=n.attrs,o=i!==null?mz(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ri(r)&&!ri(c))return!1;if(s&&ri(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!hz(n,c,t)||c===""&&e.length===1){if(ri(r))return!1;s=!0}}else if(r&8){if(i===null||!dz(n,i,c,t)){if(ri(r))return!1;s=!0}}else{let l=e[++a],d=pz(c,i,iw(n),t);if(d===-1){if(ri(r))return!1;s=!0;continue}if(l!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(ri(r))return!1;s=!0}}}}return ri(r)||s}function ri(n){return(n&1)===0}function pz(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yz(e,n)}function gz(n,e,t=!1){for(let r=0;r<e.length;r++)if(fz(n,e[r],t))return!0;return!1}function mz(n){for(let e=0;e<n.length;e++){let t=n[e];if(m4(t))return e}return n.length}function yz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function DR(n,e){return n?":not("+e.trim()+")":e}function _z(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ri(s)&&(e+=DR(o,i),i=""),r=s,o=o||!ri(r);t++}return i!==""&&(e+=DR(o,i)),e}function vz(n){return n.map(_z).join(",")}function bz(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ri(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Vi={};function ow(n,e,t,r,i,o,s,a,c,l,d){let f=hn+r,g=f+i,y=Ez(f,g),E=typeof l=="function"?l():l;return y[we]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function Ez(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vi);return t}function wz(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ow(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function sw(n,e,t,r,i,o,s,a,c,l,d){let f=e.blueprint.slice();return f[ei]=i,f[Ee]=r|4|128|8|64|1024,(l!==null||n&&n[Ee]&2048)&&(f[Ee]|=2048),rE(f),f[In]=f[La]=n,f[Rn]=t,f[Ri]=s||n&&n[Ri],f[xt]=a||n&&n[xt],f[Is]=c||n&&n[Is]||null,f[Rr]=o,f[Hd]=x4(),f[Ud]=d,f[Jb]=l,f[Pr]=e.type==2?n[Pr]:f,f}function Iz(n,e,t){let r=Nr(e,n),i=wz(t),o=n[Ri].rendererFactory,s=aw(n,sw(n,i,null,N1(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function N1(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function O1(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function aw(n,e){return n[Al]?n[Xb][Mr]=e:n[Al]=e,n[Xb]=e,e}function V(n=1){F1(Pn(),je(),za()+n,!1)}function F1(n,e,t,r){if(!r)if((e[Ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&im(e,o,t)}else{let o=n.preOrderHooks;o!==null&&om(e,o,0,t)}Ts(t)}var Am=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Am||{});function BE(n,e,t,r){let i=xe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Am.SignalBased)!==0&&(c=e[o][Un]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):YR(e,c,o,r)}finally{xe(i)}}var Fi=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Fi||{}),Cz;function cw(n,e){return Cz(n,e)}var Ll=new Set,xm=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(xm||{}),Za=new ue(""),SR=new Set;function Mm(n){SR.has(n)||(SR.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var lw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),L1=[0,1,2,3],V1=(()=>{class n{ngZone=Z(dt);scheduler=Z(bs);errorHandler=Z(Mi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Z(Za,{optional:!0})}execute(){let t=this.sequences.size>0;t&&tt(qe.AfterRenderHooksStart),this.executing=!0;for(let r of L1)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&tt(qe.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Ua]??=[]).push(t),Rl(r),r[Ee]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(xm.AFTER_NEXT_RENDER,t):t()}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),gm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ua];e&&(this.view[Ua]=e.filter(t=>t!==this))}};function Rm(n,e){let t=e?.injector??Z(Lt);return Mm("NgAfterNextRender"),Dz(n,t,e,!0)}function Tz(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Dz(n,e,t,r){let i=e.get(lw);i.impl??=e.get(V1);let o=e.get(Za,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Ni):null,a=e.get(Xg,null,{optional:!0}),c=new gm(i.impl,Tz(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var Sz=new ue("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:Z(rn)})});function j1(n,e,t){let r=n.get(Sz);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function Az(n,e){for(let[t,r]of e)j1(n,r.animateFns)}function AR(n,e,t,r){let i=n?.[zd]?.enter;e!==null&&i&&i.has(t.index)&&Az(r,i)}function Nl(n,e,t,r,i,o,s,a){if(i!=null){let c,l=!1;ti(i)?c=i:Pi(i)&&(l=!0,i=i[ei]);let d=kr(i);n===0&&r!==null?(AR(a,r,o,t),s==null?M1(e,r,d):pm(e,r,d,s||null,!0)):n===1&&r!==null?(AR(a,r,o,t),pm(e,r,d,s||null,!0)):n===2?xR(a,o,t,f=>{sz(e,d,l,f)}):n===3&&xR(a,o,t,()=>{e.destroyNode(d)}),c!=null&&Uz(e,n,t,c,o,r,s)}}function xz(n,e){B1(n,e),e[ei]=null,e[Rr]=null}function Mz(n,e,t,r,i,o){r[ei]=i,r[Rr]=e,Pm(n,r,t,1,i,o)}function B1(n,e){e[Ri].changeDetectionScheduler?.notify(9),Pm(n,e,e[xt],2,null,null)}function Rz(n){let e=n[Al];if(!e)return wE(n[we],n);for(;e;){let t=null;if(Pi(e))t=e[Al];else{let r=e[tr];r&&(t=r)}if(!t){for(;e&&!e[Mr]&&e!==n;)Pi(e)&&wE(e[we],e),e=e[In];e===null&&(e=n),Pi(e)&&wE(e[we],e),t=e&&e[Mr]}e=t}}function uw(n,e){let t=n[qd],r=t.indexOf(e);t.splice(r,1)}function U1(n,e){if(Ha(e))return;let t=e[xt];t.destroyNode&&Pm(n,e,t,3,null,null),Rz(e)}function wE(n,e){if(Ha(e))return;let t=xe(null);try{e[Ee]&=-129,e[Ee]|=256,e[mr]&&Td(e[mr]),Nz(n,e),kz(n,e),e[we].type===1&&e[xt].destroy();let r=e[Va];if(r!==null&&ti(e[In])){r!==e[In]&&uw(r,e);let i=e[Ba];i!==null&&i.detachView(n)}NE(e)}finally{xe(t)}}function xR(n,e,t,r){let i=n?.[zd];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Ll.add(n),j1(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:d}=l();a.push(d)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Pz(n,r)}else n&&Ll.delete(n),r(!1)},i)}function Pz(n,e){let t=n[zd]?.running;if(t){t.then(()=>{n[zd].running=void 0,Ll.delete(n),e(!0)});return}e(!1)}function kz(n,e){let t=n.cleanup,r=e[Sl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Sl]=null);let i=e[Ao];if(i!==null){e[Ao]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[$d];if(o!==null){e[$d]=null;for(let s of o)s.destroy()}}function Nz(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof qa)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];tt(qe.LifecycleHookStart,a,c);try{c.call(a)}finally{tt(qe.LifecycleHookEnd,a,c)}}else{tt(qe.LifecycleHookStart,i,o);try{o.call(i)}finally{tt(qe.LifecycleHookEnd,i,o)}}}}}function Oz(n,e,t){return Fz(n,e.parent,t)}function Fz(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ei];if(Ro(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ii.None||i===ii.Emulated)return null}return Nr(r,t)}function Lz(n,e,t){return jz(n,e,t)}function Vz(n,e,t){return n.type&40?Nr(n,t):null}var jz=Vz,MR;function dw(n,e,t,r){let i=Oz(n,r,e),o=e[xt],s=r.parent||e[Rr],a=Lz(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)TR(o,i,t[c],a,!1);else TR(o,i,t,a,!1);MR!==void 0&&MR(o,r,e,t,i)}function eh(n,e){if(e!==null){let t=e.type;if(t&3)return Nr(e,n);if(t&4)return UE(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return eh(n,r);{let i=n[e.index];return ti(i)?UE(-1,i):kr(i)}}else{if(t&128)return eh(n,e.next);if(t&32)return cw(e,n)()||kr(n[e.index]);{let r=H1(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=vs(n[Pr]);return eh(i,r)}else return eh(n,e.next)}}}return null}function H1(n,e){if(e!==null){let r=n[Pr][Rr],i=e.projection;return r.projection[i]}return null}function UE(n,e){let t=tr+n+1;if(t<e.length){let r=e[t],i=r[we].firstChild;if(i!==null)return eh(r,i)}return e[Cs]}function hw(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Is];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&e===0&&(c&&Fl(kr(c),r),t.flags|=2),!JE(t))if(l&8)hw(n,e,t.child,r,i,o,!1),Nl(e,n,a,i,c,t,o,r);else if(l&32){let d=cw(t,r),f;for(;f=d();)Nl(e,n,a,i,f,t,o,r);Nl(e,n,a,i,c,t,o,r)}else l&16?Bz(n,e,r,t,i,o):Nl(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function Pm(n,e,t,r,i,o){hw(t,r,n.firstChild,e,i,o,!1)}function Bz(n,e,t,r,i,o){let s=t[Pr],c=s[Rr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Nl(e,n,t[Is],i,d,r,o,t)}else{let l=c,d=s[In];l1(r)&&(l.flags|=128),hw(n,e,l,d,i,o,!0)}}function Uz(n,e,t,r,i,o,s){let a=r[Cs],c=kr(r);a!==c&&Nl(e,n,t,o,a,i,s);for(let l=tr;l<r.length;l++){let d=r[l];Pm(d[we],d,n,e,o,a)}}function Hz(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Fi.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fi.Important),n.setStyle(t,r,i,o))}}function $1(n,e,t,r,i){let o=za(),s=r&2;try{Ts(-1),s&&e.length>hn&&F1(n,e,hn,!1);let a=s?qe.TemplateUpdateStart:qe.TemplateCreateStart;tt(a,i,t),t(r,i)}finally{Ts(o);let a=s?qe.TemplateUpdateEnd:qe.TemplateCreateEnd;tt(a,i,t)}}function km(n,e,t){Yz(n,e,t),(t.flags&64)===64&&Kz(n,e,t)}function fw(n,e,t=Nr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function $z(n,e,t,r){let o=r.get(m1,g1)||t===ii.ShadowDom||t===ii.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return zz(s),s}function zz(n){Wz(n)}var Wz=()=>null;function qz(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function z1(n,e,t,r,i,o){let s=e[we];if(Nm(n,s,e,t,r)){Ro(n)&&W1(e,n.index);return}n.type&3&&(t=qz(t)),Gz(n,e,t,r,i,o)}function Gz(n,e,t,r,i,o){if(n.type&3){let s=Nr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function W1(n,e){let t=Or(e,n);t[Ee]&16||(t[Ee]|=64)}function Yz(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ro(t)&&Iz(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||dm(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=hm(e,n,s,t);if(Fl(c,e),o!==null&&Xz(e,s-r,c,a,t,o),ki(a)){let l=Or(t.index,e);l[Rn]=hm(e,n,s,t)}}}function Kz(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=nR();try{Ts(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Yg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Qz(c,l)}}finally{Ts(-1),Yg(s)}}function Qz(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function pw(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];gz(e,o.selectors,!1)&&(r??=[],ki(o)?r.unshift(o):r.push(o))}return r}function Zz(n,e,t,r,i,o){let s=Nr(n,e);q1(e[xt],s,o,n.value,t,r,i)}function q1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Cl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Xz(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];BE(r,t,c,l)}}function G1(n,e,t,r,i){let o=hn+t,s=e[we],a=i(s,e,n,r,t);e[o]=a,Pl(n,!0);let c=n.type===2;return c?(R1(e[xt],a,n),($M()===0||xl(n))&&Fl(a,e),zM()):Fl(a,e),Zg()&&(!c||!JE(n))&&dw(s,e,a,n),n}function Y1(n){let e=n;return aE()?QM():(e=e.parent,Pl(e,!1)),e}function Jz(n,e){let t=n[Is];if(!t)return;let r;try{r=t.get(ni,null)}catch{r=null}r?.(e)}function Nm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],f=e.data[l];BE(f,t[l],d,i),a=!0}if(o)for(let c of o){let l=t[c],d=e.data[c];BE(d,l,r,i),a=!0}return a}function e5(n,e){let t=Or(e,n),r=t[we];t5(r,t);let i=t[ei];i!==null&&t[Ud]===null&&(t[Ud]=y1(i,t[Is])),tt(qe.ComponentStart);try{gw(r,t,t[Rn])}finally{tt(qe.ComponentEnd,t[Rn])}}function t5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function gw(n,e,t){Kg(e);try{let r=n.viewQuery;r!==null&&FE(1,r,t);let i=n.template;i!==null&&$1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ba]?.finishViewCreation(n),n.staticContentQueries&&_1(n,e),n.staticViewQueries&&FE(2,n.viewQuery,t);let o=n.components;o!==null&&n5(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ee]&=-5,Qg()}}function n5(n,e){for(let t=0;t<e.length;t++)e5(n,e[t])}function r5(n,e,t,r){let i=xe(null);try{let o=e.tView,a=n[Ee]&4096?4096:16,c=sw(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Va]=l;let d=n[Ba];return d!==null&&(c[Ba]=d.createEmbeddedView(o)),gw(o,c,t),c}finally{xe(i)}}function RR(n,e){return!e||e.firstChild===null||l1(n)}function rh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(kr(o)),ti(o)&&K1(o,r);let s=t.type;if(s&8)rh(n,e,t.child,r);else if(s&32){let a=cw(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=H1(e,t);if(Array.isArray(a))r.push(...a);else{let c=vs(e[Pr]);rh(c[we],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function K1(n,e){for(let t=tr;t<n.length;t++){let r=n[t],i=r[we].firstChild;i!==null&&rh(r[we],r,i,e)}n[Cs]!==n[ei]&&e.push(n[Cs])}function Q1(n){if(n[Ua]!==null){for(let e of n[Ua])e.impl.addSequence(e);n[Ua].length=0}}var Z1=[];function i5(n){return n[mr]??o5(n)}function o5(n){let e=Z1.pop()??Object.create(a5);return e.lView=n,e}function s5(n){n.lView[mr]!==n&&(n.lView=null,Z1.push(n))}var a5=ye(J({},wd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Rl(n.lView)},consumerOnSignalRead(){this.lView[mr]=this}});function c5(n){let e=n[mr]??Object.create(l5);return e.lView=n,e}var l5=ye(J({},wd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=vs(n.lView);for(;e&&!X1(e[we]);)e=vs(e);e&&iE(e)},consumerOnSignalRead(){this.lView[mr]=this}});function X1(n){return n.type!==2}function J1(n){if(n[$d]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[$d])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Ee]&8192)}}var u5=100;function eP(n,e=0){let r=n[Ri].rendererFactory,i=!1;i||r.begin?.();try{d5(n,e)}finally{i||r.end?.()}}function d5(n,e){let t=cE();try{lE(!0),HE(n,e);let r=0;for(;Yd(n);){if(r===u5)throw new ce(103,!1);r++,HE(n,1)}}finally{lE(t)}}function h5(n,e,t,r){if(Ha(e))return;let i=e[Ee],o=!1,s=!1;Kg(e);let a=!0,c=null,l=null;o||(X1(n)?(l=i5(e),c=Cd(l)):eg()===null?(a=!1,l=c5(e),c=Cd(l)):e[mr]&&(Td(e[mr]),e[mr]=null));try{rE(e),XM(n.bindingStartIndex),t!==null&&$1(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let y=n.preOrderCheckHooks;y!==null&&im(e,y,null)}else{let y=n.preOrderHooks;y!==null&&om(e,y,0,null),bE(e,0)}if(s||f5(e),J1(e),tP(e,0),n.contentQueries!==null&&_1(n,e),!o)if(d){let y=n.contentCheckHooks;y!==null&&im(e,y)}else{let y=n.contentHooks;y!==null&&om(e,y,1),bE(e,1)}g5(n,e);let f=n.components;f!==null&&rP(e,f,0);let g=n.viewQuery;if(g!==null&&FE(2,g,r),!o)if(d){let y=n.viewCheckHooks;y!==null&&im(e,y)}else{let y=n.viewHooks;y!==null&&om(e,y,2),bE(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Hg]){for(let y of e[Hg])y();e[Hg]=null}o||(Q1(e),e[Ee]&=-73)}catch(d){throw o||Rl(e),d}finally{l!==null&&(tg(l,c),a&&s5(l)),Qg()}}function tP(n,e){for(let t=d1(n);t!==null;t=h1(t))for(let r=tr;r<t.length;r++){let i=t[r];nP(i,e)}}function f5(n){for(let e=d1(n);e!==null;e=h1(e)){if(!(e[Ee]&2))continue;let t=e[qd];for(let r=0;r<t.length;r++){let i=t[r];iE(i)}}}function p5(n,e,t){tt(qe.ComponentStart);let r=Or(e,n);try{nP(r,t)}finally{tt(qe.ComponentEnd,r[Rn])}}function nP(n,e){Wg(n)&&HE(n,e)}function HE(n,e){let r=n[we],i=n[Ee],o=n[mr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ng(o)),s||=!1,o&&(o.dirty=!1),n[Ee]&=-9217,s)h5(r,n,r.template,n[Rn]);else if(i&8192){let a=xe(null);try{J1(n),tP(n,1);let c=r.components;c!==null&&rP(n,c,1),Q1(n)}finally{xe(a)}}}function rP(n,e,t){for(let r=0;r<e.length;r++)p5(n,e[r],t)}function g5(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ts(~i);else{let o=i,s=t[++r],a=t[++r];tR(s,o);let c=e[o];tt(qe.HostBindingsUpdateStart,c);try{a(2,c)}finally{tt(qe.HostBindingsUpdateEnd,c)}}}}finally{Ts(-1)}}function mw(n,e){let t=cE()?64:1088;for(n[Ri].changeDetectionScheduler?.notify(e);n;){n[Ee]|=t;let r=vs(n);if(Ml(n)&&!r)return n;n=r}return null}function iP(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function m5(n,e,t,r=!0){let i=e[we];if(y5(i,e,n,t),r){let s=UE(t,n),a=e[xt],c=a.parentNode(n[Cs]);c!==null&&Mz(i,n[Rr],a,e,c,s)}let o=e[Ud];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $E(n,e){if(n.length<=tr)return;let t=tr+e,r=n[t];if(r){let i=r[Va];i!==null&&i!==n&&uw(i,r),e>0&&(n[t-1][Mr]=r[Mr]);let o=Vd(n,tr+e);xz(r[we],r);let s=o[Ba];s!==null&&s.detachView(o[we]),r[In]=null,r[Mr]=null,r[Ee]&=-129}return r}function y5(n,e,t,r){let i=tr+r,o=t.length;r>0&&(t[i-1][Mr]=e),r<o-tr?(e[Mr]=t[i],zb(t,tr+r,e)):(t.push(e),e[Mr]=null),e[In]=t;let s=e[Va];s!==null&&t!==s&&oP(s,e);let a=e[Ba];a!==null&&a.insertView(n),qg(e),e[Ee]|=128}function oP(n,e){let t=n[qd],r=e[In];if(Pi(r))n[Ee]|=2;else{let i=r[In][Pr];e[Pr]!==i&&(n[Ee]|=2)}t===null?n[qd]=[e]:t.push(e)}var Ds=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[we];return rh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Rn]}set context(e){this._lView[Rn]=e}get destroyed(){return Ha(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[In];if(ti(e)){let t=e[Wd],r=t?t.indexOf(this):-1;r>-1&&($E(e,r),Vd(t,r))}this._attachedToViewContainer=!1}U1(this._lView[we],this._lView)}onDestroy(e){oE(this._lView,e)}markForCheck(){mw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ee]&=-129}reattach(){qg(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,eP(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ml(this._lView),t=this._lView[Va];t!==null&&!e&&uw(t,this._lView),B1(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=e;let t=Ml(this._lView),r=this._lView[Va];r!==null&&!t&&oP(r,this._lView),qg(this._lView)}};var ah=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=_5;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=r5(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Ds(o)}}return n})();function _5(){return sP(Wn(),je())}function sP(n,e){return n.type&4?new ah(e,n,wm(n,e)):null}function yw(n,e,t,r,i){let o=n.data[e];if(o===null)o=v5(n,e,t,r,i),eR()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=KM();o.injectorIndex=s===null?-1:s.injectorIndex}return Pl(o,!0),o}function v5(n,e,t,r,i){let o=sE(),s=aE(),a=s?o:o&&o.parent,c=n.data[e]=E5(n,a,t,e,r,i);return b5(n,c,o,s),c}function b5(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function E5(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return qM()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var w5=()=>null;function PR(n,e){return w5(n,e)}var aP=class{},Om=class{},zE=class{resolveComponentFactory(e){throw new ce(917,!1)}},ch=class{static NULL=new zE},Ga=class{},Ss=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>I5()}return n})();function I5(){let n=je(),e=Wn(),t=Or(e.index,n);return(Pi(t)?t:n)[xt]}var cP=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:()=>null})}return n})();var sm={},WE=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,sm,r);return i!==sm||t===sm?i:this.parentInjector.get(e,t,r)}};function kR(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Nb(i,a);else if(o==2){let c=a,l=e[++s];r=Nb(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ve(n,e=0){let t=je();if(t===null)return Re(n,e);let r=Wn();return s1(r,t,wn(n),e)}function lP(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,l=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,l]=d.resolveHostDirectives(s);break}D5(n,e,t,a,o,c,l)}o!==null&&r!==null&&C5(t,r,o)}function C5(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new ce(-301,!1);r.push(e[i],o)}}function T5(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function D5(n,e,t,r,i,o,s){let a=r.length,c=null;for(let g=0;g<a;g++){let y=r[g];c===null&&ki(y)&&(c=y,T5(n,t,g)),PE(dm(t,e),n,y.type)}P5(t,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,d=!1,f=O1(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=nh(t.mergedAttrs,y.hostAttrs),A5(n,t,e,f,y),R5(f,y,i),s!==null&&s.has(y)){let[w,I]=s.get(y);t.directiveToIndex.set(y.type,[f,w+t.directiveStart,I+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,f);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let E=y.type.prototype;!l&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}S5(n,t,o)}function S5(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))NR(0,e,i,r),NR(1,e,i,r),FR(e,r,!1);else{let o=t.get(i);OR(0,e,o,r),OR(1,e,o,r),FR(e,r,!0)}}}function NR(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),uP(e,o)}}function OR(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),uP(e,s)}}function uP(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function FR(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||iw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){s??=[],s.push(l[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function A5(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=_s(i.type,!0)),s=new qa(o,ki(i),ve,null);n.blueprint[r]=s,t[r]=s,x5(n,e,r,O1(n,t,i.hostVars,Vi),i)}function x5(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;M5(s)!=a&&s.push(a),s.push(t,r,o)}}function M5(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function R5(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ki(e)&&(t[""]=n)}}function P5(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _w(n,e,t,r,i,o,s,a){let c=e[we],l=c.consts,d=Gd(l,s),f=yw(c,n,t,r,d);return o&&lP(c,e,f,Gd(l,a),i),f.mergedAttrs=nh(f.mergedAttrs,f.attrs),f.attrs!==null&&kR(f,f.attrs,!1),f.mergedAttrs!==null&&kR(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function vw(n,e){XR(n,e),eE(e)&&n.queries.elementEnd(e)}function bw(n){return hP(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function dP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function hP(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ew(n,e,t){return n[e]=t}function oi(n,e,t){if(t===Vi)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function fP(n,e,t,r){let i=oi(n,e,t);return oi(n,e+1,r)||i}function k5(n,e,t,r,i){let o=fP(n,e,t,r);return oi(n,e+2,i)||o}function IE(n,e,t){return function r(i){let o=Ro(n)?Or(n.index,e):e;mw(o,5);let s=e[Rn],a=LR(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=LR(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function LR(n,e,t,r){let i=xe(null);try{return tt(qe.OutputStart,e,t),t(r)!==!1}catch(o){return Jz(n,o),!1}finally{tt(qe.OutputEnd,e,t),xe(i)}}function N5(n,e,t,r,i,o,s,a){let c=xl(n),l=!1,d=null;if(!r&&c&&(d=F5(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,l=!0}else{let f=Nr(n,t),g=r?r(f):f;k4(t,g,o,a);let y=i.listen(g,o,a);if(!O5(o)){let E=r?w=>r(kr(w[n.index])):n.index;pP(E,e,t,o,a,y,!1)}}return l}function O5(n){return n.startsWith("animation")||n.startsWith("transition")}function F5(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Sl],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function pP(n,e,t,r,i,o,s){let a=e.firstCreatePass?HM(e):null,c=UM(t),l=c.length;c.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function VR(n,e,t,r,i,o){let s=e[t],a=e[we],l=a.data[t].outputs[r],f=s[l].subscribe(o);pP(n.index,a,e,i,o,f,!0)}var qE=Symbol("BINDING");var mm=class extends ch{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ws(e);return new Vl(t,this.ngModule)}};function L5(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Am.SignalBased)!==0};return i&&(o.transform=i),o})}function V5(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function j5(n,e,t){let r=e instanceof rn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new WE(t,r):t}function B5(n){let e=n.get(Ga,null);if(e===null)throw new ce(407,!1);let t=n.get(cP,null),r=n.get(bs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function U5(n,e){let t=gP(n);return x1(e,t,t==="svg"?FM:t==="math"?LM:null)}function gP(n){return(n.selectors[0][0]||"div").toLowerCase()}var Vl=class extends Om{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=L5(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=V5(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vz(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){tt(qe.DynamicComponentStart);let a=xe(null);try{let c=this.componentDef,l=H5(r,c,s,o),d=j5(c,i||this.ngModule,e),f=B5(d),g=f.rendererFactory.createRenderer(null,c),y=r?$z(g,r,c.encapsulation,d):U5(c,g),E=s?.some(jR)||o?.some(k=>typeof k!="function"&&k.bindings.some(jR)),w=sw(null,l,null,512|N1(c),null,null,f,g,d,null,y1(y,d,!0));w[hn]=y,Kg(w);let I=null;try{let k=_w(hn,w,2,"#host",()=>l.directiveRegistry,!0,0);R1(g,y,k),Fl(y,w),km(l,w,k),ew(l,k,w),vw(l,k),t!==void 0&&z5(k,this.ngContentSelectors,t),I=Or(k.index,w),w[Rn]=I[Rn],gw(l,w,null)}catch(k){throw I!==null&&NE(I),NE(w),k}finally{tt(qe.DynamicComponentEnd),Qg()}return new ym(this.componentType,w,!!E)}finally{xe(a)}}};function H5(n,e,t,r){let i=n?["ng-version","21.0.3"]:bz(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[qE].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[qE].requiredVars;let y=d+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=Yb(f);c.push(g)}return ow(0,null,$5(o,s),1,a,c,null,null,null,[i],null)}function $5(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function jR(n){let e=n[qE].kind;return e==="input"||e==="twoWay"}var ym=class extends aP{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=$g(t[we],hn),this.location=wm(this._tNode,t),this.instance=Or(this._tNode.index,t)[Rn],this.hostView=this.changeDetectorRef=new Ds(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Nm(r,i[we],i,e,t);this.previousInputValues.set(e,t);let s=Or(r.index,i);mw(s,1)}get injector(){return new Wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function z5(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Xa=(()=>{class n{static __NG_ELEMENT_ID__=W5}return n})();function W5(){let n=Wn();return G5(n,je())}var q5=Xa,mP=class extends q5{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wm(this._hostTNode,this._hostLView)}get injector(){return new Wa(this._hostTNode,this._hostLView)}get parentInjector(){let e=QE(this._hostTNode,this._hostLView);if(e1(e)){let t=lm(e,this._hostLView),r=cm(e),i=t[we].data[r+8];return new Wa(i,t)}else return new Wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=BR(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-tr}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=PR(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,RR(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!a4(e),l;if(c)l=t;else{let I=t||{};l=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let d=c?e:new Vl(ws(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let k=(c?f:this.parentInjector).get(rn,null);k&&(o=k)}let g=ws(d.componentType??{}),y=PR(this._lContainer,g?.id??null),E=y?.firstChild??null,w=d.create(f,i,E,o,s,a);return this.insertImpl(w.hostView,l,RR(this._hostTNode,y)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(VM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[In],l=new mP(c,c[Rr],c[In]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return m5(s,i,o,r),e.attachToViewContainerRef(),zb(CE(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=BR(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=$E(this._lContainer,t);r&&(Vd(CE(this._lContainer),t),U1(r[we],r))}detach(e){let t=this._adjustIndex(e,-1),r=$E(this._lContainer,t);return r&&Vd(CE(this._lContainer),t)!=null?new Ds(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function BR(n){return n[Wd]}function CE(n){return n[Wd]||(n[Wd]=[])}function G5(n,e){let t,r=e[n.index];return ti(r)?t=r:(t=iP(r,e,null,n),e[n.index]=t,aw(e,t)),K5(t,e,n,r),new mP(t,n,e)}function Y5(n,e){let t=n[xt],r=t.createComment(""),i=Nr(e,n),o=t.parentNode(i);return pm(t,o,r,t.nextSibling(i),!1),r}var K5=X5,Q5=()=>!1;function Z5(n,e,t){return Q5(n,e,t)}function X5(n,e,t,r){if(n[Cs])return;let i;t.type&8?i=kr(r):i=Y5(e,t),n[Cs]=i}var Ya=class{},Fm=class{};var _m=class extends Ya{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new mm(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Gb(e);this._bootstrapComponents=P1(o.bootstrap),this._r3Injector=fE(e,t,[{provide:Ya,useValue:this},{provide:ch,useValue:this.componentFactoryResolver},...r],xo(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vm=class extends Fm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new _m(this.moduleType,e,[])}};var ih=class extends Ya{injector;componentFactoryResolver=new mm(this);instance=null;constructor(e){super();let t=new Oa([...e.providers,{provide:Ya,useValue:this},{provide:ch,useValue:this.componentFactoryResolver}],e.parent||Bd(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lh(n,e,t=null){return new ih({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var J5=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Kb(!1,t.type),i=r.length>0?lh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=fe({token:n,providedIn:"environment",factory:()=>new n(Re(rn))})}return n})();function Ja(n){return Bl(()=>{let e=yP(n),t=ye(J({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ZE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(J5).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ii.Emulated,styles:n.styles||fr,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Mm("NgStandalone"),_P(t);let r=n.dependencies;return t.directiveDefs=UR(r,eW),t.pipeDefs=UR(r,xM),t.id=rW(t),t})}function eW(n){return ws(n)||Yb(n)}function As(n){return Bl(()=>({type:n.type,bootstrap:n.bootstrap||fr,declarations:n.declarations||fr,imports:n.imports||fr,exports:n.exports||fr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tW(n,e){if(n==null)return Es;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Am.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function nW(n){if(n==null)return Es;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Mt(n){return Bl(()=>{let e=yP(n);return _P(e),e})}function Lm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function yP(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Es,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||fr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:tW(n.inputs,e),outputs:nW(n.outputs),debugInfo:null}}function _P(n){n.features?.forEach(e=>e(n))}function UR(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function rW(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function iW(n){return Object.getPrototypeOf(n.prototype).constructor}function rr(n){let e=iW(n.type),t=!0,r=[n];for(;e;){let i;if(ki(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ce(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=TE(n.inputs),s.declaredInputs=TE(n.declaredInputs),s.outputs=TE(n.outputs);let a=i.hostBindings;a&&lW(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&aW(n,c),l&&cW(n,l),oW(n,i),EM(n.outputs,i.outputs),ki(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===rr&&(t=!1)}}e=Object.getPrototypeOf(e)}sW(r)}function oW(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function sW(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nh(i.hostAttrs,t=nh(t,i.hostAttrs))}}function TE(n){return n===Es?{}:n===fr?[]:n}function aW(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function cW(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function lW(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function uW(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=nh(n.mergedAttrs,n.attrs);let d=n.tView=ow(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Pl(n,!1);let c=hW(t,e,n,r);Zg()&&dw(t,e,c,n),Fl(c,e);let l=iP(c,e,c,n);e[r+hn]=l,aw(e,l),Z5(l,n,e)}function dW(n,e,t,r,i,o,s,a,c,l,d){let f=t+hn,g;return e.firstCreatePass?(g=yw(e,f,4,s||null,a||null),Gg()&&lP(e,n,g,Gd(e.consts,l),pw),XR(e,g)):g=e.data[f],uW(g,n,e,t,r,i,o,c),xl(g)&&km(e,n,g),l!=null&&fw(n,g,d),g}function pe(n,e,t,r,i,o,s,a){let c=je(),l=Pn(),d=Gd(l.consts,o);return dW(c,l,n,e,t,r,i,d,void 0,s,a),pe}var hW=fW;function fW(n,e,t,r){return Zd(!0),e[xt].createComment("")}var ww=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function vP(n){return typeof n=="function"&&n[Un]!==void 0}function Iw(n){return vP(n)&&typeof n.set=="function"}var Cw=new ue("");function xs(n){return!!n&&typeof n.then=="function"}function Tw(n){return!!n&&typeof n.subscribe=="function"}var bP=new ue("");var Dw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Z(bP,{optional:!0})??[];injector=Z(Lt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=on(this.injector,i);if(xs(o))t.push(o);else if(Tw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vm=new ue("");function EP(){X0(()=>{let n="";throw new ce(600,n)})}function wP(n){return n.isBoundToModule}var pW=10;var Ms=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Z(ni);afterRenderManager=Z(lw);zonelessEnabled=Z(Xd);rootEffectScheduler=Z(vE);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new dn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Z(Po);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(at(t=>!t))}constructor(){Z(Za,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Z(rn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Lt.NULL){return this._injector.get(dt).run(()=>{tt(qe.BootstrapComponentStart);let s=t instanceof Om;if(!this._injector.get(Dw).done){let E="";throw new ce(405,E)}let c;s?c=t:c=this._injector.get(ch).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=wP(c)?void 0:this._injector.get(Ya),d=r||c.selector,f=c.create(i,[],d,l),g=f.location.nativeElement,y=f.injector.get(Cw,null);return y?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),th(this.components,f),y?.unregisterApplication(g)}),this._loadComponent(f),tt(qe.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){tt(qe.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(xm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw tt(qe.ChangeDetectionEnd),new ce(101,!1);let t=xe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,xe(t),this.afterTick.next(),tt(qe.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ga,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<pW;){tt(qe.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{tt(qe.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Yd(i))continue;let o=r&&!this.zonelessEnabled?0:1;eP(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Yd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;th(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Vm,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>th(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ce(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function th(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ec(n,e){let t=je(),r=$a();if(oi(t,r,e)){let i=Pn(),o=Qd();if(Nm(o,i,t,n,e))Ro(o)&&W1(t,o.index);else{let a=Nr(o,t);q1(t[xt],a,null,o.value,n,e,null)}}return ec}function pn(n,e,t,r){let i=je(),o=$a();if(oi(i,o,e)){let s=Pn(),a=Qd();Zz(a,i,n,e,t,r)}return pn}var bfe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function K(n,e,t){let r=je(),i=$a();if(oi(r,i,e)){let o=Pn(),s=Qd();z1(s,r,n,e,r[xt],t)}return K}function HR(n,e,t,r,i){Nm(e,n,t,i?"class":"style",r)}function N(n,e,t,r){let i=je(),o=i[we],s=n+hn,a=o.firstCreatePass?_w(s,i,2,e,pw,Gg(),t,r):o.data[s];if(G1(a,i,n,e,gW),xl(a)){let c=i[we];km(c,i,a),ew(c,a,i)}return r!=null&&fw(i,a),N}function M(){let n=Pn(),e=Wn(),t=Y1(e);return n.firstCreatePass&&vw(n,t),GM(t)&&YM(),WM(),t.classesWithoutHost!=null&&f4(t)&&HR(n,t,je(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&p4(t)&&HR(n,t,je(),t.stylesWithoutHost,!1),M}function de(n,e,t,r){return N(n,e,t,r),M(),de}var gW=(n,e,t,r,i)=>(Zd(!0),x1(e[xt],r,cR()));function ji(n,e,t){let r=je(),i=r[we],o=n+hn,s=i.firstCreatePass?_w(o,r,8,"ng-container",pw,Gg(),e,t):i.data[o];if(G1(s,r,n,"ng-container",mW),xl(s)){let a=r[we];km(a,r,s),ew(a,s,r)}return t!=null&&fw(r,s),ji}function Bi(){let n=Pn(),e=Wn(),t=Y1(e);return n.firstCreatePass&&vw(n,t),Bi}var mW=(n,e,t,r,i)=>(Zd(!0),oz(e[xt],""));function ht(){return je()}var Jd=void 0;function yW(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var _W=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Jd,Jd,Jd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yW],DE={};function yr(n){let e=vW(n),t=$R(e);if(t)return t;let r=e.split("-")[0];if(t=$R(r),t)return t;if(r==="en")return _W;throw new ce(701,!1)}function $R(n){return n in DE||(DE[n]=Jr.ng&&Jr.ng.common&&Jr.ng.common.locales&&Jr.ng.common.locales[n]),DE[n]}var $t=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})($t||{});function vW(n){return n.toLowerCase().replace(/_/g,"-")}var uh="en-US";var bW=uh;function IP(n){typeof n=="string"&&(bW=n.toLowerCase().replace(/_/g,"-"))}function le(n,e,t){let r=je(),i=Pn(),o=Wn();return CP(i,r,r[xt],o,n,e,t),le}function CP(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=IE(r,e,o),N5(r,n,e,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],y=d[f+1];c??=IE(r,e,o),VR(r,e,g,y,i,c)}if(l&&l.length)for(let f of l)c??=IE(r,e,o),VR(r,e,f,i,i,c)}}function Y(n=1){return aR(n)}function Rs(n){let e=ZM();return zg(e,hn+n)}function rm(n,e){return n<<17|e<<2}function Ka(n){return n>>17&32767}function EW(n){return(n&2)==2}function wW(n,e){return n&131071|e<<17}function GE(n){return n|2}function jl(n){return(n&131068)>>2}function SE(n,e){return n&-131069|e<<2}function IW(n){return(n&1)===1}function YE(n){return n|1}function CW(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ka(s),c=jl(s);n[r]=t;let l=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Tl(f,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let g=Ka(n[a+1]);n[r+1]=rm(g,a),g!==0&&(n[g+1]=SE(n[g+1],r)),n[a+1]=wW(n[a+1],r)}else n[r+1]=rm(a,0),a!==0&&(n[a+1]=SE(n[a+1],r)),a=r;else n[r+1]=rm(c,0),a===0?a=r:n[c+1]=SE(n[c+1],r),c=r;l&&(n[r+1]=GE(n[r+1])),zR(n,d,r,!0),zR(n,d,r,!1),TW(e,d,n,r,o),s=rm(a,c),o?e.classBindings=s:e.styleBindings=s}function TW(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Tl(o,e)>=0&&(t[r+1]=YE(t[r+1]))}function zR(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ka(i):jl(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];DW(c,e)&&(a=!0,n[s+1]=r?YE(l):GE(l)),s=r?Ka(l):jl(l)}a&&(n[t+1]=r?GE(i):YE(i))}function DW(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Tl(n,e)>=0:!1}function tc(n,e,t){return TP(n,e,t,!1),tc}function Rt(n,e){return TP(n,e,null,!0),Rt}function TP(n,e,t,r){let i=je(),o=Pn(),s=JM(2);if(o.firstUpdatePass&&AW(o,n,s,r),e!==Vi&&oi(i,s,e)){let a=o.data[za()];kW(o,a,i,i[xt],n,i[s+1]=NW(e,t),r,s)}}function SW(n,e){return e>=n.expandoStartIndex}function AW(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[za()],s=SW(n,t);OW(o,r)&&e===null&&!s&&(e=!1),e=xW(i,o,e,r),CW(i,o,e,t,s,r)}}function xW(n,e,t,r){let i=rR(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=AE(null,n,e,t,r),t=oh(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=AE(i,n,e,t,r),o===null){let c=MW(n,e,r);c!==void 0&&Array.isArray(c)&&(c=AE(null,n,e,c[1],r),c=oh(c,e.attrs,r),RW(n,e,r,c))}else o=PW(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function MW(n,e,t){let r=t?e.classBindings:e.styleBindings;if(jl(r)!==0)return n[Ka(r)]}function RW(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ka(i)]=r}function PW(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=oh(r,s,t)}return oh(r,e.attrs,t)}function AE(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=oh(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function oh(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),AM(n,s,t?!0:e[++o]))}return n===void 0?null:n}function kW(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=IW(l)?WR(c,e,t,i,jl(l),s):void 0;if(!bm(d)){bm(o)||EW(l)&&(o=WR(c,null,t,i,a,s));let f=tE(za(),t);Hz(r,s,f,i,o)}}function WR(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=t[i+1];g===Vi&&(g=f?fr:void 0);let y=f?Ug(g,r):d===r?g:void 0;if(l&&!bm(y)&&(y=Ug(c,r)),bm(y)&&(a=y,s))return a;let E=n[i+1];i=s?Ka(E):jl(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ug(c,r))}return a}function bm(n){return n!==void 0}function NW(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xo(tw(n)))),n}function OW(n,e){return(n.flags&(e?8:16))!==0}function B(n,e=""){let t=je(),r=Pn(),i=n+hn,o=r.firstCreatePass?yw(r,i,1,e,null):r.data[i],s=FW(r,t,o,e,n);t[i]=s,Zg()&&dw(r,t,s,o),Pl(o,!1)}var FW=(n,e,t,r,i)=>(Zd(!0),rz(e[xt],r));function DP(n,e,t,r=""){return oi(n,$a(),t)?e+Cl(t)+r:Vi}function an(n){return Gt("",n),an}function Gt(n,e,t){let r=je(),i=DP(r,n,e,t);return i!==Vi&&LW(r,za(),i),Gt}function LW(n,e,t){let r=tE(e,n);iz(n[xt],r,t)}function ft(n,e,t){Iw(e)&&(e=e());let r=je(),i=$a();if(oi(r,i,e)){let o=Pn(),s=Qd();z1(s,r,n,e,r[xt],t)}return ft}function _t(n,e){let t=Iw(n);return t&&n.set(e),t}function pt(n,e){let t=je(),r=Pn(),i=Wn();return CP(r,t,t[xt],i,n,e),pt}function Sw(n){return oi(je(),$a(),n)?Cl(n):Vi}function Ul(n,e,t=""){return DP(je(),n,e,t)}function qR(n,e,t){let r=Pn();r.firstCreatePass&&SP(e,r.data,r.blueprint,ki(n),t)}function SP(n,e,t,r,i){if(n=wn(n),Array.isArray(n))for(let o=0;o<n.length;o++)SP(n[o],e,t,r,i);else{let o=Pn(),s=je(),a=Wn(),c=Na(n)?n:wn(n.provide),l=Zb(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(Na(n)||!n.multi){let y=new qa(l,i,ve,null),E=ME(c,e,i?d:d+g,f);E===-1?(PE(dm(a,s),o,c),xE(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[E]=y,s[E]=y)}else{let y=ME(c,e,d+g,f),E=ME(c,e,d,d+g),w=y>=0&&t[y],I=E>=0&&t[E];if(i&&!I||!i&&!w){PE(dm(a,s),o,c);let k=BW(i?jW:VW,t.length,i,r,l,n);!i&&I&&(t[E].providerFactory=k),xE(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=AP(t[i?E:y],l,!i&&r);xE(o,n,y>-1?y:E,k)}!i&&r&&I&&t[E].componentProviders++}}}function xE(n,e,t,r){let i=Na(e),o=kM(e);if(i||o){let c=(o?wn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function AP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ME(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function VW(n,e,t,r,i){return KE(this.multi,[])}function jW(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=hm(r,r[we],this.providerFactory.index,i);s=c.slice(0,a),KE(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],KE(o,s);return s}function KE(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function BW(n,e,t,r,i,o){let s=new qa(n,t,ve,null);return s.multi=[],s.index=e,s.componentProviders=0,AP(s,i,r&&!t),s}function Ui(n,e){return t=>{t.providersResolver=(r,i)=>qR(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>qR(r,i?i(e):e,!0))}}function dh(n,e,t,r,i){return HW(je(),Kd(),n,e,t,r,i)}function Aw(n,e,t,r,i,o){return xP(je(),Kd(),n,e,t,r,i,o)}function xw(n,e){let t=n[e];return t===Vi?void 0:t}function UW(n,e,t,r,i,o){let s=e+t;return oi(n,s,i)?Ew(n,s+1,o?r.call(o,i):r(i)):xw(n,s+1)}function HW(n,e,t,r,i,o,s){let a=e+t;return fP(n,a,i,o)?Ew(n,a+2,s?r.call(s,i,o):r(i,o)):xw(n,a+2)}function xP(n,e,t,r,i,o,s,a){let c=e+t;return k5(n,c,i,o,s)?Ew(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):xw(n,c+3)}function Hl(n,e){let t=Pn(),r,i=n+hn;t.firstCreatePass?(r=$W(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=_s(r.type,!0)),s,a=zn(ve);try{let c=um(!1),l=o();return um(c),nE(t,je(),i,l),l}finally{zn(a)}}function $W(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function hh(n,e,t){let r=n+hn,i=je(),o=zg(i,r);return MP(i,r)?UW(i,Kd(),e,o.transform,t,o):o.transform(t)}function Mw(n,e,t,r,i){let o=n+hn,s=je(),a=zg(s,o);return MP(s,o)?xP(s,Kd(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function MP(n,e){return n[we].data[e].pure}function Rw(n,e){return sP(n,e)}var Em=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Pw=(()=>{class n{compileModuleSync(t){return new vm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Gb(t),o=P1(i.declarations).reduce((s,a)=>{let c=ws(a);return c&&s.push(new Vl(c)),s},[]);return new Em(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var RP=(()=>{class n{applicationErrorHandler=Z(ni);appRef=Z(Ms);taskService=Z(Po);ngZone=Z(dt);zonelessEnabled=Z(Xd);tracing=Z(Za,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new nn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Od):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Z(_E,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?gE:pE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Od+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PP(){return[{provide:bs,useExisting:RP},{provide:dt,useClass:Fd},{provide:Xd,useValue:!0}]}function zW(){return typeof $localize<"u"&&$localize.locale||uh}var fh=new ue("",{factory:()=>Z(fh,{optional:!0,skipSelf:!0})||zW()});function $l(n,e){return rg(n,e?.equal)}var LP=Symbol("InputSignalNode#UNSET"),i6=ye(J({},ig),{transformFn:void 0,applyValueToInputSignal(n,e){Dd(n,e)}});function VP(n,e){let t=Object.create(i6);t.value=n,t.transformFn=e?.transform;function r(){if(Id(t),t.value===LP){let i=null;throw new ce(-950,i)}return t.value}return r[Un]=t,r}function kP(n,e){return VP(n,e)}function o6(n){return VP(LP,n)}var jP=(kP.required=o6,kP);var kw=new ue(""),s6=new ue("");function ph(n){return!n.moduleRef}function a6(n){let e=ph(n)?n.r3Injector:n.moduleRef.injector,t=e.get(dt);return t.run(()=>{ph(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ni),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ph(n)){let o=()=>e.destroy(),s=n.platformInjector.get(kw);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(kw);s.add(o),n.moduleRef.onDestroy(()=>{th(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return l6(r,t,()=>{let o=e.get(Po),s=o.add(),a=e.get(Dw);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(fh,uh);if(IP(c||uh),!e.get(s6,!0))return ph(n)?e.get(Ms):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ph(n)){let d=e.get(Ms);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return c6?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var c6;function l6(n,e,t){try{let r=t();return xs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var jm=null;function u6(n=[],e){return Lt.create({name:e,providers:[{provide:jd,useValue:"platform"},{provide:kw,useValue:new Set([()=>jm=null])},...n]})}function d6(n=[]){if(jm)return jm;let e=u6(n);return jm=e,EP(),h6(e),e}function h6(n){let e=n.get(Cm,null);on(n,()=>{e?.forEach(t=>t())})}function Vw(){return!1}var Ps=(()=>{class n{static __NG_ELEMENT_ID__=f6}return n})();function f6(n){return p6(Wn(),je(),(n&16)===16)}function p6(n,e,t){if(Ro(n)&&!t){let r=Or(n.index,e);return new Ds(r,r)}else if(n.type&175){let r=e[Pr];return new Ds(r,e)}return null}var Nw=class{constructor(){}supports(e){return bw(e)}create(e){return new Ow(e)}},g6=(n,e)=>e,Ow=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||g6}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<NP(r,i,o)?t:r,a=NP(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,d=c-i;if(l!=d){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,E=y+g;d<=E&&E<l&&(o[g]=y+1)}let f=s.previousIndex;o[f]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!bw(e))throw new ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,dP(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Fw(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Bm),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Fw=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Lw=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Bm=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Lw,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function NP(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function OP(){return new jw([new Nw])}var jw=(()=>{class n{factories;static \u0275prov=fe({token:n,providedIn:"root",factory:OP});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=Z(n,{optional:!0,skipSelf:!0});return n.create(t,r||OP())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ce(901,!1)}}return n})();function BP(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;tt(qe.BootstrapApplicationStart);try{let o=i?.injector??d6(r),s=[PP(),hR,...t||[]],a=new ih({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return a6({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{tt(qe.BootstrapApplicationEnd)}}function Um(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var UP=null;function Fr(){return UP}function Bw(n){UP??=n}var gh=class{},Hm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>Z(HP),providedIn:"platform"})}return n})();var HP=(()=>{class n extends Hm{_location;_history;_doc=Z(fn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fr().getBaseHref(this._doc)}onPopState(t){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function WP(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function $P(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ks(n){return n&&n[0]!=="?"?`?${n}`:n}var $m=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>Z(y6),providedIn:"root"})}return n})(),m6=new ue(""),y6=(()=>{class n extends $m{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Z(fn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return WP(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ks(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ks(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ks(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Re(Hm),Re(m6,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zl=(()=>{class n{_subject=new dn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=b6($P(zP(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ks(r))}normalize(t){return n.stripTrailingSlash(v6(this._basePath,zP(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ks(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ks(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ks;static joinWithSlash=WP;static stripTrailingSlash=$P;static \u0275fac=function(r){return new(r||n)(Re($m))};static \u0275prov=fe({token:n,factory:()=>_6(),providedIn:"root"})}return n})();function _6(){return new zl(Re($m))}function v6(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function zP(n){return n.replace(/\/index.html$/,"")}function b6(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Nn=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Nn||{}),gt=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(gt||{}),ir=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(ir||{}),Fo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function QP(n){return yr(n)[$t.LocaleId]}function ZP(n,e,t){let r=yr(n),i=[r[$t.DayPeriodsFormat],r[$t.DayPeriodsStandalone]],o=Lr(i,e);return Lr(o,t)}function XP(n,e,t){let r=yr(n),i=[r[$t.DaysFormat],r[$t.DaysStandalone]],o=Lr(i,e);return Lr(o,t)}function JP(n,e,t){let r=yr(n),i=[r[$t.MonthsFormat],r[$t.MonthsStandalone]],o=Lr(i,e);return Lr(o,t)}function ek(n,e){let r=yr(n)[$t.Eras];return Lr(r,e)}function mh(n,e){let t=yr(n);return Lr(t[$t.DateFormat],e)}function yh(n,e){let t=yr(n);return Lr(t[$t.TimeFormat],e)}function _h(n,e){let r=yr(n)[$t.DateTimeFormat];return Lr(r,e)}function vh(n,e){let t=yr(n),r=t[$t.NumberSymbols][e];if(typeof r>"u"){if(e===Fo.CurrencyDecimal)return t[$t.NumberSymbols][Fo.Decimal];if(e===Fo.CurrencyGroup)return t[$t.NumberSymbols][Fo.Group]}return r}function tk(n){if(!n[$t.ExtraData])throw new ce(2303,!1)}function nk(n){let e=yr(n);return tk(e),(e[$t.ExtraData][2]||[]).map(r=>typeof r=="string"?Uw(r):[Uw(r[0]),Uw(r[1])])}function rk(n,e,t){let r=yr(n);tk(r);let i=[r[$t.ExtraData][0],r[$t.ExtraData][1]],o=Lr(i,e)||[];return Lr(o,t)||[]}function Lr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new ce(2304,!1)}function Uw(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var E6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zm={},w6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ik(n,e,t,r){let i=R6(n);e=Oo(t,e)||e;let s=[],a;for(;e;)if(a=w6.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=sk(r,c),i=M6(i,r));let l="";return s.forEach(d=>{let f=A6(d);l+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Km(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Oo(n,e){let t=QP(n);if(zm[t]??={},zm[t][e])return zm[t][e];let r="";switch(e){case"shortDate":r=mh(n,ir.Short);break;case"mediumDate":r=mh(n,ir.Medium);break;case"longDate":r=mh(n,ir.Long);break;case"fullDate":r=mh(n,ir.Full);break;case"shortTime":r=yh(n,ir.Short);break;case"mediumTime":r=yh(n,ir.Medium);break;case"longTime":r=yh(n,ir.Long);break;case"fullTime":r=yh(n,ir.Full);break;case"short":let i=Oo(n,"shortTime"),o=Oo(n,"shortDate");r=Wm(_h(n,ir.Short),[i,o]);break;case"medium":let s=Oo(n,"mediumTime"),a=Oo(n,"mediumDate");r=Wm(_h(n,ir.Medium),[s,a]);break;case"long":let c=Oo(n,"longTime"),l=Oo(n,"longDate");r=Wm(_h(n,ir.Long),[c,l]);break;case"full":let d=Oo(n,"fullTime"),f=Oo(n,"fullDate");r=Wm(_h(n,ir.Full),[d,f]);break}return r&&(zm[t][e]=r),r}function Wm(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function ci(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function I6(n,e){return ci(n,3).substring(0,e)}function Yt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=C6(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return I6(a,e);let c=vh(s,Fo.MinusSign);return ci(a,e,c,r,i)}}function C6(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new ce(2301,!1)}}function It(n,e,t=Nn.Format,r=!1){return function(i,o){return T6(i,o,n,e,t,r)}}function T6(n,e,t,r,i,o){switch(t){case 2:return JP(e,i,r)[n.getMonth()];case 1:return XP(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=nk(e),d=rk(e,i,r),f=l.findIndex(g=>{if(Array.isArray(g)){let[y,E]=g,w=s>=y.hours&&a>=y.minutes,I=s<E.hours||s===E.hours&&a<E.minutes;if(y.hours<E.hours){if(w&&I)return!0}else if(w||I)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return ZP(e,i,r)[s<12?0:1];case 3:return ek(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new ce(2302,!1)}}function qm(n){return function(e,t,r){let i=-1*r,o=vh(t,Fo.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+ci(s,2,o)+ci(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+ci(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+ci(s,2,o)+":"+ci(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+ci(s,2,o)+":"+ci(Math.abs(i%60),2,o);default:throw new ce(2310,!1)}}}var D6=0,Ym=4;function S6(n){let e=Km(n,D6,1).getDay();return Km(n,0,1+(e<=Ym?Ym:Ym+7)-e)}function ok(n){let e=n.getDay(),t=e===0?-3:Ym-e;return Km(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Hw(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ok(t),s=S6(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ci(i,n,vh(r,Fo.MinusSign))}}function Gm(n,e=!1){return function(t,r){let o=ok(t).getFullYear();return ci(o,n,vh(r,Fo.MinusSign),e)}}var $w={};function A6(n){if($w[n])return $w[n];let e;switch(n){case"G":case"GG":case"GGG":e=It(3,gt.Abbreviated);break;case"GGGG":e=It(3,gt.Wide);break;case"GGGGG":e=It(3,gt.Narrow);break;case"y":e=Yt(0,1,0,!1,!0);break;case"yy":e=Yt(0,2,0,!0,!0);break;case"yyy":e=Yt(0,3,0,!1,!0);break;case"yyyy":e=Yt(0,4,0,!1,!0);break;case"Y":e=Gm(1);break;case"YY":e=Gm(2,!0);break;case"YYY":e=Gm(3);break;case"YYYY":e=Gm(4);break;case"M":case"L":e=Yt(1,1,1);break;case"MM":case"LL":e=Yt(1,2,1);break;case"MMM":e=It(2,gt.Abbreviated);break;case"MMMM":e=It(2,gt.Wide);break;case"MMMMM":e=It(2,gt.Narrow);break;case"LLL":e=It(2,gt.Abbreviated,Nn.Standalone);break;case"LLLL":e=It(2,gt.Wide,Nn.Standalone);break;case"LLLLL":e=It(2,gt.Narrow,Nn.Standalone);break;case"w":e=Hw(1);break;case"ww":e=Hw(2);break;case"W":e=Hw(1,!0);break;case"d":e=Yt(2,1);break;case"dd":e=Yt(2,2);break;case"c":case"cc":e=Yt(7,1);break;case"ccc":e=It(1,gt.Abbreviated,Nn.Standalone);break;case"cccc":e=It(1,gt.Wide,Nn.Standalone);break;case"ccccc":e=It(1,gt.Narrow,Nn.Standalone);break;case"cccccc":e=It(1,gt.Short,Nn.Standalone);break;case"E":case"EE":case"EEE":e=It(1,gt.Abbreviated);break;case"EEEE":e=It(1,gt.Wide);break;case"EEEEE":e=It(1,gt.Narrow);break;case"EEEEEE":e=It(1,gt.Short);break;case"a":case"aa":case"aaa":e=It(0,gt.Abbreviated);break;case"aaaa":e=It(0,gt.Wide);break;case"aaaaa":e=It(0,gt.Narrow);break;case"b":case"bb":case"bbb":e=It(0,gt.Abbreviated,Nn.Standalone,!0);break;case"bbbb":e=It(0,gt.Wide,Nn.Standalone,!0);break;case"bbbbb":e=It(0,gt.Narrow,Nn.Standalone,!0);break;case"B":case"BB":case"BBB":e=It(0,gt.Abbreviated,Nn.Format,!0);break;case"BBBB":e=It(0,gt.Wide,Nn.Format,!0);break;case"BBBBB":e=It(0,gt.Narrow,Nn.Format,!0);break;case"h":e=Yt(3,1,-12);break;case"hh":e=Yt(3,2,-12);break;case"H":e=Yt(3,1);break;case"HH":e=Yt(3,2);break;case"m":e=Yt(4,1);break;case"mm":e=Yt(4,2);break;case"s":e=Yt(5,1);break;case"ss":e=Yt(5,2);break;case"S":e=Yt(6,1);break;case"SS":e=Yt(6,2);break;case"SSS":e=Yt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=qm(0);break;case"ZZZZZ":e=qm(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=qm(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=qm(2);break;default:return null}return $w[n]=e,e}function sk(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function x6(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function M6(n,e,t){let i=n.getTimezoneOffset(),o=sk(e,i);return x6(n,-1*(o-i))}function R6(n){if(qP(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Km(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(E6))return P6(r)}let e=new Date(n);if(!qP(e))throw new ce(2311,!1);return e}function P6(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function qP(n){return n instanceof Date&&!isNaN(n.valueOf())}var zw=/\s+/,GP=[],Ww=(()=>{class n{_ngEl;_renderer;initialClasses=GP;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(zw):GP}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(zw):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(zw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ve(ko),ve(Ss))};static \u0275dir=Mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Qm=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xm=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Qm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),YP(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);YP(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ve(Xa),ve(ah),ve(jw))};static \u0275dir=Mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function YP(n,e){n.context.$implicit=e.item}var qw=(()=>{class n{_viewContainer;_context=new Zm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KP(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KP(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ve(Xa),ve(ah))};static \u0275dir=Mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Zm=class{$implicit=null;ngIf=null};function KP(n,e){if(n&&!n.createEmbeddedView)throw new ce(2020,!1)}function ak(n,e){return new ce(2100,!1)}var k6=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Gw=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw ak(n,t);return t.replace(k6,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Lm({name:"titlecase",type:n,pure:!0})}return n})();var N6="mediumDate",ck=new ue(""),lk=new ue(""),Yw=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??N6,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ik(t,s,o||this.locale,a)}catch(s){throw ak(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ve(fh,16),ve(ck,24),ve(lk,24))};static \u0275pipe=Lm({name:"date",type:n,pure:!0})}return n})();var Jm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=As({type:n});static \u0275inj=Mo({})}return n})();function Kw(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bh=class{};var Qw="browser";function Zw(n){return n===Qw}var Eh=class{_doc;constructor(e){this._doc=e}manager},ey=(()=>{class n extends Eh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Re(fn))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),ry=new ue(""),tI=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof ey));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof ey);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ce(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Re(ry),Re(dt))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),Xw="ng-app-id";function uk(n){for(let e of n)e.remove()}function dk(n,e){let t=e.createElement("style");return t.textContent=n,t}function F6(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Xw}="${e}"],link[${Xw}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Xw),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function eI(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var nI=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,F6(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,dk);r?.forEach(i=>this.addUsage(i,this.external,eI))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(uk(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])uk(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,dk(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,eI(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Re(fn),Re(Im),Re(Tm,8),Re(Li))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),Jw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rI=/%COMP%/g;var fk="%COMP%",L6=`_nghost-${fk}`,V6=`_ngcontent-${fk}`,j6=!0,B6=new ue("",{factory:()=>j6});function U6(n){return V6.replace(rI,n)}function H6(n){return L6.replace(rI,n)}function pk(n,e){return e.map(t=>t.replace(rI,n))}var iI=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new wh(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ny?i.applyToHost(t):i instanceof Ih&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case ii.Emulated:o=new ny(c,l,r,this.appId,d,s,a,f,g);break;case ii.ShadowDom:return new ty(c,t,r,s,a,this.nonce,f,g,l);case ii.ExperimentalIsolatedShadowDom:return new ty(c,t,r,s,a,this.nonce,f,g);default:o=new Ih(c,l,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Re(tI),Re(nI),Re(Im),Re(B6),Re(fn),Re(dt),Re(Tm),Re(Za,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),wh=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Jw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ce(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Jw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Jw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Fi.DashCase|Fi.Important)?e.style.setProperty(t,r,i&Fi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Fi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Fr().getGlobalEventTarget(this.doc,e),!e))throw new ce(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function hk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ty=class extends wh{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,i,o,a,c),this.hostEl=t,this.sharedStylesHost=l,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=pk(r.id,d);for(let g of d){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=g,this.shadowRoot.appendChild(y)}let f=r.getExternalStyles?.();if(f)for(let g of f){let y=eI(g,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ih=class extends wh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?pk(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ll.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ny=class extends Ih{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,l,d),this.contentAttr=U6(d),this.hostAttr=H6(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var iy=class n extends gh{supportsDOMEvents=!0;static makeCurrent(){Bw(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=$6();return t==null?null:z6(t)}resetBaseElement(){Ch=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kw(document.cookie,e)}},Ch=null;function $6(){return Ch=Ch||document.head.querySelector("base"),Ch?Ch.getAttribute("href"):null}function z6(n){return new URL(n,document.baseURI).pathname}var W6=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),gk=["alt","control","meta","shift"],q6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},mk=(()=>{class n extends Eh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gk.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=q6[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),gk.forEach(s=>{if(s!==i){let a=G6[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Re(fn))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function oI(n,e,t){let r=J({rootComponent:n,platformRef:t?.platformRef},Y6(e));return BP(r)}function Y6(n){return{appProviders:[...J6,...n?.providers??[]],platformProviders:X6}}function K6(){iy.makeCurrent()}function Q6(){return new Mi}function Z6(){return XE(document),document}var X6=[{provide:Li,useValue:Qw},{provide:Cm,useValue:K6,multi:!0},{provide:fn,useFactory:Z6}];var J6=[{provide:jd,useValue:"root"},{provide:Mi,useFactory:Q6},{provide:ry,useClass:ey,multi:!0},{provide:ry,useClass:mk,multi:!0},iI,nI,tI,{provide:Ga,useExisting:iI},{provide:bh,useClass:W6},[]];var yk=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Re(fn))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ie="primary",Lh=Symbol("RouteTitle"),uI=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function oc(n){return new uI(n)}function Dk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function uy(n){return new Promise((e,t)=>{n.pipe(So()).subscribe({next:r=>e(r),error:r=>t(r)})})}function nq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hi(n[t],e[t]))return!1;return!0}function Hi(n,e){let t=n?dI(n):void 0,r=e?dI(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Sk(n[i],e[i]))return!1;return!0}function dI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Sk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Ak(n){return n.length>0?n[n.length-1]:null}function ac(n){return Tg(n)?n:xs(n)?Ht(Promise.resolve(n)):$e(n)}function xk(n){return Tg(n)?uy(n):Promise.resolve(n)}var rq={exact:Rk,subset:Pk},Mk={exact:iq,subset:oq,ignored:()=>!0};function _k(n,e,t){return rq[t.paths](n.root,e.root,t.matrixParams)&&Mk[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function iq(n,e){return Hi(n,e)}function Rk(n,e,t){if(!rc(n.segments,e.segments)||!ay(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Rk(n.children[r],e.children[r],t))return!1;return!0}function oq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Sk(n[t],e[t]))}function Pk(n,e,t){return kk(n,e,e.segments,t)}function kk(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!rc(i,t)||e.hasChildren()||!ay(i,t,r))}else if(n.segments.length===t.length){if(!rc(n.segments,t)||!ay(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Pk(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!rc(n.segments,i)||!ay(n.segments,i,r)||!n.children[Ie]?!1:kk(n.children[Ie],e,o,r)}}function ay(n,e,t){return e.every((r,i)=>Mk[t](n[i].parameters,r.parameters))}var ui=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Qe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=oc(this.queryParams),this._queryParamMap}toString(){return cq.serialize(this)}},Qe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cy(this)}},Ns=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=oc(this.parameters),this._parameterMap}toString(){return Ok(this)}};function sq(n,e){return rc(n,e)&&n.every((t,r)=>Hi(t.parameters,e[r].parameters))}function rc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function aq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ie&&(t=t.concat(e(i,r)))}),t}var Vh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>new Os,providedIn:"root"})}return n})(),Os=class{parse(e){let t=new fI(e);return new ui(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Th(e.root,!0)}`,r=dq(e.queryParams),i=typeof e.fragment=="string"?`#${lq(e.fragment)}`:"";return`${t}${r}${i}`}},cq=new Os;function cy(n){return n.segments.map(e=>Ok(e)).join("/")}function Th(n,e){if(!n.hasChildren())return cy(n);if(e){let t=n.children[Ie]?Th(n.children[Ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ie&&r.push(`${i}:${Th(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=aq(n,(r,i)=>i===Ie?[Th(n.children[Ie],!1)]:[`${i}:${Th(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ie]!=null?`${cy(n)}/${t[0]}`:`${cy(n)}/(${t.join("//")})`}}function Nk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oy(n){return Nk(n).replace(/%3B/gi,";")}function lq(n){return encodeURI(n)}function hI(n){return Nk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ly(n){return decodeURIComponent(n)}function vk(n){return ly(n.replace(/\+/g,"%20"))}function Ok(n){return`${hI(n.path)}${uq(n.parameters)}`}function uq(n){return Object.entries(n).map(([e,t])=>`;${hI(e)}=${hI(t)}`).join("")}function dq(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${oy(t)}=${oy(i)}`).join("&"):`${oy(t)}=${oy(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var hq=/^[^\/()?;#]+/;function sI(n){let e=n.match(hq);return e?e[0]:""}var fq=/^[^\/()?;=#]+/;function pq(n){let e=n.match(fq);return e?e[0]:""}var gq=/^[^=?&#]+/;function mq(n){let e=n.match(gq);return e?e[0]:""}var yq=/^[^&#]+/;function _q(n){let e=n.match(yq);return e?e[0]:""}var fI=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ie]=new Qe(e,t)),r}parseSegment(){let e=sI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ce(4009,!1);return this.capture(e),new Ns(ly(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=pq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=sI(this.remaining);i&&(r=i,this.capture(r))}e[ly(t)]=ly(r)}parseQueryParam(e){let t=mq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=_q(this.remaining);s&&(r=s,this.capture(r))}let i=vk(t),o=vk(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ce(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ie);let s=this.parseChildren();t[o??Ie]=Object.keys(s).length===1&&s[Ie]?s[Ie]:new Qe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ce(4011,!1)}};function Fk(n){return n.segments.length>0?new Qe([],{[Ie]:n}):n}function Lk(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Lk(i);if(r===Ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Qe(n.segments,e);return vq(t)}function vq(n){if(n.numberOfChildren===1&&n.children[Ie]){let e=n.children[Ie];return new Qe(n.segments.concat(e.segments),e.children)}return n}function Yl(n){return n instanceof ui}function Vk(n,e,t=null,r=null,i=new Os){let o=jk(n);return Bk(o,e,t,r,i)}function jk(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Qe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Fk(r);return e??i}function Bk(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return aI(o,o,o,t,r,i);let s=bq(e);if(s.toRoot())return aI(o,o,new Qe([],{}),t,r,i);let a=Eq(s,o,n),c=a.processChildren?Sh(a.segmentGroup,a.index,s.commands):Hk(a.segmentGroup,a.index,s.commands);return aI(o,a.segmentGroup,c,t,r,i)}function dy(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mh(n){return typeof n=="object"&&n!=null&&n.outlets}function bk(n,e,t){n||="\u0275";let r=new ui;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function aI(n,e,t,r,i,o){let s={};for(let[l,d]of Object.entries(r??{}))s[l]=Array.isArray(d)?d.map(f=>bk(l,f,o)):bk(l,d,o);let a;n===e?a=t:a=Uk(n,e,t);let c=Fk(Lk(a));return new ui(c,s,i)}function Uk(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Uk(o,e,t)}),new Qe(n.segments,r)}var hy=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dy(r[0]))throw new ce(4003,!1);let i=r.find(Mh);if(i&&i!==Ak(r))throw new ce(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new hy(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hy(t,e,r)}var ql=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Eq(n,e,t){if(n.isAbsolute)return new ql(e,!0,0);if(!t)return new ql(e,!1,NaN);if(t.parent===null)return new ql(t,!0,0);let r=dy(n.commands[0])?0:1,i=t.segments.length-1+r;return wq(t,i,n.numberOfDoubleDots)}function wq(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ce(4005,!1);i=r.segments.length}return new ql(r,!1,i-o)}function Iq(n){return Mh(n[0])?n[0].outlets:{[Ie]:n}}function Hk(n,e,t){if(n??=new Qe([],{}),n.segments.length===0&&n.hasChildren())return Sh(n,e,t);let r=Cq(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Qe(n.segments.slice(0,r.pathIndex),{});return o.children[Ie]=new Qe(n.segments.slice(r.pathIndex),n.children),Sh(o,0,i)}else return r.match&&i.length===0?new Qe(n.segments,{}):r.match&&!n.hasChildren()?pI(n,e,t):r.match?Sh(n,0,i):pI(n,e,t)}function Sh(n,e,t){if(t.length===0)return new Qe(n.segments,{});{let r=Iq(t),i={};if(Object.keys(r).some(o=>o!==Ie)&&n.children[Ie]&&n.numberOfChildren===1&&n.children[Ie].segments.length===0){let o=Sh(n.children[Ie],e,t);return new Qe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Hk(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Qe(n.segments,i)}}function Cq(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Mh(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!wk(c,l,s))return o;r+=2}else{if(!wk(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pI(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Mh(o)){let c=Tq(o.outlets);return new Qe(r,c)}if(i===0&&dy(t[0])){let c=n.segments[e];r.push(new Ns(c.path,Ek(t[0]))),i++;continue}let s=Mh(o)?o.outlets[Ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&dy(a)?(r.push(new Ns(s,Ek(a))),i+=2):(r.push(new Ns(s,{})),i++)}return new Qe(r,{})}function Tq(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=pI(new Qe([],{}),0,r))}),e}function Ek(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function wk(n,e,t){return n==t.path&&Hi(e,t.parameters)}var Ah="imperative",gn=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(gn||{}),vr=class{id;url;constructor(e,t){this.id=e,this.url=t}},sc=class extends vr{type=gn.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Lo=class extends vr{urlAfterRedirects;type=gn.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(qn||{}),Rh=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Rh||{}),$i=class extends vr{reason;code;type=gn.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vo=class extends vr{reason;code;type=gn.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Kl=class extends vr{error;target;type=gn.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ph=class extends vr{urlAfterRedirects;state;type=gn.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fy=class extends vr{urlAfterRedirects;state;type=gn.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},py=class extends vr{urlAfterRedirects;state;shouldActivate;type=gn.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gy=class extends vr{urlAfterRedirects;state;type=gn.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},my=class extends vr{urlAfterRedirects;state;type=gn.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yy=class{route;type=gn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_y=class{route;type=gn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vy=class{snapshot;type=gn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},by=class{snapshot;type=gn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ey=class{snapshot;type=gn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wy=class{snapshot;type=gn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var kh=class{},Ql=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Dq(n){return!(n instanceof kh)&&!(n instanceof Ql)}function Sq(n,e){return n.providers&&!n._injector&&(n._injector=lh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function li(n){return n.outlet||Ie}function Aq(n,e){let t=n.filter(r=>li(r)===e);return t.push(...n.filter(r=>li(r)!==e)),t}function Jl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Iy=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Jl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new eu(this.rootInjector)}},eu=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Iy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Re(rn))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cy=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=gI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=gI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=mI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mI(e,this._root).map(t=>t.value)}};function gI(n,e){if(n===e.value)return e;for(let t of e.children){let r=gI(n,t);if(r)return r}return null}function mI(n,e){if(n===e.value)return[e];for(let t of e.children){let r=mI(n,t);if(r.length)return r.unshift(e),r}return[]}var _r=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Nh=class extends Cy{snapshot;constructor(e,t){super(e),this.snapshot=t,wI(this,e)}toString(){return this.snapshot.toString()}};function $k(n){let e=xq(n),t=new En([new Ns("",{})]),r=new En({}),i=new En({}),o=new En({}),s=new En(""),a=new zi(t,r,o,s,i,Ie,n,e.root);return a.snapshot=e.root,new Nh(new _r(a,[]),e)}function xq(n){let e={},t={},r={},o=new ic([],e,r,"",t,Ie,n,null,{});return new Oh("",new _r(o,[]))}var zi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(at(l=>l[Lh]))??$e(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(at(e=>oc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(at(e=>oc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ty(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:J(J({},e.params),n.params),data:J(J({},e.data),n.data),resolve:J(J(J(J({},n.data),e.data),i?.data),n._resolvedData)}:r={params:J({},n.params),data:J({},n.data),resolve:J(J({},n.data),n._resolvedData??{})},i&&Wk(i)&&(r.resolve[Lh]=i.title),r}var ic=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Lh]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=oc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=oc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Oh=class extends Cy{url;constructor(e,t){super(t),this.url=e,wI(this,t)}toString(){return zk(this._root)}};function wI(n,e){e.value._routerState=n,e.children.forEach(t=>wI(n,t))}function zk(n){let e=n.children.length>0?` { ${n.children.map(zk).join(", ")} } `:"";return`${n.value}${e}`}function cI(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hi(e.params,t.params)||n.paramsSubject.next(t.params),nq(e.url,t.url)||n.urlSubject.next(t.url),Hi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yI(n,e){let t=Hi(n.params,e.params)&&sq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||yI(n.parent,e.parent))}function Wk(n){return typeof n.title=="string"||n.title===null}var qk=new ue(""),II=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ie;activateEvents=new qt;deactivateEvents=new qt;attachEvents=new qt;detachEvents=new qt;routerOutletData=jP();parentContexts=Z(eu);location=Z(Xa);changeDetector=Z(Ps);inputBinder=Z(xy,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ce(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new _I(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Mt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qa]})}return n})(),_I=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===zi?this.route:e===eu?this.childContexts:e===qk?this.outletData:this.parent.get(e,t)}},xy=new ue("");var CI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ja({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&de(0,"router-outlet")},dependencies:[II],encapsulation:2})}return n})();function TI(n){let e=n.children&&n.children.map(TI),t=e?ye(J({},n),{children:e}):J({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ie&&(t.component=CI),t}function Mq(n,e,t){let r=Fh(n,e._root,t?t._root:void 0);return new Nh(r,e)}function Fh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Rq(n,e,t);return new _r(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fh(n,a)),s}}let r=Pq(e.value),i=e.children.map(o=>Fh(n,o));return new _r(r,i)}}function Rq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fh(n,r,i);return Fh(n,r)})}function Pq(n){return new zi(new En(n.url),new En(n.params),new En(n.queryParams),new En(n.fragment),new En(n.data),n.outlet,n.component,n)}var Zl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Gk="ngNavigationCancelingError";function Dy(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Yl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Yk(!1,qn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Yk(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Gk]=!0,t.cancellationCode=e,t}function kq(n){return Kk(n)&&Yl(n.url)}function Kk(n){return!!n&&n[Gk]}var Nq=(n,e,t,r)=>at(i=>(new vI(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),vI=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),cI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Wl(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Wl(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new by(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(cI(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cI(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Sy=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gl=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Oq(n,e,t){let r=n._root,i=e?e._root:null;return Dh(r,i,t,[r.value])}function Fq(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function tu(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Fb(n)?n:e.get(n):r}function Dh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wl(e);return n.children.forEach(s=>{Lq(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xh(a,t.getContext(s),i)),i}function Lq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Vq(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Sy(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Dh(n,e,a?a.children:null,r,i):Dh(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gl(a.outlet.component,s))}else s&&xh(e,a,i),i.canActivateChecks.push(new Sy(r)),o.component?Dh(n,null,a?a.children:null,r,i):Dh(n,null,t,r,i);return i}function Vq(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!rc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rc(n.url,e.url)||!Hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yI(n,e)||!Hi(n.queryParams,e.queryParams);case"paramsChange":default:return!yI(n,e)}}function xh(n,e,t){let r=Wl(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?xh(s,e.children.getContext(o),t):xh(s,null,t):xh(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Gl(e.outlet.component,i)):t.canDeactivateChecks.push(new Gl(null,i)):t.canDeactivateChecks.push(new Gl(null,i))}function jh(n){return typeof n=="function"}function jq(n){return typeof n=="boolean"}function Bq(n){return n&&jh(n.canLoad)}function Uq(n){return n&&jh(n.canActivate)}function Hq(n){return n&&jh(n.canActivateChild)}function $q(n){return n&&jh(n.canDeactivate)}function zq(n){return n&&jh(n.canMatch)}function Qk(n){return n instanceof Ma||n?.name==="EmptyError"}var sy=Symbol("INITIAL_VALUE");function Xl(){return Ai(n=>fb(n.map(e=>e.pipe(Do(1),Rg(sy)))).pipe(at(e=>{for(let t of e)if(t!==!0){if(t===sy)return sy;if(t===!1||Wq(t))return t}return!0}),Xr(e=>e!==sy),Do(1)))}function Wq(n){return Yl(n)||n instanceof Zl}function Zk(n){return n.aborted?$e(void 0).pipe(Do(1)):new Me(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function Xk(n){return Rd(Zk(n))}function qq(n,e){return Hn(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?$e(ye(J({},t),{guardsResult:!0})):Gq(s,r,i,n).pipe(Hn(a=>a&&jq(a)?Yq(r,o,n,e):$e(a)),at(a=>ye(J({},t),{guardsResult:a})))})}function Gq(n,e,t,r){return Ht(n).pipe(Hn(i=>Jq(i.component,i.route,t,e,r)),So(i=>i!==!0,!0))}function Yq(n,e,t,r){return Ht(e).pipe(xg(i=>bl(Qq(i.route.parent,r),Kq(i.route,r),Xq(n,i.path,t),Zq(n,i.route,t))),So(i=>i!==!0,!0))}function Kq(n,e){return n!==null&&e&&e(new Ey(n)),$e(!0)}function Qq(n,e){return n!==null&&e&&e(new vy(n)),$e(!0)}function Zq(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $e(!0);let i=r.map(o=>xd(()=>{let s=Jl(e)??t,a=tu(o,s),c=Uq(a)?a.canActivate(e,n):on(s,()=>a(e,n));return ac(c).pipe(So())}));return $e(i).pipe(Xl())}function Xq(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Fq(s)).filter(s=>s!==null).map(s=>xd(()=>{let a=s.guards.map(c=>{let l=Jl(s.node)??t,d=tu(c,l),f=Hq(d)?d.canActivateChild(r,n):on(l,()=>d(r,n));return ac(f).pipe(So())});return $e(a).pipe(Xl())}));return $e(o).pipe(Xl())}function Jq(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return $e(!0);let s=o.map(a=>{let c=Jl(e)??i,l=tu(a,c),d=$q(l)?l.canDeactivate(n,e,t,r):on(c,()=>l(n,e,t,r));return ac(d).pipe(So())});return $e(s).pipe(Xl())}function e8(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return $e(!0);let s=o.map(a=>{let c=tu(a,n),l=Bq(c)?c.canLoad(e,t):on(n,()=>c(e,t)),d=ac(l);return i?d.pipe(Xk(i)):d});return $e(s).pipe(Xl(),Jk(r))}function Jk(n){return lg($n(e=>{if(typeof e!="boolean")throw Dy(n,e)}),at(e=>e===!0))}function t8(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return $e(!0);let s=o.map(a=>{let c=tu(a,n),l=zq(c)?c.canMatch(e,t):on(n,()=>c(e,t)),d=ac(l);return i?d.pipe(Xk(i)):d});return $e(s).pipe(Xl(),Jk(r))}var nc=class eN extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,eN.prototype)}},bI=class tN extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,tN.prototype)}};function n8(n){throw new ce(4e3,!1)}function r8(n){throw Yk(!1,qn.GuardRejected)}var i8=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Ie])throw n8(`${e.redirectTo}`);i=i.children[Ie]}}async applyRedirectCommands(e,t,r,i,o){let s=await o8(t,i,o);if(s instanceof ui)throw new bI(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new bI(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ui(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Qe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ce(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function o8(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:d,title:f}=e;return uy(ac(on(t,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f}))))}var EI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s8(n,e,t,r,i,o){let s=nN(n,e,t);return s.matched?(r=Sq(e,r),t8(r,e,t,i,o).pipe(at(a=>a===!0?s:J({},EI)))):$e(s)}function nN(n,e,t){if(e.path==="**")return a8(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?J({},EI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Dk)(t,n,e);if(!i)return J({},EI);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?J(J({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function a8(n){return{matched:!0,parameters:n.length>0?Ak(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ik(n,e,t,r){return t.length>0&&u8(n,t,r)?{segmentGroup:new Qe(e,l8(r,new Qe(t,n.children))),slicedSegments:[]}:t.length===0&&d8(n,t,r)?{segmentGroup:new Qe(n.segments,c8(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Qe(n.segments,n.children),slicedSegments:t}}function c8(n,e,t,r){let i={};for(let o of t)if(My(n,e,o)&&!r[li(o)]){let s=new Qe([],{});i[li(o)]=s}return J(J({},r),i)}function l8(n,e){let t={};t[Ie]=e;for(let r of n)if(r.path===""&&li(r)!==Ie){let i=new Qe([],{});t[li(r)]=i}return t}function u8(n,e,t){return t.some(r=>My(n,e,r)&&li(r)!==Ie)}function d8(n,e,t){return t.some(r=>My(n,e,r))}function My(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function h8(n,e,t){return e.length===0&&!n.children[t]}var f8=class{};async function p8(n,e,t,r,i,o,s="emptyOnly",a){return new m8(n,e,t,r,i,s,o,a).recognize()}var g8=31,m8=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new i8(this.urlSerializer,this.urlTree)}noMatchError(e){return new ce(4002,`'${e.segmentGroup}'`)}async recognize(){let e=Ik(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new _r(r,t),o=new Oh("",i),s=Vk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new ic([],Object.freeze({}),Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ie,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Ie,t),rootSnapshot:t}}catch(r){if(r instanceof bI)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nc?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof _r?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],d=Aq(t,c),f=await this.processSegmentGroup(e,d,l,c,i);s.push(...f)}let a=rN(s);return y8(a),a}async processSegment(e,t,r,i,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a)}catch(l){if(l instanceof nc||Qk(l))continue;throw l}if(h8(r,i,o))return new f8;throw new nc(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,c){if(li(r)!==s&&(s===Ie||!My(i,o,r)))throw new nc(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c);throw new nc(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=nN(t,i,o);if(!c)throw new nc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>g8&&(this.allowRedirects=!1));let y=new ic(o,l,Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,Ck(i),li(i),i.component??i._loadedComponent??null,i,Tk(i)),E=Ty(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(E.params),y.data=Object.freeze(E.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let w=await this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,y,e),I=await this.applyRedirects.lineralizeSegments(i,w);return this.processSegment(e,r,t,I.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await uy(s8(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new nc(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:g}=a,y=new ic(f,d,Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,Ck(r),li(r),r.component??r._loadedComponent??null,r,Tk(r)),E=Ty(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let{segmentGroup:w,slicedSegments:I}=Ik(t,f,g,c);if(I.length===0&&w.hasChildren()){let U=await this.processChildren(l,c,w,y);return new _r(y,U)}if(c.length===0&&I.length===0)return new _r(y,[]);let k=li(r)===o,L=await this.processSegment(l,c,w,I,k?Ie:o,!0,y);return new _r(y,L instanceof _r?[L]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await uy(e8(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw r8(t)}return{routes:[],injector:e}}};function y8(n){n.sort((e,t)=>e.value.outlet===Ie?-1:t.value.outlet===Ie?1:e.value.outlet.localeCompare(t.value.outlet))}function _8(n){let e=n.value.routeConfig;return e&&e.path===""}function rN(n){let e=[],t=new Set;for(let r of n){if(!_8(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=rN(r.children);e.push(new _r(r.value,i))}return e.filter(r=>!t.has(r))}function Ck(n){return n.data||{}}function Tk(n){return n.resolve||{}}var v8=new ue("",{factory:()=>p8});function b8(n,e,t,r,i,o,s){let a=n.get(v8);return Hn(c=>$e(c).pipe(Ai(l=>a(n,e,t,r,l.extractedUrl,i,o,s)),at(({state:l,tree:d})=>ye(J({},c),{targetSnapshot:l,urlAfterRedirects:d}))))}function E8(n,e){return Hn(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return $e(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of iN(c))s.add(l);let a=0;return Ht(s).pipe(xg(c=>o.has(c)?w8(c,r,n,e):(c.data=Ty(c,c.parent,n).resolve,$e(void 0))),$n(()=>a++),Mg(1),Hn(c=>a===s.size?$e(t):Jn))})}function iN(n){let e=n.children.map(t=>iN(t)).flat();return[n,...e]}function w8(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Wk(i)&&(o[Lh]=i.title),xd(()=>(n.data=Ty(n,n.parent,t).resolve,I8(o,n,e,r).pipe(at(s=>(n._resolvedData=s,n.data=J(J({},n.data),s),null)))))}function I8(n,e,t,r){let i=dI(n);if(i.length===0)return $e({});let o={};return Ht(i).pipe(Hn(s=>C8(n[s],e,t,r).pipe(So(),$n(a=>{if(a instanceof Zl)throw Dy(new Os,a);o[s]=a}))),Mg(1),at(()=>o),Md(s=>Qk(s)?Jn:hb(s)))}function C8(n,e,t,r){let i=Jl(e)??r,o=tu(n,i),s=o.resolve?o.resolve(e,t):on(i,()=>o(e,t));return ac(s)}function lI(n){return Ai(e=>{let t=n(e);return t?Ht(t).pipe(at(()=>e)):$e(e)})}var DI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ie);return r}getResolvedTitleForRoute(t){return t.data[Lh]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>Z(oN),providedIn:"root"})}return n})(),oN=(()=>{class n extends DI{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Re(yk))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bh=new ue("",{factory:()=>({})}),Uh=new ue(""),sN=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Z(Pw);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await xk(on(t,()=>r.loadComponent())),s=await lN(cN(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await aN(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function aN(n,e,t,r){let i=await xk(on(t,()=>n.loadChildren())),o=await lN(cN(i)),s;o instanceof Fm||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(t).injector,c=a.get(Uh,[],{optional:!0,self:!0}).flat()),{routes:c.map(TI),injector:a}}function T8(n){return n&&typeof n=="object"&&"default"in n}function cN(n){return T8(n)?n.default:n}async function lN(n){return n}var Ry=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>Z(D8),providedIn:"root"})}return n})(),D8=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uN=new ue("");var S8=()=>{},dN=new ue(""),hN=(()=>{class n{currentNavigation=nr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=nr(null);events=new dn;transitionAbortWithErrorSubject=new dn;configLoader=Z(sN);environmentInjector=Z(rn);destroyRef=Z(Ni);urlSerializer=Z(Vh);rootContexts=Z(eu);location=Z(zl);inputBindingEnabled=Z(xy,{optional:!0})!==null;titleStrategy=Z(DI);options=Z(Bh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Z(Ry);createViewTransition=Z(uN,{optional:!0});navigationErrorHandler=Z(dN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$e(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yy(i)),r=i=>this.events.next(new _y(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;sn(()=>{this.transitions?.next(ye(J({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new En(null),this.transitions.pipe(Xr(r=>r!==null),Ai(r=>{let i=!1,o=new AbortController;return $e(r).pipe(Ai(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),Jn;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?ye(J({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new Vo(s.id,this.urlSerializer.serialize(s.rawUrl),"",Rh.IgnoredSameUrlNavigation)),s.resolve(!1),Jn;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return $e(s).pipe(Ai(d=>(this.events.next(new sc(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Jn:Promise.resolve(d))),b8(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),$n(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(g=>(g.finalUrl=d.urlAfterRedirects,g));let f=new Ph(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:f,source:g,restoredState:y,extras:E}=s,w=new sc(d,this.urlSerializer.serialize(f),g,y);this.events.next(w);let I=$k(this.rootComponentType).snapshot;return this.currentTransition=r=ye(J({},s),{targetSnapshot:I,urlAfterRedirects:f,extras:ye(J({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=f,k)),$e(r)}else return this.events.next(new Vo(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Rh.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Jn}),$n(s=>{let a=new fy(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),at(s=>(this.currentTransition=r=ye(J({},s),{guards:Oq(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),qq(this.environmentInjector,s=>this.events.next(s)),$n(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Dy(this.urlSerializer,s.guardsResult);let a=new py(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Xr(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",qn.GuardRejected),!1)),lI(s=>{if(s.guards.canActivateChecks.length!==0)return $e(s).pipe($n(a=>{let c=new gy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Ai(a=>{let c=!1;return $e(a).pipe(E8(this.paramsInheritanceStrategy,this.environmentInjector),$n({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",qn.NoDataFromResolver)}}))}),$n(a=>{let c=new my(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),lI(s=>{let a=l=>{let d=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let f=Jl(l)??this.environmentInjector;d.push(this.configLoader.loadComponent(f,l.routeConfig).then(g=>{l.component=g}))}for(let f of l.children)d.push(...a(f));return d},c=a(s.targetSnapshot.root);return c.length===0?$e(s):Ht(Promise.all(c).then(()=>s))}),lI(()=>this.afterPreactivation()),Ai(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ht(c).pipe(at(()=>r)):$e(r)}),at(s=>{let a=Mq(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ye(J({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),$n(()=>{this.events.next(new kh)}),Nq(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Do(1),Rd(Zk(o.signal).pipe(Xr(()=>!i&&!r.targetRouterState),$n(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",qn.Aborted)}))),$n({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=S8,a)),this.lastSuccessfulNavigation.set(sn(this.currentNavigation)),this.events.next(new Lo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Rd(this.transitionAbortWithErrorSubject.pipe($n(s=>{throw s}))),mb(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Md(s=>{if(this.destroyed)return r.resolve(!1),Jn;if(i=!0,Kk(s))this.events.next(new $i(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),kq(s)?this.events.next(new Ql(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Kl(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=on(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Zl){let{message:l,cancellationCode:d}=Dy(this.urlSerializer,c);this.events.next(new $i(r.id,this.urlSerializer.serialize(r.extractedUrl),l,d)),this.events.next(new Ql(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Jn}))}))}cancelNavigationTransition(t,r,i){let o=new $i(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=sn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function A8(n){return n!==Ah}var fN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>Z(x8),providedIn:"root"})}return n})(),Ay=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},x8=(()=>{class n extends Ay{static \u0275fac=(()=>{let t;return function(i){return(t||(t=si(n)))(i||n)}})();static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SI=(()=>{class n{urlSerializer=Z(Vh);options=Z(Bh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Z(zl);urlHandlingStrategy=Z(Ry);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ui;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof ui?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=$k(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>Z(pN),providedIn:"root"})}return n})(),pN=(()=>{class n extends SI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof sc?this.updateStateMemento():t instanceof Vo?this.commitTransition(r):t instanceof Ph?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof kh?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof $i&&t.code!==qn.SupersededByNewNavigation&&t.code!==qn.Redirect?this.restoreHistory(r):t instanceof Kl?this.restoreHistory(r,!0):t instanceof Lo&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=J(J({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=J(J({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=si(n)))(i||n)}})();static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AI(n,e){n.events.pipe(Xr(t=>t instanceof Lo||t instanceof $i||t instanceof Kl||t instanceof Vo),at(t=>t instanceof Lo||t instanceof Vo?0:(t instanceof $i?t.code===qn.Redirect||t.code===qn.SupersededByNewNavigation:!1)?2:1),Xr(t=>t!==2),Do(1)).subscribe(()=>{e()})}var M8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nu=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Z(ww);stateManager=Z(SI);options=Z(Bh,{optional:!0})||{};pendingTasks=Z(Po);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Z(hN);urlSerializer=Z(Vh);location=Z(zl);urlHandlingStrategy=Z(Ry);injector=Z(rn);_events=new dn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Z(fN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Z(Uh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Z(xy,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new nn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=sn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof $i&&r.code!==qn.Redirect&&r.code!==qn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Lo)this.navigated=!0;else if(r instanceof Ql){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=J({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||A8(i.source)},s);this.scheduleNavigation(a,Ah,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Dq(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ah,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=J({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(ni)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return sn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(TI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=J(J({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=jk(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Bk(f,t,d,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Yl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ah,null,r)}navigate(t,r={skipLocationChange:!1}){return P8(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Il(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=J({},M8):r===!1?i=J({},R8):i=r,Yl(t))return _k(this.currentUrlTree,t,i);let o=this.parseUrl(t);return _k(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return AI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P8(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ce(4008,!1)}var N8=new ue("");function xI(n,...e){return gr([{provide:Uh,multi:!0,useValue:n},[],{provide:zi,useFactory:O8},{provide:Vm,multi:!0,useFactory:F8},e.map(t=>t.\u0275providers)])}function O8(){return Z(nu).routerState.root}function F8(){let n=Z(Lt);return e=>{let t=n.get(Ms);if(e!==t.components[0])return;let r=n.get(nu),i=n.get(L8);n.get(V8)===1&&r.initialNavigation(),n.get(j8,null,{optional:!0})?.setUpPreloading(),n.get(N8,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var L8=new ue("",{factory:()=>new dn}),V8=new ue("",{factory:()=>1});var j8=new ue("");var gN=[];var mN=()=>{};var vN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},H8=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Py={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(g=64)),r.push(t[d],t[f],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new RI;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),f!==64){let E=l<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},RI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$8=function(n){let e=vN(n);return Py.encodeByteArray(e,!0)},$h=function(n){return $8(n).replace(/\./g,"")},ky=function(n){try{return Py.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var z8=()=>kI().__FIREBASE_DEFAULTS__,W8=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ky(n[1]);return e&&JSON.parse(e)},Ny=()=>{try{return mN()||z8()||W8()||q8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NI=n=>{var e,t;return(t=(e=Ny())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bN=n=>{let e=NI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},OI=()=>{var n;return(n=Ny())===null||n===void 0?void 0:n.config},FI=n=>{var e;return(e=Ny())===null||e===void 0?void 0:e[`_${n}`]};var cc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Fs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Oy(n){return(await fetch(n,{credentials:"include"})).ok}function EN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$h(JSON.stringify(t)),$h(JSON.stringify(s)),""].join(".")}var Hh={};function G8(){let n={prod:[],emulator:[]};for(let e of Object.keys(Hh))Hh[e]?n.emulator.push(e):n.prod.push(e);return n}function Y8(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var yN=!1;function Fy(n,e){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||Hh[n]===e||Hh[n]||yN)return;Hh[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=G8().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{yN=!0,s()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=Y8(r),y=t("text"),E=document.getElementById(y)||document.createElement("span"),w=t("learnmore"),I=document.getElementById(w)||document.createElement("a"),k=t("preprendIcon"),L=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let U=g.element;a(U),d(I,w);let q=l();c(L,k),U.append(L,E,I,q),document.body.appendChild(U)}o?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function K8(){var n;let e=(n=Ny())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ly(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TN(){let n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function DN(){return!K8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lc(){try{return typeof indexedDB=="object"}catch{return!1}}function Vy(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function SN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Q8="FirebaseError",Cn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Q8,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gn.prototype.create)}},Gn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Z8(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Cn(i,a,r)}};function Z8(n,e){return n.replace(X8,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var X8=/\{\$([^}]+)}/g;function AN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function br(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(_N(o)&&_N(s)){if(!br(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function _N(n){return n!==null&&typeof n=="object"}function zh(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ru(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function iu(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xN(n,e){let t=new PI(n,e);return t.subscribe.bind(t)}var PI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");J8(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=MI),i.error===void 0&&(i.error=MI),i.complete===void 0&&(i.complete=MI);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function J8(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function MI(){}var e9=1e3,t9=2,n9=14400*1e3,r9=.5;function jy(n,e=e9,t=t9){let r=e*Math.pow(t,n),i=Math.round(r9*r*(Math.random()-.5)*2);return Math.min(n9,r+i)}function ct(n){return n&&n._delegate?n._delegate:n}var zt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var uc="[DEFAULT]";var LI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new cc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o9(e))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=uc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uc){return this.instances.has(e)}getOptions(e=uc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uc){return this.component?this.component.multipleInstances?e:uc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function i9(n){return n===uc?void 0:n}function o9(n){return n.instantiationMode==="EAGER"}var By=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new LI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var s9=[],Le=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Le||{}),a9={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},c9=Le.INFO,l9={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},u9=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=l9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Vr=class{constructor(e){this.name=e,this._logLevel=c9,this._logHandler=u9,this._userLogHandler=null,s9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};var d9=(n,e)=>e.some(t=>n instanceof t),MN,RN;function h9(){return MN||(MN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f9(){return RN||(RN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PN=new WeakMap,jI=new WeakMap,kN=new WeakMap,VI=new WeakMap,UI=new WeakMap;function p9(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Wi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&PN.set(t,n)}).catch(()=>{}),UI.set(e,n),e}function g9(n){if(jI.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});jI.set(n,e)}var BI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NN(n){BI=n(BI)}function m9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Uy(this),e,...t);return kN.set(r,e.sort?e.sort():[e]),Wi(r)}:f9().includes(n)?function(...e){return n.apply(Uy(this),e),Wi(PN.get(this))}:function(...e){return Wi(n.apply(Uy(this),e))}}function y9(n){return typeof n=="function"?m9(n):(n instanceof IDBTransaction&&g9(n),d9(n,h9())?new Proxy(n,BI):n)}function Wi(n){if(n instanceof IDBRequest)return p9(n);if(VI.has(n))return VI.get(n);let e=y9(n);return e!==n&&(VI.set(n,e),UI.set(e,n)),e}var Uy=n=>UI.get(n);function Hy(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Wi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Wi(s.result),c.oldVersion,c.newVersion,Wi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var _9=["get","getKey","getAll","getAllKeys","count"],v9=["put","add","delete","clear"],HI=new Map;function ON(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(HI.get(e))return HI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=v9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_9.includes(t)))return;let o=async function(s,...a){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&c.done]))[0]};return HI.set(e,o),o}NN(n=>ye(J({},n),{get:(e,t,r)=>ON(e,t)||n.get(e,t,r),has:(e,t)=>!!ON(e,t)||n.has(e,t)}));var zI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b9(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function b9(n){let e=n.getComponent();return e?.type==="VERSION"}var WI="@firebase/app",FN="0.13.2";var jo=new Vr("@firebase/app"),E9="@firebase/app-compat",w9="@firebase/analytics-compat",I9="@firebase/analytics",C9="@firebase/app-check-compat",T9="@firebase/app-check",D9="@firebase/auth",S9="@firebase/auth-compat",A9="@firebase/database",x9="@firebase/data-connect",M9="@firebase/database-compat",R9="@firebase/functions",P9="@firebase/functions-compat",k9="@firebase/installations",N9="@firebase/installations-compat",O9="@firebase/messaging",F9="@firebase/messaging-compat",L9="@firebase/performance",V9="@firebase/performance-compat",j9="@firebase/remote-config",B9="@firebase/remote-config-compat",U9="@firebase/storage",H9="@firebase/storage-compat",$9="@firebase/firestore",z9="@firebase/ai",W9="@firebase/firestore-compat",q9="firebase",G9="11.10.0";var qI="[DEFAULT]",Y9={[WI]:"fire-core",[E9]:"fire-core-compat",[I9]:"fire-analytics",[w9]:"fire-analytics-compat",[T9]:"fire-app-check",[C9]:"fire-app-check-compat",[D9]:"fire-auth",[S9]:"fire-auth-compat",[A9]:"fire-rtdb",[x9]:"fire-data-connect",[M9]:"fire-rtdb-compat",[R9]:"fire-fn",[P9]:"fire-fn-compat",[k9]:"fire-iid",[N9]:"fire-iid-compat",[O9]:"fire-fcm",[F9]:"fire-fcm-compat",[L9]:"fire-perf",[V9]:"fire-perf-compat",[j9]:"fire-rc",[B9]:"fire-rc-compat",[U9]:"fire-gcs",[H9]:"fire-gcs-compat",[$9]:"fire-fst",[W9]:"fire-fst-compat",[z9]:"fire-vertex","fire-js":"fire-js",[q9]:"fire-js-all"};var Wh=new Map,K9=new Map,GI=new Map;function LN(n,e){try{n.container.addComponent(e)}catch(t){jo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tn(n){let e=n.name;if(GI.has(e))return jo.debug(`There were multiple attempts to register component ${e}.`),!1;GI.set(e,n);for(let t of Wh.values())LN(t,n);for(let t of K9.values())LN(t,n);return!0}function jr(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yn(n){return n==null?!1:n.settings!==void 0}var Q9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Gn("app","Firebase",Q9);var YI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}};var Vs=G9;function ZI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(t||(t=OI()),!t)throw Ls.create("no-options");let o=Wh.get(i);if(o){if(br(t,o.options)&&br(r,o.config))return o;throw Ls.create("duplicate-app",{appName:i})}let s=new By(i);for(let c of GI.values())s.addComponent(c);let a=new YI(t,r,s);return Wh.set(i,a),a}function qi(n=qI){let e=Wh.get(n);if(!e&&n===qI&&OI())return ZI();if(!e)throw Ls.create("no-app",{appName:n});return e}function $y(){return Array.from(Wh.values())}function nt(n,e,t){var r;let i=(r=Y9[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jo.warn(a.join(" "));return}Tn(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Z9="firebase-heartbeat-database",X9=1,qh="firebase-heartbeat-store",$I=null;function UN(){return $I||($I=Hy(Z9,X9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ls.create("idb-open",{originalErrorMessage:n.message})})),$I}async function J9(n){try{let t=(await UN()).transaction(qh),r=await t.objectStore(qh).get(HN(n));return await t.done,r}catch(e){if(e instanceof Cn)jo.warn(e.message);else{let t=Ls.create("idb-get",{originalErrorMessage:e?.message});jo.warn(t.message)}}}async function VN(n,e){try{let r=(await UN()).transaction(qh,"readwrite");await r.objectStore(qh).put(e,HN(n)),await r.done}catch(t){if(t instanceof Cn)jo.warn(t.message);else{let r=Ls.create("idb-set",{originalErrorMessage:t?.message});jo.warn(r.message)}}}function HN(n){return`${n.name}!${n.options.appId}`}var eG=1024,tG=30,KI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new QI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>tG){let s=rG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=jN(),{heartbeatsToSend:r,unsentEntries:i}=nG(this._heartbeatsCache.heartbeats),o=$h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return jo.warn(t),""}}};function jN(){return new Date().toISOString().substring(0,10)}function nG(n,e=eG){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),BN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),BN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var QI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lc()?Vy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await J9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return VN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return VN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function BN(n){return $h(JSON.stringify({version:2,heartbeats:n})).length}function rG(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function iG(n){Tn(new zt("platform-logger",e=>new zI(e),"PRIVATE")),Tn(new zt("heartbeat",e=>new KI(e),"PRIVATE")),nt(WI,FN,n),nt(WI,FN,"esm2017"),nt("fire-js","")}iG("");var oG="firebase",sG="11.10.0";nt(oG,sG,"app");function $N(n){n===void 0&&(n=Z(Lt));let e=n.get(kl);return t=>new Me(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Gi=new Pa("ANGULARFIRE2_VERSION");function hc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var js=(n,e)=>{let t=e?[e]:$y(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ou=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ou||{}),zN=Vw()&&typeof Zone<"u"?ou.WARN:ou.SILENT;var zy=class{zone;delegate;constructor(e,t=ub){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Yi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=Z(dt);this.outsideAngular=t.runOutsideAngular(()=>new zy(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new zy(typeof Zone>"u"?void 0:Zone.current,lb))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WN=!1;function aG(n,e){!WN&&(zN>ou.SILENT||Vw())&&(WN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),zN>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function cG(n){let e=Z(dt,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function dc(n){let e=Z(dt,{optional:!0});return e?e.run(()=>n()):n()}var lG=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),on(t,()=>dc(()=>n.apply(void 0,r)))),vt=(n,e,t)=>(t||=e?ou.WARN:ou.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=Z(Yi),s=Z(kl),a=Z(rn)}catch{return aG(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=dc(()=>s.add())),i[l]=lG(i[l],r,a));let c=cG(()=>n.apply(this,i));return e?c instanceof Me?c.pipe(ys(o.outsideAngular),ms(o.insideAngular),$N(a)):c instanceof Promise?dc(()=>{let l=s.add();return new Promise((d,f)=>{c.then(g=>on(a,()=>dc(()=>d(g))),g=>on(a,()=>dc(()=>f(g)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:dc(()=>c):c instanceof Me?c.pipe(ys(o.outsideAngular),ms(o.insideAngular)):dc(()=>c)});var di=class{constructor(e){return e}},Bo=class{constructor(){return $y()}};function uG(n){return n&&n.length===1?n[0]:new di(qi())}var XI=new ue("angularfire2._apps"),dG={provide:di,useFactory:uG,deps:[[new kn,XI]]},hG={provide:Bo,deps:[[new kn,XI]]};function fG(n){return(e,t)=>{let r=t.get(Li);nt("angularfire",Gi.full,"core"),nt("angularfire",Gi.full,"app"),nt("angular",kb.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new di(i)}}function qN(n,...e){return gr([dG,hG,{provide:XI,useFactory:fG(n),multi:!0,deps:[dt,Lt,Yi,...e]}])}var GN=vt(ZI,!0);var pG=new Map,gG={activated:!1,tokenObservers:[]},mG={initialized:!1,enabled:!1};function hi(n){return pG.get(n)||Object.assign({},gG)}function ZN(){return mG}var yG="https://content-firebaseappcheck.googleapis.com/v1";var _G="exchangeDebugToken",YN={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Nwe=1440*60*1e3;var tC=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new cc,this.pending.promise.catch(t=>{}),await vG(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new cc,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function vG(n){return new Promise(e=>{setTimeout(e,n)})}var bG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Bs=new Gn("appCheck","AppCheck",bG);function XN(n){if(!hi(n).activated)throw Bs.create("use-before-activation",{appName:n.name})}async function JN({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(f){throw Bs.create("fetch-network-error",{originalErrorMessage:f?.message})}if(s.status!==200)throw Bs.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(f){throw Bs.create("fetch-parse-error",{originalErrorMessage:f?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Bs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(c[1])*1e3,d=Date.now();return{token:a.token,expireTimeMillis:d+l,issuedAtTimeMillis:d}}function eO(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${yG}/projects/${t}/apps/${r}:${_G}?key=${i}`,body:{debug_token:e}}}var EG="firebase-app-check-database",wG=1,nC="firebase-app-check-store";var Wy=null;function IG(){return Wy||(Wy=new Promise((n,e)=>{try{let t=indexedDB.open(EG,wG);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Bs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(nC,{keyPath:"compositeKey"})}}}catch(t){e(Bs.create("storage-open",{originalErrorMessage:t?.message}))}}),Wy)}function CG(n,e){return TG(DG(n),e)}async function TG(n,e){let r=(await IG()).transaction(nC,"readwrite"),o=r.objectStore(nC).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Bs.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})}function DG(n){return`${n.options.appId}-${n.name}`}var Gh=new Vr("@firebase/app-check");function JI(n,e){return lc()?CG(n,e).catch(t=>{Gh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function tO(){return ZN().enabled}async function nO(){let n=ZN();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var SG={error:"UNKNOWN_ERROR"};function AG(n){return Py.encodeString(JSON.stringify(n),!1)}async function rC(n,e=!1,t=!1){let r=n.app;XN(r);let i=hi(r),o=i.token,s;if(o&&!Yh(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Yh(l)?o=l:await JI(r,void 0))}if(!e&&o&&Yh(o))return{token:o.token};let a=!1;if(tO())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=JN(eO(r,await nO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await JI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Gh.warn(l.message):t&&Gh.error(l),eC(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await hi(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Gh.warn(l.message):t&&Gh.error(l),s=l}let c;return o?s?Yh(o)?c={token:o.token,internalError:s}:c=eC(s):(c={token:o.token},i.token=o,await JI(r,o)):c=eC(s),a&&PG(r,c),c}async function xG(n){let e=n.app;XN(e);let{provider:t}=hi(e);if(tO()){let r=await nO(),{token:i}=await JN(eO(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function MG(n,e,t,r){let{app:i}=n,o=hi(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Yh(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),KN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>KN(n))}function rO(n,e){let t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function KN(n){let{app:e}=n,t=hi(e),r=t.tokenRefresher;r||(r=RG(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function RG(n){let{app:e}=n;return new tC(async()=>{let t=hi(e),r;if(t.token?r=await rC(n,!0):r=await rC(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},YN.RETRIAL_MIN_WAIT,YN.RETRIAL_MAX_WAIT)}function PG(n,e){let t=hi(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Yh(n){return n.expireTimeMillis-Date.now()>0}function eC(n){return{token:AG(SG),error:n}}var iC=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=hi(this.app);for(let t of e)rO(this.app,t.next);return Promise.resolve()}};function kG(n,e){return new iC(n,e)}function NG(n){return{getToken:e=>rC(n,e),getLimitedUseToken:()=>xG(n),addTokenListener:e=>MG(n,"INTERNAL",e),removeTokenListener:e=>rO(n.app,e)}}var OG="@firebase/app-check",FG="0.10.1";var LG="app-check",QN="app-check-internal";function VG(){Tn(new zt(LG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return kG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QN).initialize()})),Tn(new zt(QN,n=>{let e=n.getProvider("app-check").getImmediate();return NG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),nt(OG,FG)}VG();var jG="app-check";var su=class{constructor(){return js(jG)}};var BG=["localhost","0.0.0.0","127.0.0.1"],qwe=typeof window<"u"&&BG.includes(window.location.hostname);function vO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bO=vO,EO=new Gn("auth","Firebase",vO());var Zy=new Vr("@firebase/auth");function UG(n,...e){Zy.logLevel<=Le.WARN&&Zy.warn(`Auth (${Vs}): ${n}`,...e)}function Gy(n,...e){Zy.logLevel<=Le.ERROR&&Zy.error(`Auth (${Vs}): ${n}`,...e)}function Zi(n,...e){throw xC(n,...e)}function fc(n,...e){return xC(n,...e)}function wO(n,e,t){let r=Object.assign(Object.assign({},bO()),{[e]:t});return new Gn("auth","Firebase",r).create(e,{appName:n.name})}function Ki(n){return wO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xC(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return EO.create(n,...e)}function me(n,e,...t){if(!n)throw xC(e,...t)}function Uo(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Gy(e),new Error(e)}function $s(n,e){n||Uo(e)}function cC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HG(){return iO()==="http:"||iO()==="https:"}function iO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function $G(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HG()||Ly()||"connection"in navigator)?navigator.onLine:!0}function zG(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var pc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$s(t>e,"Short delay should be less than long delay!"),this.isMobile=wN()||CN()}get(){return $G()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function MC(n,e){$s(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Xy=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var WG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GG=new pc(3e4,6e4);function zs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $o(n,e,t,r,i={}){return IO(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=zh(Object.assign({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:c},o);return IN()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Fs(n.emulatorConfig.host)&&(l.credentials="include"),Xy.fetch()(await CO(n,n.config.apiHost,t,a),l)})}async function IO(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},WG),e);try{let i=new lC(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw qy(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qy(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw qy(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw qy(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw wO(n,d,l);Zi(n,d)}}catch(i){if(i instanceof Cn)throw i;Zi(n,"network-request-failed",{message:String(i)})}}async function nf(n,e,t,r,i={}){let o=await $o(n,e,t,r,i);return"mfaPendingCredential"in o&&Zi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function CO(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?MC(n.config,i):`${n.config.apiScheme}://${i}`;return qG.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function YG(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var lC=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(fc(this.auth,"network-request-failed")),GG.get())})}};function qy(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=fc(n,e,r);return i.customData._tokenResponse=t,i}function oO(n){return n!==void 0&&n.enterprise!==void 0}var uC=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YG(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function KG(n,e){return $o(n,"GET","/v2/recaptchaConfig",zs(n,e))}async function QG(n,e){return $o(n,"POST","/v1/accounts:delete",e)}async function Jy(n,e){return $o(n,"POST","/v1/accounts:lookup",e)}function Qh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RC(n,e=!1){let t=ct(n),r=await t.getIdToken(e),i=PC(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qh(oC(i.auth_time)),issuedAtTime:Qh(oC(i.iat)),expirationTime:Qh(oC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function oC(n){return Number(n)*1e3}function PC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gy("JWT malformed, contained fewer than 3 sections"),null;try{let i=ky(t);return i?JSON.parse(i):(Gy("Failed to decode base64 JWT payload"),null)}catch(i){return Gy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sO(n){let e=PC(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function au(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Cn&&ZG(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ZG({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var dC=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Xh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qh(this.lastLoginAt),this.creationTime=Qh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function e_(n){var e;let t=n.auth,r=await n.getIdToken(),i=await au(n,Jy(t,{idToken:r}));me(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TO(o.providerUserInfo):[],a=XG(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,d=c?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xh(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)}async function kC(n){let e=ct(n);await e_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XG(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TO(n){return n.map(e=>{var{providerId:t}=e,r=db(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function JG(n,e){let t=await IO(n,{},async()=>{let r=zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await CO(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Fs(n.emulatorConfig.host)&&(c.credentials="include"),Xy.fetch()(s,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function e7(n,e){return $o(n,"POST","/v2/accounts:revokeToken",zs(n,e))}var Zh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");let t=sO(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await JG(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Uo("not implemented")}};function Us(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Hs=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=db(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await au(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RC(this,e)}reload(){return kC(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await e_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Ki(this.auth));let e=await this.getIdToken();return await au(this,QG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,I=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,L=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:U,emailVerified:q,isAnonymous:z,providerData:$,stsTokenManager:A}=t;me(U&&A,e,"internal-error");let T=Zh.fromJSON(this.name,A);me(typeof U=="string",e,"internal-error"),Us(f,e.name),Us(g,e.name),me(typeof q=="boolean",e,"internal-error"),me(typeof z=="boolean",e,"internal-error"),Us(y,e.name),Us(E,e.name),Us(w,e.name),Us(I,e.name),Us(k,e.name),Us(L,e.name);let S=new n({uid:U,auth:e,email:g,emailVerified:q,displayName:f,isAnonymous:z,photoURL:E,phoneNumber:y,tenantId:w,stsTokenManager:T,createdAt:k,lastLoginAt:L});return $&&Array.isArray($)&&(S.providerData=$.map(R=>Object.assign({},R))),I&&(S._redirectEventId=I),S}static async _fromIdTokenResponse(e,t,r=!1){let i=new Zh;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await e_(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];me(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?TO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Zh;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c}};var aO=new Map;function Ho(n){$s(n instanceof Function,"Expected a class definition");let e=aO.get(n);return e?($s(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aO.set(n,e),e)}var t7=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),hC=t7;function Yy(n,e,t){return`firebase:${n}:${e}:${t}`}var t_=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yy(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yy("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Jy(this.auth,{idToken:e}).catch(()=>{});return t?Hs._fromGetAccountInfoResponse(this.auth,t,e):null}return Hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Ho(hC),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Ho(hC),s=Yy(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=await l._get(s);if(d){let f;if(typeof d=="string"){let g=await Jy(e,{idToken:d}).catch(()=>{});if(!g)break;f=await Hs._fromGetAccountInfoResponse(e,g,d)}else f=Hs._fromJSON(e,d);l!==o&&(a=f),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function cO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RO(e))return"Blackberry";if(PO(e))return"Webos";if(SO(e))return"Safari";if((e.includes("chrome/")||AO(e))&&!e.includes("edge/"))return"Chrome";if(MO(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function DO(n=mn()){return/firefox\//i.test(n)}function SO(n=mn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AO(n=mn()){return/crios\//i.test(n)}function xO(n=mn()){return/iemobile/i.test(n)}function MO(n=mn()){return/android/i.test(n)}function RO(n=mn()){return/blackberry/i.test(n)}function PO(n=mn()){return/webos/i.test(n)}function NC(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function n7(n=mn()){var e;return NC(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r7(){return TN()&&document.documentMode===10}function kO(n=mn()){return NC(n)||MO(n)||PO(n)||RO(n)||/windows phone/i.test(n)||xO(n)}function NO(n,e=[]){let t;switch(n){case"Browser":t=cO(mn());break;case"Worker":t=`${cO(mn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vs}/${r}`}var fC=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function i7(n,e={}){return $o(n,"GET","/v2/passwordPolicy",zs(n,e))}var o7=6,pC=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:o7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var gC=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n_(this),this.idTokenSubscription=new n_(this),this.beforeStateQueue=new fC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ho(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await t_.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Jy(this,{idToken:e}),r=await Hs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await e_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Ki(this));let t=e?ct(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ho(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await i7(this),t=new pC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await e7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Ho(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await t_.create(this,[Ho(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&UG(`Error while retrieving App Check token: ${t.error}`),t?.token}};function mc(n){return ct(n)}var n_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xN(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var l_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s7(n){l_=n}function OO(n){return l_.loadJS(n)}function a7(){return l_.recaptchaEnterpriseScript}function c7(){return l_.gapiScript}function FO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var mC=class{constructor(){this.enterprise=new yC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},yC=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var l7="recaptcha-enterprise",LO="NO_RECAPTCHA",_C=class{constructor(e){this.type=l7,this.auth=mc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{KG(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new uC(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})})}function i(o,s,a){let c=window.grecaptcha;oO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(LO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mC().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&oO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=a7();c.length!==0&&(c+=a),OO(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Kh(n,e,t,r=!1,i=!1){let o=new _C(n),s;if(i)s=LO;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vC(n,e,t,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await Kh(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=await Kh(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await Kh(n,e,t);return r(n,a).catch(async c=>{var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=await Kh(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)})}else{let a=await Kh(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function OC(n,e){let t=jr(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(br(o,e??{}))return i;Zi(i,"already-initialized")}return t.initialize({options:e})}function u7(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ho);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function FC(n,e,t){let r=mc(n);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=VO(e),{host:s,port:a}=d7(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(br(l,r.config.emulator)&&br(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Fs(s)?(Oy(`${o}//${s}${c}`),Fy("Auth",!0)):i||h7()}function VO(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function d7(n){let e=VO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:lO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:lO(s)}}}function lO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function h7(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Jh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Uo("not implemented")}_getIdTokenResponse(e){return Uo("not implemented")}_linkToIdToken(e,t){return Uo("not implemented")}_getReauthenticationResolver(e){return Uo("not implemented")}};async function f7(n,e){return $o(n,"POST","/v1/accounts:update",e)}async function p7(n,e){return $o(n,"POST","/v1/accounts:signUp",e)}async function g7(n,e){return nf(n,"POST","/v1/accounts:signInWithPassword",zs(n,e))}async function m7(n,e){return nf(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,e))}async function y7(n,e){return nf(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,e))}var ef=class n extends Jh{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vC(e,t,"signInWithPassword",g7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return m7(e,{email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vC(e,r,"signUpPassword",p7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y7(e,{idToken:t,email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function sC(n,e){return nf(n,"POST","/v1/accounts:signInWithIdp",zs(n,e))}function _7(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v7(n){let e=ru(iu(n)).link,t=e?ru(iu(e)).deep_link_id:null,r=ru(iu(n)).deep_link_id;return(r?ru(iu(r)).link:null)||r||t||e||n}var r_=class n{constructor(e){var t,r,i,o,s,a;let c=ru(iu(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=_7((i=c.mode)!==null&&i!==void 0?i:null);me(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=v7(e);try{return new n(t)}catch{return null}}};var rf=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ef._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=r_.parseLink(r);return me(i,"argument-error"),ef._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),i_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var bC=class extends i_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function b7(n,e){return nf(n,"POST","/v1/accounts:signUp",zs(n,e))}var cu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Hs._fromIdTokenResponse(e,r,i),s=uO(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=uO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function uO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var EC=class n extends Cn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function jO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?EC._fromErrorAndOperation(n,o,e,r):o})}async function E7(n,e,t=!1){let r=await au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return cu._forOperation(n,"link",r)}async function BO(n,e,t=!1){let{auth:r}=n;if(Yn(r.app))return Promise.reject(Ki(r));let i="reauthenticate";try{let o=await au(n,jO(r,i,e,n),t);me(o.idToken,r,"internal-error");let s=PC(o.idToken);me(s,r,"internal-error");let{sub:a}=s;return me(n.uid===a,r,"user-mismatch"),cu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zi(r,"user-mismatch"),o}}async function UO(n,e,t=!1){if(Yn(n.app))return Promise.reject(Ki(n));let r="signIn",i=await jO(n,r,e),o=await cu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function LC(n,e){return UO(mc(n),e)}async function VC(n,e){return BO(ct(n),e)}async function HO(n){let e=mc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jC(n,e,t){if(Yn(n.app))return Promise.reject(Ki(n));let r=mc(n),s=await vC(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b7,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&HO(n),c}),a=await cu._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function BC(n,e,t){return Yn(n.app)?Promise.reject(Ki(n)):LC(ct(n),rf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HO(n),r})}function UC(n,e){let t=ct(n);return Yn(t.auth.app)?Promise.reject(Ki(t.auth)):$O(t,e,null)}function HC(n,e){return $O(ct(n),null,e)}async function $O(n,e,t){let{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=await au(n,f7(r,o));await n._updateTokensIfNecessary(s,!0)}function $C(n,e,t,r){return ct(n).onIdTokenChanged(e,t,r)}function zC(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function WC(n,e,t,r){return ct(n).onAuthStateChanged(e,t,r)}function qC(n){return ct(n).signOut()}async function GC(n){return ct(n).delete()}var o_="__sak";var s_=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(o_,"1"),this.storage.removeItem(o_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var w7=1e3,I7=10,C7=(()=>{class n extends s_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);r7()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,I7):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},w7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),zO=C7;var T7=(()=>{class n extends s_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),YC=T7;function D7(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var S7=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(async d=>d(r.origin,s)),l=await D7(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function WO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var wC=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=WO("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Qi(){return window}function A7(n){Qi().location.href=n}function qO(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function x7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M7(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function R7(){return qO()?self:null}var GO="firebaseLocalStorageDb",P7=1,a_="firebaseLocalStorage",YO="fbase_key",gc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function u_(n,e){return n.transaction([a_],e?"readwrite":"readonly").objectStore(a_)}function k7(){let n=indexedDB.deleteDatabase(GO);return new gc(n).toPromise()}function IC(){let n=indexedDB.open(GO,P7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(a_,{keyPath:YO})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(a_)?e(r):(r.close(),await k7(),e(await IC()))})})}async function dO(n,e,t){let r=u_(n,!0).put({[YO]:e,value:t});return new gc(r).toPromise()}async function N7(n,e){let t=u_(n,!1).get(e),r=await new gc(t).toPromise();return r===void 0?null:r.value}function hO(n,e){let t=u_(n,!0).delete(e);return new gc(t).toPromise()}var O7=800,F7=3,L7=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await IC(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>F7)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=S7._getInstance(R7()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await x7(),!this.activeServiceWorker)return;this.sender=new wC(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||M7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await IC();return await dO(t,o_,"1"),await hO(t,o_),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>dO(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>N7(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>hO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=u_(o,!1).getAll();return new gc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),KO=L7;var eIe=FO("rcb"),tIe=new pc(3e4,6e4);function V7(n,e){return e?Ho(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var tf=class extends Jh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sC(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sC(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sC(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function j7(n){return UO(n.auth,new tf(n),n.bypassAuthState)}function B7(n){let{auth:e,user:t}=n;return me(t,e,"internal-error"),BO(t,new tf(n),n.bypassAuthState)}async function U7(n){let{auth:e,user:t}=n;return me(t,e,"internal-error"),E7(t,new tf(n),n.bypassAuthState)}var CC=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j7;case"linkViaPopup":case"linkViaRedirect":return U7;case"reauthViaPopup":case"reauthViaRedirect":return B7;default:Zi(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var nIe=new pc(2e3,1e4);var H7="pendingRedirect",Ky=new Map,TC=class extends CC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ky.get(this.auth._key());if(!e){try{let r=await $7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ky.set(this.auth._key(),e)}return this.bypassAuthState||Ky.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function $7(n,e){let t=q7(e),r=W7(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function z7(n,e){Ky.set(n._key(),e)}function W7(n){return Ho(n._redirectPersistence)}function q7(n){return Yy(H7,n.config.apiKey,n.name)}async function G7(n,e,t=!1){if(Yn(n.app))return Promise.reject(Ki(n));let r=mc(n),i=V7(r,e),s=await new TC(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var Y7=600*1e3,DC=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!QO(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(fc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y7&&this.cachedEventUids.clear(),this.cachedEventUids.has(fO(e))}saveEventToCache(e){this.cachedEventUids.add(fO(e)),this.lastProcessedEventTime=Date.now()}};function fO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function QO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function K7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QO(n);default:return!1}}async function Q7(n,e={}){return $o(n,"GET","/v1/projects",e)}var Z7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X7=/^https?/;async function J7(n){if(n.config.emulator)return;let{authorizedDomains:e}=await Q7(n);for(let t of e)try{if(eY(t))return}catch{}Zi(n,"unauthorized-domain")}function eY(n){let e=cC(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!X7.test(t))return!1;if(Z7.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var tY=new pc(3e4,6e4);function pO(){let n=Qi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nY(n){return new Promise((e,t)=>{var r,i,o;function s(){pO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pO(),t(fc(n,"network-request-failed"))},timeout:tY.get()})}if(!((i=(r=Qi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qi().gapi)===null||o===void 0)&&o.load)s();else{let a=FO("iframefcb");return Qi()[a]=()=>{gapi.load?s():t(fc(n,"network-request-failed"))},OO(`${c7()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Qy=null,e})}var Qy=null;function rY(n){return Qy=Qy||nY(n),Qy}var iY=new pc(5e3,15e3),oY="__/auth/iframe",sY="emulator/auth/iframe",aY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lY(n){let e=n.config;me(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?MC(e,sY):`https://${n.config.authDomain}/${oY}`,r={apiKey:e.apiKey,appName:n.name,v:Vs},i=cY.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${zh(r).slice(1)}`}async function uY(n){let e=await rY(n),t=Qi().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:lY(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aY,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=fc(n,"network-request-failed"),a=Qi().setTimeout(()=>{o(s)},iY.get());function c(){Qi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})}))}var dY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hY=500,fY=600,pY="_blank",gY="http://localhost",c_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function mY(n,e,t,r=hY,i=fY){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},dY),{width:r.toString(),height:i.toString(),top:o,left:s}),l=mn().toLowerCase();t&&(a=AO(l)?pY:t),DO(l)&&(e=e||gY,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(n7(l)&&a!=="_self")return yY(e||"",a),new c_(null);let f=window.open(e||"",a,d);me(f,n,"popup-blocked");try{f.focus()}catch{}return new c_(f)}function yY(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var _Y="__/auth/handler",vY="emulator/auth/handler",bY=encodeURIComponent("fac");async function gO(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vs,eventId:i};if(e instanceof i_){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",AN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof bC){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=await n._getAppCheckToken(),l=c?`#${bY}=${encodeURIComponent(c)}`:"";return`${EY(n)}?${zh(a).slice(1)}${l}`}function EY({config:n}){return n.emulator?MC(n,vY):`https://${n.authDomain}/${_Y}`}var aC="webStorageSupport",SC=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YC,this._completeRedirectFn=G7,this._overrideRedirectResult=z7}async _openPopup(e,t,r,i){var o;$s((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await gO(e,t,r,cC(),i);return mY(e,s,WO())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await gO(e,t,r,cC(),i);return A7(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):($s(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await uY(e),r=new DC(e);return t.register("authEvent",i=>(me(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(aC,{type:aC},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[aC];s!==void 0&&t(!!s),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=J7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kO()||SO()||NC()}},ZO=SC;var mO="@firebase/auth",yO="1.10.8";var AC=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function wY(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IY(n){Tn(new zt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NO(n)},l=new gC(r,i,o,c);return u7(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new zt("auth-internal",e=>{let t=mc(e.getProvider("auth").getImmediate());return(r=>new AC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(mO,yO,wY(n)),nt(mO,yO,"esm2017")}var CY=300,TY=FI("authIdTokenMaxAge")||CY,_O=null,DY=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>TY)return;let i=t?.token;_O!==i&&(_O=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KC(n=qi()){let e=jr(n,"auth");if(e.isInitialized())return e.getImmediate();let t=OC(n,{popupRedirectResolver:ZO,persistence:[KO,zO,YC]}),r=FI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=DY(o.toString());zC(t,s,()=>s(t.currentUser)),$C(t,a=>s(a))}}let i=NI("auth");return i&&FC(t,`http://${i}`),t}function SY(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}s7({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=fc("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",SY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IY("Browser");var XO="auth",yc=class{constructor(e){return e}},of=class{constructor(){return js(XO)}};var QC=new ue("angularfire2.auth-instances");function dK(n,e){let t=hc(XO,n,e);return t&&new yc(t)}function hK(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new yc(r)}}var fK={provide:of,deps:[[new kn,QC]]},pK={provide:yc,useFactory:dK,deps:[[new kn,QC],di]};function JO(n,...e){return nt("angularfire",Gi.full,"auth"),gr([pK,fK,{provide:QC,useFactory:hK(n),multi:!0,deps:[dt,Lt,Yi,Bo,[new kn,su],...e]}])}var eF=vt(jC,!0,2),tF=vt(GC,!0,2);var nF=vt(KC,!0);var rF=vt(WC,!0);var ZC=vt(VC,!0,2);var iF=vt(BC,!0,2);var oF=vt(qC,!0,2);var sF=vt(UC,!0,2),aF=vt(HC,!0,2);var cF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lF={};var zo,XC;(function(){var n;function e(A,T){function S(){}S.prototype=T.prototype,A.D=T.prototype,A.prototype=new S,A.prototype.constructor=A,A.C=function(R,P,F){for(var x=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)x[mt-2]=arguments[mt];return T.prototype[P].apply(R,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,S){S||(S=0);var R=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)R[P]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(P=0;16>P;++P)R[P]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=A.g[0],S=A.g[1],P=A.g[2];var F=A.g[3],x=T+(F^S&(P^F))+R[0]+3614090360&4294967295;T=S+(x<<7&4294967295|x>>>25),x=F+(P^T&(S^P))+R[1]+3905402710&4294967295,F=T+(x<<12&4294967295|x>>>20),x=P+(S^F&(T^S))+R[2]+606105819&4294967295,P=F+(x<<17&4294967295|x>>>15),x=S+(T^P&(F^T))+R[3]+3250441966&4294967295,S=P+(x<<22&4294967295|x>>>10),x=T+(F^S&(P^F))+R[4]+4118548399&4294967295,T=S+(x<<7&4294967295|x>>>25),x=F+(P^T&(S^P))+R[5]+1200080426&4294967295,F=T+(x<<12&4294967295|x>>>20),x=P+(S^F&(T^S))+R[6]+2821735955&4294967295,P=F+(x<<17&4294967295|x>>>15),x=S+(T^P&(F^T))+R[7]+4249261313&4294967295,S=P+(x<<22&4294967295|x>>>10),x=T+(F^S&(P^F))+R[8]+1770035416&4294967295,T=S+(x<<7&4294967295|x>>>25),x=F+(P^T&(S^P))+R[9]+2336552879&4294967295,F=T+(x<<12&4294967295|x>>>20),x=P+(S^F&(T^S))+R[10]+4294925233&4294967295,P=F+(x<<17&4294967295|x>>>15),x=S+(T^P&(F^T))+R[11]+2304563134&4294967295,S=P+(x<<22&4294967295|x>>>10),x=T+(F^S&(P^F))+R[12]+1804603682&4294967295,T=S+(x<<7&4294967295|x>>>25),x=F+(P^T&(S^P))+R[13]+4254626195&4294967295,F=T+(x<<12&4294967295|x>>>20),x=P+(S^F&(T^S))+R[14]+2792965006&4294967295,P=F+(x<<17&4294967295|x>>>15),x=S+(T^P&(F^T))+R[15]+1236535329&4294967295,S=P+(x<<22&4294967295|x>>>10),x=T+(P^F&(S^P))+R[1]+4129170786&4294967295,T=S+(x<<5&4294967295|x>>>27),x=F+(S^P&(T^S))+R[6]+3225465664&4294967295,F=T+(x<<9&4294967295|x>>>23),x=P+(T^S&(F^T))+R[11]+643717713&4294967295,P=F+(x<<14&4294967295|x>>>18),x=S+(F^T&(P^F))+R[0]+3921069994&4294967295,S=P+(x<<20&4294967295|x>>>12),x=T+(P^F&(S^P))+R[5]+3593408605&4294967295,T=S+(x<<5&4294967295|x>>>27),x=F+(S^P&(T^S))+R[10]+38016083&4294967295,F=T+(x<<9&4294967295|x>>>23),x=P+(T^S&(F^T))+R[15]+3634488961&4294967295,P=F+(x<<14&4294967295|x>>>18),x=S+(F^T&(P^F))+R[4]+3889429448&4294967295,S=P+(x<<20&4294967295|x>>>12),x=T+(P^F&(S^P))+R[9]+568446438&4294967295,T=S+(x<<5&4294967295|x>>>27),x=F+(S^P&(T^S))+R[14]+3275163606&4294967295,F=T+(x<<9&4294967295|x>>>23),x=P+(T^S&(F^T))+R[3]+4107603335&4294967295,P=F+(x<<14&4294967295|x>>>18),x=S+(F^T&(P^F))+R[8]+1163531501&4294967295,S=P+(x<<20&4294967295|x>>>12),x=T+(P^F&(S^P))+R[13]+2850285829&4294967295,T=S+(x<<5&4294967295|x>>>27),x=F+(S^P&(T^S))+R[2]+4243563512&4294967295,F=T+(x<<9&4294967295|x>>>23),x=P+(T^S&(F^T))+R[7]+1735328473&4294967295,P=F+(x<<14&4294967295|x>>>18),x=S+(F^T&(P^F))+R[12]+2368359562&4294967295,S=P+(x<<20&4294967295|x>>>12),x=T+(S^P^F)+R[5]+4294588738&4294967295,T=S+(x<<4&4294967295|x>>>28),x=F+(T^S^P)+R[8]+2272392833&4294967295,F=T+(x<<11&4294967295|x>>>21),x=P+(F^T^S)+R[11]+1839030562&4294967295,P=F+(x<<16&4294967295|x>>>16),x=S+(P^F^T)+R[14]+4259657740&4294967295,S=P+(x<<23&4294967295|x>>>9),x=T+(S^P^F)+R[1]+2763975236&4294967295,T=S+(x<<4&4294967295|x>>>28),x=F+(T^S^P)+R[4]+1272893353&4294967295,F=T+(x<<11&4294967295|x>>>21),x=P+(F^T^S)+R[7]+4139469664&4294967295,P=F+(x<<16&4294967295|x>>>16),x=S+(P^F^T)+R[10]+3200236656&4294967295,S=P+(x<<23&4294967295|x>>>9),x=T+(S^P^F)+R[13]+681279174&4294967295,T=S+(x<<4&4294967295|x>>>28),x=F+(T^S^P)+R[0]+3936430074&4294967295,F=T+(x<<11&4294967295|x>>>21),x=P+(F^T^S)+R[3]+3572445317&4294967295,P=F+(x<<16&4294967295|x>>>16),x=S+(P^F^T)+R[6]+76029189&4294967295,S=P+(x<<23&4294967295|x>>>9),x=T+(S^P^F)+R[9]+3654602809&4294967295,T=S+(x<<4&4294967295|x>>>28),x=F+(T^S^P)+R[12]+3873151461&4294967295,F=T+(x<<11&4294967295|x>>>21),x=P+(F^T^S)+R[15]+530742520&4294967295,P=F+(x<<16&4294967295|x>>>16),x=S+(P^F^T)+R[2]+3299628645&4294967295,S=P+(x<<23&4294967295|x>>>9),x=T+(P^(S|~F))+R[0]+4096336452&4294967295,T=S+(x<<6&4294967295|x>>>26),x=F+(S^(T|~P))+R[7]+1126891415&4294967295,F=T+(x<<10&4294967295|x>>>22),x=P+(T^(F|~S))+R[14]+2878612391&4294967295,P=F+(x<<15&4294967295|x>>>17),x=S+(F^(P|~T))+R[5]+4237533241&4294967295,S=P+(x<<21&4294967295|x>>>11),x=T+(P^(S|~F))+R[12]+1700485571&4294967295,T=S+(x<<6&4294967295|x>>>26),x=F+(S^(T|~P))+R[3]+2399980690&4294967295,F=T+(x<<10&4294967295|x>>>22),x=P+(T^(F|~S))+R[10]+4293915773&4294967295,P=F+(x<<15&4294967295|x>>>17),x=S+(F^(P|~T))+R[1]+2240044497&4294967295,S=P+(x<<21&4294967295|x>>>11),x=T+(P^(S|~F))+R[8]+1873313359&4294967295,T=S+(x<<6&4294967295|x>>>26),x=F+(S^(T|~P))+R[15]+4264355552&4294967295,F=T+(x<<10&4294967295|x>>>22),x=P+(T^(F|~S))+R[6]+2734768916&4294967295,P=F+(x<<15&4294967295|x>>>17),x=S+(F^(P|~T))+R[13]+1309151649&4294967295,S=P+(x<<21&4294967295|x>>>11),x=T+(P^(S|~F))+R[4]+4149444226&4294967295,T=S+(x<<6&4294967295|x>>>26),x=F+(S^(T|~P))+R[11]+3174756917&4294967295,F=T+(x<<10&4294967295|x>>>22),x=P+(T^(F|~S))+R[2]+718787259&4294967295,P=F+(x<<15&4294967295|x>>>17),x=S+(F^(P|~T))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+F&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var S=T-this.blockSize,R=this.B,P=this.h,F=0;F<T;){if(P==0)for(;F<=S;)i(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<T;)if(R[P++]=A.charCodeAt(F++),P==this.blockSize){i(this,R),P=0;break}}else for(;F<T;)if(R[P++]=A[F++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var S=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=S&255,S/=256;for(this.u(A),A=Array(16),T=S=0;4>T;++T)for(var R=0;32>R;R+=8)A[S++]=this.g[T]>>>R&255;return A};function o(A,T){var S=a;return Object.prototype.hasOwnProperty.call(S,A)?S[A]:S[A]=T(A)}function s(A,T){this.h=T;for(var S=[],R=!0,P=A.length-1;0<=P;P--){var F=A[P]|0;R&&F==T||(S[P]=F,R=!1)}this.g=S}var a={};function c(A){return-128<=A&&128>A?o(A,function(T){return new s([T|0],0>T?-1:0)}):new s([A|0],0>A?-1:0)}function l(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return I(l(-A));for(var T=[],S=1,R=0;A>=S;R++)T[R]=A/S|0,S*=4294967296;return new s(T,0)}function d(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return I(d(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(T,8)),R=f,P=0;P<A.length;P+=8){var F=Math.min(8,A.length-P),x=parseInt(A.substring(P,P+F),T);8>F?(F=l(Math.pow(T,F)),R=R.j(F).add(l(x))):(R=R.j(S),R=R.add(l(x)))}return R}var f=c(0),g=c(1),y=c(16777216);n=s.prototype,n.m=function(){if(w(this))return-I(this).m();for(var A=0,T=1,S=0;S<this.g.length;S++){var R=this.i(S);A+=(0<=R?R:4294967296+R)*T,T*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(w(this))return"-"+I(this).toString(A);for(var T=l(Math.pow(A,6)),S=this,R="";;){var P=q(S,T).g;S=k(S,P.j(T));var F=((0<S.g.length?S.g[0]:S.h)>>>0).toString(A);if(S=P,E(S))return F+R;for(;6>F.length;)F="0"+F;R=F+R}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function w(A){return A.h==-1}n.l=function(A){return A=k(this,A),w(A)?-1:E(A)?0:1};function I(A){for(var T=A.g.length,S=[],R=0;R<T;R++)S[R]=~A.g[R];return new s(S,~A.h).add(g)}n.abs=function(){return w(this)?I(this):this},n.add=function(A){for(var T=Math.max(this.g.length,A.g.length),S=[],R=0,P=0;P<=T;P++){var F=R+(this.i(P)&65535)+(A.i(P)&65535),x=(F>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);R=x>>>16,F&=65535,x&=65535,S[P]=x<<16|F}return new s(S,S[S.length-1]&-2147483648?-1:0)};function k(A,T){return A.add(I(T))}n.j=function(A){if(E(this)||E(A))return f;if(w(this))return w(A)?I(this).j(I(A)):I(I(this).j(A));if(w(A))return I(this.j(I(A)));if(0>this.l(y)&&0>A.l(y))return l(this.m()*A.m());for(var T=this.g.length+A.g.length,S=[],R=0;R<2*T;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<A.g.length;P++){var F=this.i(R)>>>16,x=this.i(R)&65535,mt=A.i(P)>>>16,Ne=A.i(P)&65535;S[2*R+2*P]+=x*Ne,L(S,2*R+2*P),S[2*R+2*P+1]+=F*Ne,L(S,2*R+2*P+1),S[2*R+2*P+1]+=x*mt,L(S,2*R+2*P+1),S[2*R+2*P+2]+=F*mt,L(S,2*R+2*P+2)}for(R=0;R<T;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=T;R<2*T;R++)S[R]=0;return new s(S,0)};function L(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function U(A,T){this.g=A,this.h=T}function q(A,T){if(E(T))throw Error("division by zero");if(E(A))return new U(f,f);if(w(A))return T=q(I(A),T),new U(I(T.g),I(T.h));if(w(T))return T=q(A,I(T)),new U(I(T.g),T.h);if(30<A.g.length){if(w(A)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var S=g,R=T;0>=R.l(A);)S=z(S),R=z(R);var P=$(S,1),F=$(R,1);for(R=$(R,2),S=$(S,2);!E(R);){var x=F.add(R);0>=x.l(A)&&(P=P.add(S),F=x),R=$(R,1),S=$(S,1)}return T=k(A,P.j(T)),new U(P,T)}for(P=f;0<=A.l(T);){for(S=Math.max(1,Math.floor(A.m()/T.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),F=l(S),x=F.j(T);w(x)||0<x.l(A);)S-=R,F=l(S),x=F.j(T);E(F)&&(F=g),P=P.add(F),A=k(A,x)}return new U(P,A)}n.A=function(A){return q(this,A).h},n.and=function(A){for(var T=Math.max(this.g.length,A.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)&A.i(R);return new s(S,this.h&A.h)},n.or=function(A){for(var T=Math.max(this.g.length,A.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)|A.i(R);return new s(S,this.h|A.h)},n.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)^A.i(R);return new s(S,this.h^A.h)};function z(A){for(var T=A.g.length+1,S=[],R=0;R<T;R++)S[R]=A.i(R)<<1|A.i(R-1)>>>31;return new s(S,A.h)}function $(A,T){var S=T>>5;T%=32;for(var R=A.g.length-S,P=[],F=0;F<R;F++)P[F]=0<T?A.i(F+S)>>>T|A.i(F+S+1)<<32-T:A.i(F+S);return new s(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XC=lF.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,zo=lF.Integer=s}).apply(typeof cF<"u"?cF:typeof self<"u"?self:typeof window<"u"?window:{});var d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wo={};var JC,mK,lu,eT,sf,h_,tT,nT,rT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,b){return h==Array.prototype||h==Object.prototype||(h[m]=b.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof d_=="object"&&d_];for(var m=0;m<h.length;++m){var b=h[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(h,m){if(m)e:{var b=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var j=h[D];if(!(j in b))break e;b=b[j]}h=h[h.length-1],D=b[h],m=m(D),m!=D&&m!=null&&e(b,h,{configurable:!0,writable:!0,value:m})}}function o(h,m){h instanceof String&&(h+="");var b=0,D=!1,j={next:function(){if(!D&&b<h.length){var H=b++;return{value:m(H,h[H]),done:!1}}return D=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(h){return h||function(){return o(this,function(m,b){return b})}});var s=s||{},a=this||self;function c(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function l(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function d(h,m,b){return h.call.apply(h.bind,arguments)}function f(h,m,b){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,D),h.apply(m,j)}}return function(){return h.apply(m,arguments)}}function g(h,m,b){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(h,m){var b=Array.prototype.slice.call(arguments,1);return function(){var D=b.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function E(h,m){function b(){}b.prototype=m.prototype,h.aa=m.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(D,j,H){for(var ne=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ne[Ze-2]=arguments[Ze];return m.prototype[j].apply(D,ne)}}function w(h){let m=h.length;if(0<m){let b=Array(m);for(let D=0;D<m;D++)b[D]=h[D];return b}return[]}function I(h,m){for(let b=1;b<arguments.length;b++){let D=arguments[b];if(c(D)){let j=h.length||0,H=D.length||0;h.length=j+H;for(let ne=0;ne<H;ne++)h[j+ne]=D[ne]}else h.push(D)}}class k{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function L(h){return/^[\s\xa0]*$/.test(h)}function U(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function q(h){return q[" "](h),h}q[" "]=function(){};var z=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function $(h,m,b){for(let D in h)m.call(b,h[D],D,h)}function A(h,m){for(let b in h)m.call(void 0,h[b],b,h)}function T(h){let m={};for(let b in h)m[b]=h[b];return m}let S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,m){let b,D;for(let j=1;j<arguments.length;j++){D=arguments[j];for(b in D)h[b]=D[b];for(let H=0;H<S.length;H++)b=S[H],Object.prototype.hasOwnProperty.call(D,b)&&(h[b]=D[b])}}function P(h){var m=1;h=h.split(":");let b=[];for(;0<m&&h.length;)b.push(h.shift()),m--;return h.length&&b.push(h.join(":")),b}function F(h){a.setTimeout(()=>{throw h},0)}function x(){var h=At;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,b){let D=Ne.get();D.set(m,b),this.h?this.h.next=D:this.g=D,this.h=D}}var Ne=new k(()=>new lt,h=>h.reset());class lt{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ut=!1,At=new mt,Kn=()=>{let h=a.Promise.resolve(void 0);ot=()=>{h.then(_i)}};var _i=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(b){F(b)}var m=Ne;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}ut=!1};function Ot(){this.s=this.s,this.C=this.C}Ot.prototype.s=!1,Ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var zr=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{let b=()=>{};a.addEventListener("test",b,m),a.removeEventListener("test",b,m)}catch{}return h})();function ur(h,m){if(re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(z){e:{try{q(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else b=="mouseover"?m=h.fromElement:b=="mouseout"&&(m=h.toElement);this.relatedTarget=m,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Qn[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ur.aa.h.call(this)}}E(ur,re);var Qn={2:"touch",3:"pen",4:"mouse"};ur.prototype.h=function(){ur.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var os="closure_listenable_"+(1e6*Math.random()|0),g0=0;function m0(h,m,b,D,j){this.listener=h,this.proxy=null,this.src=m,this.type=b,this.capture=!!D,this.ha=j,this.key=++g0,this.da=this.fa=!1}function $c(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function zc(h){this.src=h,this.g={},this.h=0}zc.prototype.add=function(h,m,b,D,j){var H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);var ne=rd(h,m,D,j);return-1<ne?(m=h[ne],b||(m.fa=!1)):(m=new m0(m,this.src,H,!!D,j),m.fa=b,h.push(m)),m};function nd(h,m){var b=m.type;if(b in h.g){var D=h.g[b],j=Array.prototype.indexOf.call(D,m,void 0),H;(H=0<=j)&&Array.prototype.splice.call(D,j,1),H&&($c(m),h.g[b].length==0&&(delete h.g[b],h.h--))}}function rd(h,m,b,D){for(var j=0;j<h.length;++j){var H=h[j];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==D)return j}return-1}var id="closure_lm_"+(1e6*Math.random()|0),od={};function sp(h,m,b,D,j){if(D&&D.once)return Vn(h,m,b,D,j);if(Array.isArray(m)){for(var H=0;H<m.length;H++)sp(h,m[H],b,D,j);return null}return b=pa(b),h&&h[os]?h.K(m,b,l(D)?!!D.capture:!!D,j):ap(h,m,b,!1,D,j)}function ap(h,m,b,D,j,H){if(!m)throw Error("Invalid event type");var ne=l(j)?!!j.capture:!!j,Ze=vn(h);if(Ze||(h[id]=Ze=new zc(h)),b=Ze.add(m,b,D,ne,H),b.proxy)return b;if(D=cp(),b.proxy=D,D.src=h,D.listener=b,h.addEventListener)zr||(j=ne),j===void 0&&(j=!1),h.addEventListener(m.toString(),D,j);else if(h.attachEvent)h.attachEvent(lp(m.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return b}function cp(){function h(b){return m.call(h.src,h.listener,b)}let m=up;return h}function Vn(h,m,b,D,j){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Vn(h,m[H],b,D,j);return null}return b=pa(b),h&&h[os]?h.L(m,b,l(D)?!!D.capture:!!D,j):ap(h,m,b,!0,D,j)}function Wc(h,m,b,D,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)Wc(h,m[H],b,D,j);else D=l(D)?!!D.capture:!!D,b=pa(b),h&&h[os]?(h=h.i,m=String(m).toString(),m in h.g&&(H=h.g[m],b=rd(H,b,D,j),-1<b&&($c(H[b]),Array.prototype.splice.call(H,b,1),H.length==0&&(delete h.g[m],h.h--)))):h&&(h=vn(h))&&(m=h.g[m.toString()],h=-1,m&&(h=rd(m,b,D,j)),(b=-1<h?m[h]:null)&&sd(b))}function sd(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[os])nd(m.i,h);else{var b=h.type,D=h.proxy;m.removeEventListener?m.removeEventListener(b,D,h.capture):m.detachEvent?m.detachEvent(lp(b),D):m.addListener&&m.removeListener&&m.removeListener(D),(b=vn(m))?(nd(b,h),b.h==0&&(b.src=null,m[id]=null)):$c(h)}}}function lp(h){return h in od?od[h]:od[h]="on"+h}function up(h,m){if(h.da)h=!0;else{m=new ur(m,this);var b=h.listener,D=h.ha||h.src;h.fa&&sd(h),h=b.call(D,m)}return h}function vn(h){return h=h[id],h instanceof zc?h:null}var qc="__closure_events_fn_"+(1e9*Math.random()>>>0);function pa(h){return typeof h=="function"?h:(h[qc]||(h[qc]=function(m){return h.handleEvent(m)}),h[qc])}function Bt(){Ot.call(this),this.i=new zc(this),this.M=this,this.F=null}E(Bt,Ot),Bt.prototype[os]=!0,Bt.prototype.removeEventListener=function(h,m,b,D){Wc(this,h,m,b,D)};function Ae(h,m){var b,D=h.F;if(D)for(b=[];D;D=D.F)b.push(D);if(h=h.M,D=m.type||m,typeof m=="string")m=new re(m,h);else if(m instanceof re)m.target=m.target||h;else{var j=m;m=new re(D,h),R(m,j)}if(j=!0,b)for(var H=b.length-1;0<=H;H--){var ne=m.g=b[H];j=ga(ne,D,!0,m)&&j}if(ne=m.g=h,j=ga(ne,D,!0,m)&&j,j=ga(ne,D,!1,m)&&j,b)for(H=0;H<b.length;H++)ne=m.g=b[H],j=ga(ne,D,!1,m)&&j}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var b=h.g[m],D=0;D<b.length;D++)$c(b[D]);delete h.g[m],h.h--}}this.F=null},Bt.prototype.K=function(h,m,b,D){return this.i.add(String(h),m,!1,b,D)},Bt.prototype.L=function(h,m,b,D){return this.i.add(String(h),m,!0,b,D)};function ga(h,m,b,D){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,H=0;H<m.length;++H){var ne=m[H];if(ne&&!ne.da&&ne.capture==b){var Ze=ne.listener,tn=ne.ha||ne.src;ne.fa&&nd(h.i,ne),j=Ze.call(tn,D)!==!1&&j}}return j&&!D.defaultPrevented}function ad(h,m,b){if(typeof h=="function")b&&(h=g(h,b));else if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(h,m||0)}function ma(h){h.g=ad(()=>{h.g=null,h.i&&(h.i=!1,ma(h))},h.l);let m=h.h;h.h=null,h.m.apply(null,m)}class cd extends Ot{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(h){Ot.call(this),this.h=h,this.g={}}E(vi,Ot);var uo=[];function ya(h){$(h.g,function(m,b){this.g.hasOwnProperty(b)&&sd(m)},h),h.g={}}vi.prototype.N=function(){vi.aa.N.call(this),ya(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ld=a.JSON.stringify,Gc=a.JSON.parse,y0=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function ho(){}ho.prototype.h=null;function fo(h){return h.h||(h.h=h.i())}function Yc(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oe(){re.call(this,"d")}E(oe,re);function ud(){re.call(this,"c")}E(ud,re);var po={},Tr=null;function bn(){return Tr=Tr||new Bt}po.La="serverreachability";function Pe(h){re.call(this,po.La,h)}E(Pe,re);function go(h){let m=bn();Ae(m,new Pe(m))}po.STAT_EVENT="statevent";function Ke(h,m){re.call(this,po.STAT_EVENT,h),this.stat=m}E(Ke,re);function Ut(h){let m=bn();Ae(m,new Ke(m,h))}po.Ma="timingevent";function dp(h,m){re.call(this,po.Ma,h),this.size=m}E(dp,re);function Ei(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},m)}function Ft(){this.g=!0}Ft.prototype.xa=function(){this.g=!1};function Wr(h,m,b,D,j,H){h.info(function(){if(h.g)if(H)for(var ne="",Ze=H.split("&"),tn=0;tn<Ze.length;tn++){var Ue=Ze[tn].split("=");if(1<Ue.length){var Se=Ue[0];Ue=Ue[1];var un=Se.split("_");ne=2<=un.length&&un[1]=="type"?ne+(Se+"="+Ue+"&"):ne+(Se+"=redacted&")}}else ne=null;else ne=H;return"XMLHTTP REQ ("+D+") [attempt "+j+"]: "+m+`
`+b+`
`+ne})}function Dr(h,m,b,D,j,H,ne){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+j+"]: "+m+`
`+b+`
`+H+" "+ne})}function Et(h,m,b,D){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+qr(h,b)+(D?" "+D:"")})}function dr(h,m){h.info(function(){return"TIMEOUT: "+m})}Ft.prototype.info=function(){};function qr(h,m){if(!h.g)return m;if(!m)return null;try{var b=JSON.parse(m);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var D=b[h];if(!(2>D.length)){var j=D[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ne=1;ne<j.length;ne++)j[ne]=""}}}}return ld(b)}catch{return m}}var Sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dd;function wi(){}E(wi,ho),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},dd=new wi;function Gr(h,m,b,D){this.j=h,this.i=m,this.l=b,this.R=D||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fp}function fp(){this.i=null,this.g="",this.h=!1}var mo={},yo={};function Kc(h,m,b){h.L=1,h.v=Xc(xr(m)),h.m=b,h.P=!0,pp(h,null)}function pp(h,m){h.F=Date.now(),wt(h),h.A=xr(h.v);var b=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),Dp(b.i,"t",D),h.C=0,b=h.j.J,h.h=new fp,h.g=Up(h.j,b?m:null,!h.m),0<h.O&&(h.M=new cd(g(h.Y,h,h.g),h.O)),m=h.U,b=h.g,D=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(uo[0]=j.toString()),j=uo);for(var H=0;H<j.length;H++){var ne=sp(b,j[H],D||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),go(),Wr(h.i,h.u,h.A,h.l,h.R,h.m)}Gr.prototype.ca=function(h){h=h.target;let m=this.M;m&&jn(h)==3?m.j():this.Y(h)},Gr.prototype.Y=function(h){try{if(h==this.g)e:{let un=jn(this.g);var m=this.g.Ba();let hs=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Rp(this.g)))){this.J||un!=4||m==7||(m==8||0>=hs?go(3):go(2)),hd(this);var b=this.g.Z();this.X=b;t:if(gp(this)){var D=Rp(this.g);h="";var j=D.length,H=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),ss(this);var ne="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,h+=this.h.i.decode(D[m],{stream:!(H&&m==j-1)});D.length=0,this.h.g+=h,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=b==200,Dr(this.i,this.u,this.A,this.l,this.R,un,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,tn=this.g;if((Ze=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ze)){var Ue=Ze;break t}}Ue=null}if(b=Ue)Et(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fd(this,b);else{this.o=!1,this.s=3,Ut(12),Ii(this),ss(this);break e}}if(this.P){b=!0;let Xn;for(;!this.J&&this.C<ne.length;)if(Xn=_0(this,ne),Xn==yo){un==4&&(this.s=4,Ut(14),b=!1),Et(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==mo){this.s=4,Ut(15),Et(this.i,this.l,ne,"[Invalid Chunk]"),b=!1;break}else Et(this.i,this.l,Xn,null),fd(this,Xn);if(gp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ne.length!=0||this.h.h||(this.s=1,Ut(16),b=!1),this.o=this.o&&b,!b)Et(this.i,this.l,ne,"[Invalid Chunked Response]"),Ii(this),ss(this);else if(0<ne.length&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.ba&&!Se.M&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),us(Se),Se.M=!0,Ut(11))}}else Et(this.i,this.l,ne,null),fd(this,ne);un==4&&Ii(this),this.o&&!this.J&&(un==4?Lp(this.j,this):(this.o=!1,wt(this)))}else Pp(this.g),b==400&&0<ne.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Ii(this),ss(this)}}}catch{}finally{}};function gp(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function _0(h,m){var b=h.C,D=m.indexOf(`
`,b);return D==-1?yo:(b=Number(m.substring(b,D)),isNaN(b)?mo:(D+=1,D+b>m.length?yo:(m=m.slice(D,D+b),h.C=D+b,m)))}Gr.prototype.cancel=function(){this.J=!0,Ii(this)};function wt(h){h.S=Date.now()+h.I,Qc(h,h.I)}function Qc(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ei(g(h.ba,h),m)}function hd(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Gr.prototype.ba=function(){this.B=null;let h=Date.now();0<=h-this.S?(dr(this.i,this.A),this.L!=2&&(go(),Ut(17)),Ii(this),this.s=2,ss(this)):Qc(this,this.S-h)};function ss(h){h.j.G==0||h.J||Lp(h.j,h)}function Ii(h){hd(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,ya(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function fd(h,m){try{var b=h.j;if(b.G!=0&&(b.g==h||pd(b.h,h))){if(!h.K&&pd(b.h,h)&&b.G==3){try{var D=b.Da.g.parse(m)}catch{D=null}if(Array.isArray(D)&&D.length==3){var j=D;if(j[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)il(b),hr(b);else break e;vd(b),Ut(18)}}else b.za=j[1],0<b.za-b.T&&37500>j[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ei(g(b.Za,b),6e3));if(1>=_p(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Si(b,11)}else if((h.K||b.g==h)&&il(b),!L(m))for(j=b.Da.g.parse(m),m=0;m<j.length;m++){let Ue=j[m];if(b.T=Ue[0],Ue=Ue[1],b.G==2)if(Ue[0]=="c"){b.K=Ue[1],b.ia=Ue[2];let Se=Ue[3];Se!=null&&(b.la=Se,b.j.info("VER="+b.la));let un=Ue[4];un!=null&&(b.Aa=un,b.j.info("SVER="+b.Aa));let hs=Ue[5];hs!=null&&typeof hs=="number"&&0<hs&&(D=1.5*hs,b.L=D,b.j.info("backChannelRequestTimeoutMs_="+D)),D=b;let Xn=h.g;if(Xn){let sl=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var H=D.h;H.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Zc(H,H.h),H.h=null))}if(D.D){let bd=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;bd&&(D.ya=bd,yt(D.I,D.D,bd))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),D=b;var ne=h;if(D.qa=Bp(D,D.J?D.ia:null,D.W),ne.K){gd(D.h,ne);var Ze=ne,tn=D.L;tn&&(Ze.I=tn),Ze.B&&(hd(Ze),wt(Ze)),D.g=ne}else Fp(D);0<b.i.length&&nl(b)}else Ue[0]!="stop"&&Ue[0]!="close"||Si(b,7);else b.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Si(b,7):ls(b):Ue[0]!="noop"&&b.l&&b.l.ta(Ue),b.v=0)}}go(4)}catch{}}var v0=class{constructor(h,m){this.g=h,this.map=m}};function mp(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yp(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _p(h){return h.h?1:h.g?h.g.size:0}function pd(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function Zc(h,m){h.g?h.g.add(m):h.h=m}function gd(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}mp.prototype.cancel=function(){if(this.i=vp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let h of this.g.values())h.cancel();this.g.clear()}};function vp(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(let b of h.g.values())m=m.concat(b.D);return m}return w(h.i)}function b0(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var m=[],b=h.length,D=0;D<b;D++)m.push(h[D]);return m}m=[],b=0;for(D in h)m[b++]=h[D];return m}function E0(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var m=[];h=h.length;for(var b=0;b<h;b++)m.push(b);return m}m=[],b=0;for(let D in h)m[b++]=D;return m}}}function md(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var b=E0(h),D=b0(h),j=D.length,H=0;H<j;H++)m.call(void 0,D[H],b&&b[H],h)}var bp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(h,m){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var D=h[b].indexOf("="),j=null;if(0<=D){var H=h[b].substring(0,D);j=h[b].substring(D+1)}else H=h[b];m(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ar(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ar){this.h=h.h,Ci(this,h.j),this.o=h.o,this.g=h.g,Zn(this,h.s),this.l=h.l;var m=h.i,b=new Ea;b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),Ep(this,b),this.m=h.m}else h&&(m=String(h).match(bp))?(this.h=!1,Ci(this,m[1]||"",!0),this.o=va(m[2]||""),this.g=va(m[3]||"",!0),Zn(this,m[4]),this.l=va(m[5]||"",!0),Ep(this,m[6]||"",!0),this.m=va(m[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}Ar.prototype.toString=function(){var h=[],m=this.j;m&&h.push(ba(m,wp,!0),":");var b=this.g;return(b||m=="file")&&(h.push("//"),(m=this.o)&&h.push(ba(m,wp,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ba(b,b.charAt(0)=="/"?yd:I0,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ba(b,Ip)),h.join("")};function xr(h){return new Ar(h)}function Ci(h,m,b){h.j=b?va(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function Zn(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function Ep(h,m,b){m instanceof Ea?(h.i=m,T0(h.i,h.h)):(b||(m=ba(m,C0)),h.i=new Ea(m,h.h))}function yt(h,m,b){h.i.set(m,b)}function Xc(h){return yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function va(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ba(h,m,b){return typeof h=="string"?(h=encodeURI(h).replace(m,w0),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function w0(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wp=/[#\/\?@]/g,I0=/[#\?:]/g,yd=/[#\?]/g,C0=/[#\?@]/g,Ip=/#/g;function Ea(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function Ti(h){h.g||(h.g=new Map,h.h=0,h.i&&_a(h.i,function(m,b){h.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}n=Ea.prototype,n.add=function(h,m){Ti(this),this.i=null,h=as(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(m),this.h+=1,this};function Cp(h,m){Ti(h),m=as(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function Tp(h,m){return Ti(h),m=as(h,m),h.g.has(m)}n.forEach=function(h,m){Ti(this),this.g.forEach(function(b,D){b.forEach(function(j){h.call(m,j,D,this)},this)},this)},n.na=function(){Ti(this);let h=Array.from(this.g.values()),m=Array.from(this.g.keys()),b=[];for(let D=0;D<m.length;D++){let j=h[D];for(let H=0;H<j.length;H++)b.push(m[D])}return b},n.V=function(h){Ti(this);let m=[];if(typeof h=="string")Tp(this,h)&&(m=m.concat(this.g.get(as(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)m=m.concat(h[b])}return m},n.set=function(h,m){return Ti(this),this.i=null,h=as(this,h),Tp(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},n.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function Dp(h,m,b){Cp(h,m),0<b.length&&(h.i=null,h.g.set(as(h,m),w(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let h=[],m=Array.from(this.g.keys());for(var b=0;b<m.length;b++){var D=m[b];let H=encodeURIComponent(String(D)),ne=this.V(D);for(D=0;D<ne.length;D++){var j=H;ne[D]!==""&&(j+="="+encodeURIComponent(String(ne[D]))),h.push(j)}}return this.i=h.join("&")};function as(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function T0(h,m){m&&!h.j&&(Ti(h),h.i=null,h.g.forEach(function(b,D){var j=D.toLowerCase();D!=j&&(Cp(this,D),Dp(this,j,b))},h)),h.j=m}function D0(h,m){let b=new Ft;if(a.Image){let D=new Image;D.onload=y(Di,b,"TestLoadImage: loaded",!0,m,D),D.onerror=y(Di,b,"TestLoadImage: error",!1,m,D),D.onabort=y(Di,b,"TestLoadImage: abort",!1,m,D),D.ontimeout=y(Di,b,"TestLoadImage: timeout",!1,m,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else m(!1)}function S0(h,m){let b=new Ft,D=new AbortController,j=setTimeout(()=>{D.abort(),Di(b,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:D.signal}).then(H=>{clearTimeout(j),H.ok?Di(b,"TestPingServer: ok",!0,m):Di(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Di(b,"TestPingServer: error",!1,m)})}function Di(h,m,b,D,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),D(b)}catch{}}function A0(){this.g=new y0}function x0(h,m,b){let D=b||"";try{md(h,function(j,H){let ne=j;l(j)&&(ne=ld(j)),m.push(D+H+"="+encodeURIComponent(ne))})}catch(j){throw m.push(D+"type="+encodeURIComponent("_badmap")),j}}function wa(h){this.l=h.Ub||null,this.j=h.eb||!1}E(wa,ho),wa.prototype.g=function(){return new Jc(this.l,this.j)},wa.prototype.i=(function(h){return function(){return h}})({});function Jc(h,m){Bt.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Jc,Bt),n=Jc.prototype,n.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,vo(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sp(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sp(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?_o(this):vo(this),this.readyState==3&&Sp(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,_o(this))},n.Qa=function(h){this.g&&(this.response=h,_o(this))},n.ga=function(){this.g&&_o(this)};function _o(h){h.readyState=4,h.l=null,h.j=null,h.v=null,vo(h)}n.setRequestHeader=function(h,m){this.u.append(h,m)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let h=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=m.next();return h.join(`\r
`)};function vo(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ap(h){let m="";return $(h,function(b,D){m+=D,m+=":",m+=b,m+=`\r
`}),m}function el(h,m,b){e:{for(D in b){var D=!1;break e}D=!0}D||(b=Ap(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):yt(h,m,b))}function Dt(h){Bt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Dt,Bt);var M0=/^https?$/i,R0=["POST","PUT"];n=Dt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,m,b,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dd.g(),this.v=this.o?fo(this.o):fo(dd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(H){xp(this,H);return}if(h=b||"",b=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var j in D)b.set(j,D[j]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(let H of D.keys())b.set(H,D.get(H));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),j=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(R0,m,void 0))||D||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,ne]of b)this.g.setRequestHeader(H,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(h),this.u=!1}catch(H){xp(this,H)}};function xp(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,Mp(h),st(h)}function Mp(h){h.A||(h.A=!0,Ae(h,"complete"),Ae(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ae(this,"complete"),Ae(this,"abort"),st(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),st(this,!0)),Dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_d(this):this.bb())},n.bb=function(){_d(this)};function _d(h){if(h.h&&typeof s<"u"&&(!h.v[1]||jn(h)!=4||h.Z()!=2)){if(h.u&&jn(h)==4)ad(h.Ea,0,h);else if(Ae(h,"readystatechange"),jn(h)==4){h.h=!1;try{let ne=h.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var D;if(D=ne===0){var j=String(h.D).match(bp)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),D=!M0.test(j?j.toLowerCase():"")}b=D}if(b)Ae(h,"complete"),Ae(h,"success");else{h.m=6;try{var H=2<jn(h)?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.Z()+"]",Mp(h)}}finally{st(h)}}}}function st(h,m){if(h.g){cs(h);let b=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||Ae(h,"ready");try{b.onreadystatechange=D}catch{}}}function cs(h){h.I&&(a.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function jn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),Gc(m)}};function Rp(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Pp(h){let m={};h=(h.g&&2<=jn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(L(h[D]))continue;var b=P(h[D]);let j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();let H=m[j]||[];m[j]=H,H.push(b)}A(m,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(h,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||m}function kp(h){this.Aa=0,this.i=[],this.j=new Ft,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,h),this.cb=Ia("retryDelaySeedMs",1e4,h),this.Wa=Ia("forwardChannelMaxRetries",2,h),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new mp(h&&h.concurrentRequestLimit),this.Da=new A0,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=kp.prototype,n.la=8,n.G=1,n.connect=function(h,m,b,D){Ut(0),this.W=h,this.H=m||{},b&&D!==void 0&&(this.H.OSID=b,this.H.OAID=D),this.F=this.X,this.I=Bp(this,null,this.W),nl(this)};function ls(h){if(tl(h),h.G==3){var m=h.U++,b=xr(h.I);if(yt(b,"SID",h.K),yt(b,"RID",m),yt(b,"TYPE","terminate"),bo(h,b),m=new Gr(h,h.j,m),m.L=2,m.v=Xc(xr(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=m.v,b=!0),b||(m.g=Up(m.j,null),m.g.ea(m.v)),m.F=Date.now(),wt(m)}jp(h)}function hr(h){h.g&&(us(h),h.g.cancel(),h.g=null)}function tl(h){hr(h),h.u&&(a.clearTimeout(h.u),h.u=null),il(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function nl(h){if(!yp(h.h)&&!h.s){h.s=!0;var m=h.Ga;ot||Kn(),ut||(ot(),ut=!0),At.add(m,h),h.B=0}}function Yr(h,m){return _p(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ei(g(h.Ga,h,m),Vp(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;let j=new Gr(this,this.j,h),H=this.o;if(this.S&&(H?(H=T(H),R(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var D=this.i[b];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(m+=D,4096<m){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=Op(this,j,m),b=xr(this.I),yt(b,"RID",h),yt(b,"CVER",22),this.D&&yt(b,"X-HTTP-Session-Id",this.D),bo(this,b),H&&(this.O?m="headers="+encodeURIComponent(String(Ap(H)))+"&"+m:this.m&&el(b,this.m,H)),Zc(this.h,j),this.Ua&&yt(b,"TYPE","init"),this.P?(yt(b,"$req",m),yt(b,"SID","null"),j.T=!0,Kc(j,b,null)):Kc(j,b,m),this.G=2}}else this.G==3&&(h?Np(this,h):this.i.length==0||yp(this.h)||Np(this))};function Np(h,m){var b;m?b=m.l:b=h.U++;let D=xr(h.I);yt(D,"SID",h.K),yt(D,"RID",b),yt(D,"AID",h.T),bo(h,D),h.m&&h.o&&el(D,h.m,h.o),b=new Gr(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),m&&(h.i=m.D.concat(h.i)),m=Op(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Zc(h.h,b),Kc(b,D,m)}function bo(h,m){h.H&&$(h.H,function(b,D){yt(m,D,b)}),h.l&&md({},function(b,D){yt(m,D,b)})}function Op(h,m,b){b=Math.min(h.i.length,b);var D=h.l?g(h.l.Na,h.l,h):null;e:{var j=h.i;let H=-1;for(;;){let ne=["count="+b];H==-1?0<b?(H=j[0].g,ne.push("ofs="+H)):H=0:ne.push("ofs="+H);let Ze=!0;for(let tn=0;tn<b;tn++){let Ue=j[tn].g,Se=j[tn].map;if(Ue-=H,0>Ue)H=Math.max(0,j[tn].g-100),Ze=!1;else try{x0(Se,ne,"req"+Ue+"_")}catch{D&&D(Se)}}if(Ze){D=ne.join("&");break e}}}return h=h.i.splice(0,b),m.D=h,D}function Fp(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;ot||Kn(),ut||(ot(),ut=!0),At.add(m,h),h.v=0}}function vd(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ei(g(h.Fa,h),Vp(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,rl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ei(g(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),hr(this),rl(this))};function us(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function rl(h){h.g=new Gr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=xr(h.qa);yt(m,"RID","rpc"),yt(m,"SID",h.K),yt(m,"AID",h.T),yt(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&yt(m,"TO",h.ja),yt(m,"TYPE","xmlhttp"),bo(h,m),h.m&&h.o&&el(m,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Xc(xr(m)),b.m=null,b.P=!0,pp(b,h)}n.Za=function(){this.C!=null&&(this.C=null,hr(this),vd(this),Ut(19))};function il(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Lp(h,m){var b=null;if(h.g==m){il(h),us(h),h.g=null;var D=2}else if(pd(h.h,m))b=m.D,gd(h.h,m),D=1;else return;if(h.G!=0){if(m.o)if(D==1){b=m.m?m.m.length:0,m=Date.now()-m.F;var j=h.B;D=bn(),Ae(D,new dp(D,b)),nl(h)}else Fp(h);else if(j=m.s,j==3||j==0&&0<m.X||!(D==1&&Yr(h,m)||D==2&&vd(h)))switch(b&&0<b.length&&(m=h.h,m.i=m.i.concat(b)),j){case 1:Si(h,5);break;case 4:Si(h,10);break;case 3:Si(h,6);break;default:Si(h,2)}}}function Vp(h,m){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*m}function Si(h,m){if(h.j.info("Error code "+m),m==2){var b=g(h.fb,h),D=h.Xa;let j=!D;D=new Ar(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ci(D,"https"),Xc(D),j?D0(D.toString(),b):S0(D.toString(),b)}else Ut(2);h.G=0,h.l&&h.l.sa(m),jp(h),tl(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function jp(h){if(h.G=0,h.ka=[],h.l){let m=vp(h.h);(m.length!=0||h.i.length!=0)&&(I(h.ka,m),I(h.ka,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.ra()}}function Bp(h,m,b){var D=b instanceof Ar?xr(b):new Ar(b);if(D.g!="")m&&(D.g=m+"."+D.g),Zn(D,D.s);else{var j=a.location;D=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var H=new Ar(null);D&&Ci(H,D),m&&(H.g=m),j&&Zn(H,j),b&&(H.l=b),D=H}return b=h.D,m=h.ya,b&&m&&yt(D,b,m),yt(D,"VER",h.la),bo(h,D),D}function Up(h,m,b){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new Dt(new wa({eb:b})):new Dt(h.pa),m.Ha(h.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hp(){}n=Hp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ol(){}ol.prototype.g=function(h,m){return new xn(h,m)};function xn(h,m){Bt.call(this),this.g=new kp(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!L(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!L(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new ds(this)}E(xn,Bt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){ls(this.g)},xn.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=ld(h),h=b);m.i.push(new v0(m.Ya++,h)),m.G==3&&nl(m)},xn.prototype.N=function(){this.g.l=null,delete this.j,ls(this.g),delete this.g,xn.aa.N.call(this)};function $p(h){oe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(let b in m){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}E($p,oe);function Eo(){ud.call(this),this.status=1}E(Eo,ud);function ds(h){this.g=h}E(ds,Hp),ds.prototype.ua=function(){Ae(this.g,"a")},ds.prototype.ta=function(h){Ae(this.g,new $p(h))},ds.prototype.sa=function(h){Ae(this.g,new Eo)},ds.prototype.ra=function(){Ae(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,rT=Wo.createWebChannelTransport=function(){return new ol},nT=Wo.getStatEventTarget=function(){return bn()},tT=Wo.Event=po,h_=Wo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,sf=Wo.ErrorCode=Sr,hp.COMPLETE="complete",eT=Wo.EventType=hp,Yc.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,lu=Wo.WebChannel=Yc,mK=Wo.FetchXmlHttpFactory=wa,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,JC=Wo.XhrIo=Dt}).apply(typeof d_<"u"?d_:typeof self<"u"?self:typeof window<"u"?window:{});var uF="@firebase/firestore",dF="4.8.0";var yn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");var Ru="11.10.0";var Ic=new Vr("@firebase/firestore");function uu(){return Ic.logLevel}function se(n,...e){if(Ic.logLevel<=Le.DEBUG){let t=e.map(qD);Ic.debug(`Firestore (${Ru}): ${n}`,...t)}}function Go(n,...e){if(Ic.logLevel<=Le.ERROR){let t=e.map(qD);Ic.error(`Firestore (${Ru}): ${n}`,...t)}}function Ks(n,...e){if(Ic.logLevel<=Le.WARN){let t=e.map(qD);Ic.warn(`Firestore (${Ru}): ${n}`,...t)}}function qD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,rL(n,r,t)}function rL(n,e,t){let r=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Go(r),new Error(r)}function rt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||rL(e,i,r)}function Ce(n,e){return n}var G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ie=class extends Cn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var v_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cT=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}},lT=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},uT=class{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new v_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}},dT=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},hT=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new dT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},b_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fT=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);let r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new b_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function yK(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function iL(){return new TextEncoder}var hf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=yK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ke(n,e){return n<e?-1:n>e?1:0}function pT(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ke(r,i);{let o=iL(),s=_K(o.encode(hF(n,t)),o.encode(hF(e,t)));return s!==0?s:ke(r,i)}}t+=r>65535?2:1}return ke(n.length,e.length)}function hF(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _K(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function yu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var fF="__name__",E_=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ke(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):pT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zo.fromString(e.substring(4,e.length-2))}},kt=class n extends E_{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ie(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},vK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wr=class n extends E_{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return vK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fF}static keyField(){return new n([fF])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ie(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var he=class n{constructor(e){this.path=e}static fromPath(e){return new n(kt.fromString(e))}static fromName(e){return new n(kt.fromString(e).popFirst(5))}static empty(){return new n(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new kt(e.slice()))}};function oL(n,e,t){if(!t)throw new ie(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bK(n,e,t,r){if(e===!0&&r===!0)throw new ie(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pF(n){if(!he.isDocumentKey(n))throw new ie(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gF(n){if(he.isDocumentKey(n))throw new ie(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sL(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function J_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge(12329,{type:typeof n})}function Ir(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=J_(n);throw new ie(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Xt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Df(n,e){if(!sL(n))throw new ie(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ie(G.INVALID_ARGUMENT,t);return!0}var mF=-62135596800,yF=1e6,Jt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*yF);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mF)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yF}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Df(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-mF;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Xt("string",Jt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};var De=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Jt(0,0))}static max(){return new n(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ff=-1,gT=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};gT.UNKNOWN_ID=-1;function EK(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new Jt(t+1,0):new Jt(t,r));return new Cc(i,he.empty(),e)}function wK(n){return new Cc(n.readTime,n.key,ff)}var Cc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(De.min(),he.empty(),ff)}static max(){return new n(De.max(),he.empty(),ff)}};function IK(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=he.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}var CK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mT=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Pu(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==CK)throw n;se("LocalStore","Unexpectedly lost primary lease")}var Q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function TK(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ku(n){return n.name==="IndexedDbTransactionError"}var GD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),YD=-1;function ev(n){return n==null}function pf(n){return n===0&&1/n==-1/0}function DK(n){return typeof n=="number"&&Number.isInteger(n)&&!pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var aL="";function SK(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_F(e)),e=AK(n.get(t),e);return _F(e)}function AK(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case aL:t+="";break;default:t+=o}}return t}function _F(n){return n+aL+""}var xK="remoteDocuments",cL="owner";var lL="mutationQueues";var uL="mutations";var dL="documentMutations",MK="remoteDocumentsV14";var hL="remoteDocumentGlobal";var fL="targets";var pL="targetDocuments";var gL="targetGlobal",mL="collectionParents";var yL="clientMetadata";var _L="bundles";var vL="namedQueries";var RK="indexConfiguration";var PK="indexState";var kK="indexEntries";var bL="documentOverlays";var NK="globals";var OK=[lL,uL,dL,xK,fL,cL,gL,pL,yL,hL,mL,_L,vL],eCe=[...OK,bL],FK=[lL,uL,dL,MK,fL,cL,gL,pL,yL,hL,mL,_L,vL,bL],LK=FK,VK=[...LK,RK,PK,kK];var tCe=[...VK,NK];function vF(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ea(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Vt=class n{constructor(e,t){this.comparator=e,this.root=t||Xi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}},pu=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}};Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1;Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Xi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _n=class n{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},w_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ur=class n{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new n([])}unionWith(e){let t=new _n(wr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var I_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Fn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new I_("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Fn.EMPTY_BYTE_STRING=new Fn("");var jK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(n){if(rt(!!n,39018),typeof n=="string"){let e=0,t=jK.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ko(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}var wL="server_timestamp",IL="__type__",CL="__previous_value__",TL="__local_write_time__";function KD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[IL])===null||t===void 0?void 0:t.stringValue)===wL}function tv(n){let e=n.mapValue.fields[CL];return KD(e)?tv(e):e}function gf(n){let e=Yo(n.mapValue.fields[TL].timestampValue);return new Jt(e.seconds,e.nanos)}var yT=class{constructor(e,t,r,i,o,s,a,c,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},C_="(default)",T_=class n{constructor(e,t){this.projectId=e,this.database=t||C_}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===C_}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var QD="__type__",DL="__max__",f_={mapValue:{fields:{__type__:{stringValue:DL}}}},ZD="__vector__",_u="value";function Qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?KD(n)?4:AL(n)?9007199254740991:SL(n)?10:11:ge(28295,{value:n})}function to(n,e){if(n===e)return!0;let t=Qs(n);if(t!==Qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gf(n).isEqual(gf(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Yo(i.timestampValue),a=Yo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ko(i.bytesValue).isEqual(Ko(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Pt(i.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Pt(i.integerValue)===Pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pt(i.doubleValue),a=Pt(o.doubleValue);return s===a?pf(s)===pf(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return yu(n.arrayValue.values||[],e.arrayValue.values||[],to);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vF(s)!==vF(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!to(s[c],a[c])))return!1;return!0})(n,e);default:return ge(52216,{left:n})}}function mf(n,e){return(n.values||[]).find(t=>to(t,e))!==void 0}function vu(n,e){if(n===e)return 0;let t=Qs(n),r=Qs(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Pt(o.integerValue||o.doubleValue),c=Pt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return bF(n.timestampValue,e.timestampValue);case 4:return bF(gf(n),gf(e));case 5:return pT(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Ko(o),c=Ko(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=ke(a[l],c[l]);if(d!==0)return d}return ke(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ke(Pt(o.latitude),Pt(s.latitude));return a!==0?a:ke(Pt(o.longitude),Pt(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return EF(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,l,d;let f=o.fields||{},g=s.fields||{},y=(a=f[_u])===null||a===void 0?void 0:a.arrayValue,E=(c=g[_u])===null||c===void 0?void 0:c.arrayValue,w=ke(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:EF(y,E)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===f_.mapValue&&s===f_.mapValue)return 0;if(o===f_.mapValue)return 1;if(s===f_.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=pT(c[f],d[f]);if(g!==0)return g;let y=vu(a[c[f]],l[d[f]]);if(y!==0)return y}return ke(c.length,d.length)})(n.mapValue,e.mapValue);default:throw ge(23264,{le:t})}}function bF(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);let t=Yo(n),r=Yo(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function EF(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=vu(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function bu(n){return _T(n)}function _T(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Yo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ko(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return he.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=_T(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${_T(t.fields[s])}`;return i+"}"})(n.mapValue):ge(61005,{value:n})}function m_(n){switch(Qs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=tv(n);return e?16+m_(e):16;case 5:return 2*n.stringValue.length;case 6:return Ko(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+m_(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ea(r.fields,(o,s)=>{i+=o.length+m_(s)}),i})(n.mapValue);default:throw ge(13486,{value:n})}}function wF(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vT(n){return!!n&&"integerValue"in n}function XD(n){return!!n&&"arrayValue"in n}function IF(n){return!!n&&"nullValue"in n}function CF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function y_(n){return!!n&&"mapValue"in n}function SL(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[QD])===null||t===void 0?void 0:t.stringValue)===ZD}function cf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ea(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=cf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DL}var rCe={mapValue:{fields:{[QD]:{stringValue:ZD},[_u]:{arrayValue:{}}}}};var Er=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!y_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cf(t)}setAll(e){let t=wr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=cf(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());y_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];y_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ea(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(cf(this.value))}};function xL(n){let e=[];return ea(n.fields,(t,r)=>{let i=new wr([t]);if(y_(r)){let o=xL(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Ur(e)}var pi=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,De.min(),De.min(),De.min(),Er.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,De.min(),De.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,De.min(),De.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Eu=class{constructor(e,t){this.position=e,this.inclusive=t}};function TF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),t.key):r=vu(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DF(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!to(n.position[t],e.position[t]))return!1;return!0}var wu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function BK(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var D_=class{},Zt=class n extends D_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ET(e,t,r):t==="array-contains"?new CT(e,r):t==="in"?new TT(e,r):t==="not-in"?new DT(e,r):t==="array-contains-any"?new ST(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wT(e,r):new IT(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vu(t,this.value)):t!==null&&Qs(this.value)===Qs(t)&&this.matchesComparison(vu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gi=class n extends D_{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return ML(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function ML(n){return n.op==="and"}function RL(n){return UK(n)&&ML(n)}function UK(n){for(let e of n.filters)if(e instanceof gi)return!1;return!0}function bT(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+bu(n.value);if(RL(n))return n.filters.map(e=>bT(e)).join(",");{let e=n.filters.map(t=>bT(t)).join(",");return`${n.op}(${e})`}}function PL(n,e){return n instanceof Zt?(function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&to(r.value,i.value)})(n,e):n instanceof gi?(function(r,i){return i instanceof gi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&PL(s,i.filters[a]),!0):!1})(n,e):void ge(19439)}function kL(n){return n instanceof Zt?(function(t){return`${t.field.canonicalString()} ${t.op} ${bu(t.value)}`})(n):n instanceof gi?(function(t){return t.op.toString()+" {"+t.getFilters().map(kL).join(" ,")+"}"})(n):"Filter"}var ET=class extends Zt{constructor(e,t,r){super(e,t,r),this.key=he.fromName(r.referenceValue)}matches(e){let t=he.comparator(e.key,this.key);return this.matchesComparison(t)}},wT=class extends Zt{constructor(e,t){super(e,"in",t),this.keys=NL("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},IT=class extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=NL("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function NL(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>he.fromName(r.referenceValue))}var CT=class extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return XD(t)&&mf(t.arrayValue,this.value)}},TT=class extends Zt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&mf(this.value.arrayValue,t)}},DT=class extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mf(this.value.arrayValue,t)}},ST=class extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!XD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mf(this.value.arrayValue,r))}};var AT=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function SF(n,e=null,t=[],r=[],i=null,o=null,s=null){return new AT(n,e,t,r,i,o,s)}function JD(n){let e=Ce(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),ev(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bu(r)).join(",")),e.Pe=t}return e.Pe}function eS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BK(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DF(n.startAt,e.startAt)&&DF(n.endAt,e.endAt)}function xT(n){return he.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Tc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function HK(n,e,t,r,i,o,s,a){return new Tc(n,e,t,r,i,o,s,a)}function nv(n){return new Tc(n)}function AF(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OL(n){return n.collectionGroup!==null}function lf(n){let e=Ce(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new _n(wr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new wu(o,r))}),t.has(wr.keyField().canonicalString())||e.Te.push(new wu(wr.keyField(),r))}return e.Te}function Ji(n){let e=Ce(n);return e.Ie||(e.Ie=$K(e,lf(n))),e.Ie}function $K(n,e){if(n.limitType==="F")return SF(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new wu(i.field,o)});let t=n.endAt?new Eu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eu(n.startAt.position,n.startAt.inclusive):null;return SF(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function MT(n,e){let t=n.filters.concat([e]);return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function RT(n,e,t){return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rv(n,e){return eS(Ji(n),Ji(e))&&n.limitType===e.limitType}function FL(n){return`${JD(Ji(n))}|lt:${n.limitType}`}function du(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>kL(i)).join(", ")}]`),ev(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>bu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>bu(i)).join(",")),`Target(${r})`})(Ji(n))}; limitType=${n.limitType})`}function iv(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of lf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let l=TF(s,a,c);return s.inclusive?l<=0:l<0})(r.startAt,lf(r),i)||r.endAt&&!(function(s,a,c){let l=TF(s,a,c);return s.inclusive?l>=0:l>0})(r.endAt,lf(r),i))})(n,e)}function zK(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LL(n){return(e,t)=>{let r=!1;for(let i of lf(n)){let o=WK(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function WK(n,e,t){let r=n.field.isKeyField()?he.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?vu(c,l):ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:n.dir})}}var Qo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return EL(this.inner)}size(){return this.innerSize}};var qK=new Vt(he.comparator);function Zo(){return qK}var VL=new Vt(he.comparator);function af(...n){let e=VL;for(let t of n)e=e.insert(t.key,t);return e}function jL(n){let e=VL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _c(){return uf()}function BL(){return uf()}function uf(){return new Qo(n=>n.toString(),(n,e)=>n.isEqual(e))}var GK=new Vt(he.comparator),YK=new _n(he.comparator);function Be(...n){let e=YK;for(let t of n)e=e.add(t);return e}var KK=new _n(ke);function QK(){return KK}function tS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function UL(n){return{integerValue:""+n}}function ZK(n,e){return DK(e)?UL(e):tS(n,e)}var Iu=class{constructor(){this._=void 0}};function XK(n,e,t){return n instanceof Cu?(function(i,o){let s={fields:{[IL]:{stringValue:wL},[TL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&KD(o)&&(o=tv(o)),o&&(s.fields[CL]=o),{mapValue:s}})(t,e):n instanceof Dc?$L(n,e):n instanceof Zs?zL(n,e):(function(i,o){let s=HL(i,o),a=xF(s)+xF(i.Ee);return vT(s)&&vT(i.Ee)?UL(a):tS(i.serializer,a)})(n,e)}function JK(n,e,t){return n instanceof Dc?$L(n,e):n instanceof Zs?zL(n,e):t}function HL(n,e){return n instanceof Tu?(function(r){return vT(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Cu=class extends Iu{},Dc=class extends Iu{constructor(e){super(),this.elements=e}};function $L(n,e){let t=WL(e);for(let r of n.elements)t.some(i=>to(i,r))||t.push(r);return{arrayValue:{values:t}}}var Zs=class extends Iu{constructor(e){super(),this.elements=e}};function zL(n,e){let t=WL(e);for(let r of n.elements)t=t.filter(i=>!to(i,r));return{arrayValue:{values:t}}}var Tu=class extends Iu{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function xF(n){return Pt(n.integerValue||n.doubleValue)}function WL(n){return XD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var PT=class{constructor(e,t){this.field=e,this.transform=t}};function eQ(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Dc&&i instanceof Dc||r instanceof Zs&&i instanceof Zs?yu(r.elements,i.elements,to):r instanceof Tu&&i instanceof Tu?to(r.Ee,i.Ee):r instanceof Cu&&i instanceof Cu})(n.transform,e.transform)}var kT=class{constructor(e,t){this.version=e,this.transformResults=t}},qo=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function __(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Du=class{};function qL(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yf(n.key,qo.none()):new Sc(n.key,n.data,qo.none());{let t=n.data,r=Er.empty(),i=new _n(wr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new no(n.key,r,new Ur(i.toArray()),qo.none())}}function tQ(n,e,t){n instanceof Sc?(function(i,o,s){let a=i.value.clone(),c=RF(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof no?(function(i,o,s){if(!__(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=RF(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(GL(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function df(n,e,t,r){return n instanceof Sc?(function(o,s,a,c){if(!__(o.precondition,s))return a;let l=o.value.clone(),d=PF(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof no?(function(o,s,a,c){if(!__(o.precondition,s))return a;let l=PF(o.fieldTransforms,c,s),d=s.data;return d.setAll(GL(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,r):(function(o,s,a){return __(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function nQ(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=HL(r.transform,i||null);o!=null&&(t===null&&(t=Er.empty()),t.set(r.field,o))}return t||null}function MF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yu(r,i,(o,s)=>eQ(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Sc=class extends Du{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},no=class extends Du{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function GL(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function RF(n,e,t){let r=new Map;rt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,JK(s,a,t[i]))}return r}function PF(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,XK(o,s,e))}return r}var yf=class extends Du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},NT=class extends Du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var OT=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&tQ(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=df(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=df(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=BL();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=qL(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(t,r)=>MF(t,r))&&yu(this.baseMutations,e.baseMutations,(t,r)=>MF(t,r))}},FT=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return GK})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var LT=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var VT=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Kt,We;function rQ(n){switch(n){case G.OK:return ge(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ge(15467,{code:n})}}function YL(n){if(n===void 0)return Go("GRPC error has no .code"),G.UNKNOWN;switch(n){case Kt.OK:return G.OK;case Kt.CANCELLED:return G.CANCELLED;case Kt.UNKNOWN:return G.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return G.INTERNAL;case Kt.UNAVAILABLE:return G.UNAVAILABLE;case Kt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Kt.NOT_FOUND:return G.NOT_FOUND;case Kt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Kt.ABORTED:return G.ABORTED;case Kt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Kt.DATA_LOSS:return G.DATA_LOSS;default:return ge(39323,{code:n})}}(We=Kt||(Kt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";var kF=null;var iQ=new zo([4294967295,4294967295],0);function NF(n){let e=iL().encode(n),t=new XC;return t.update(e),new Uint8Array(t.digest())}function OF(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zo([t,r],0),new zo([i,o],0)]}var jT=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vc(`Invalid padding: ${t}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=zo.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(zo.fromNumber(r)));return i.compare(iQ)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=NF(e),[r,i]=OF(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=NF(e),[r,i]=OF(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},vc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var S_=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(De.min(),i,new Vt(ke),Zo(),Be())}},_f=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Be(),Be(),Be())}};var gu=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},A_=class{constructor(e,t){this.targetId=e,this.De=t}},x_=class{constructor(e,t,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},M_=class{constructor(){this.ve=0,this.Ce=FF(),this.Fe=Fn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Be(),t=Be(),r=Be();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:o})}}),new _f(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=FF()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},BT=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Zo(),this.je=p_(),this.Je=p_(),this.He=new Vt(ke)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(xT(o))if(r===0){let s=new he(o.path);this.Xe(t,s,pi.newNoDocument(s,De.min()))}else rt(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}kF?.ct((function(d,f,g,y,E){var w,I,k,L,U,q;let z={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},$=f.unchangedNames;return $&&(z.bloomFilter={applied:E===0,hashCount:(w=$?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(L=(k=(I=$?.bits)===null||I===void 0?void 0:I.bitmap)===null||k===void 0?void 0:k.length)!==null&&L!==void 0?L:0,padding:(q=(U=$?.bits)===null||U===void 0?void 0:U.padding)!==null&&q!==void 0?q:0,mightContain:A=>{var T;return(T=y?.mightContain(A))!==null&&T!==void 0&&T}}),z})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ko(r).toUint8Array()}catch(c){if(c instanceof I_)return Ks("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new jT(s,i,o)}catch(c){return Ks(c instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&xT(a.target)){let c=new he(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,pi.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Be();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new S_(e,t,this.He,this.ze,r);return this.ze=Zo(),this.je=p_(),this.Je=p_(),this.He=new Vt(ke),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new M_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new _n(ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new _n(ke),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new M_),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function p_(){return new Vt(he.comparator)}function FF(){return new Vt(he.comparator)}var oQ={asc:"ASCENDING",desc:"DESCENDING"},sQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aQ={and:"AND",or:"OR"},UT=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function HT(n,e){return n.useProto3Json||ev(e)?e:{value:e}}function R_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cQ(n,e){return R_(n,e.toTimestamp())}function eo(n){return rt(!!n,49232),De.fromTimestamp((function(t){let r=Yo(t);return new Jt(r.seconds,r.nanos)})(n))}function nS(n,e){return $T(n,e).canonicalString()}function $T(n,e){let t=(function(i){return new kt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function QL(n){let e=kt.fromString(n);return rt(tV(e),10190,{key:e.toString()}),e}function zT(n,e){return nS(n.databaseId,e.path)}function iT(n,e){let t=QL(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new he(XL(t))}function ZL(n,e){return nS(n.databaseId,e)}function lQ(n){let e=QL(n);return e.length===4?kt.emptyPath():XL(e)}function WT(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XL(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function LF(n,e,t){return{name:zT(n,e),fields:t.value.mapValue.fields}}function uQ(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ge(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,d){return l.useProto3Json?(rt(d===void 0||typeof d=="string",58123),Fn.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Fn.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let d=l.code===void 0?G.UNKNOWN:YL(l.code);return new ie(d,l.message||"")})(s);t=new x_(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=iT(n,r.document.name),o=eo(r.document.updateTime),s=r.document.createTime?eo(r.document.createTime):De.min(),a=new Er({mapValue:{fields:r.document.fields}}),c=pi.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];t=new gu(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=iT(n,r.document),o=r.readTime?eo(r.readTime):De.min(),s=pi.newNoDocument(i,o),a=r.removedTargetIds||[];t=new gu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=iT(n,r.document),o=r.removedTargetIds||[];t=new gu([],o,i,null)}else{if(!("filter"in e))return ge(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new VT(i,o),a=r.targetId;t=new A_(a,s)}}return t}function dQ(n,e){let t;if(e instanceof Sc)t={update:LF(n,e.key,e.value)};else if(e instanceof yf)t={delete:zT(n,e.key)};else if(e instanceof no)t={update:LF(n,e.key,e.data),updateMask:bQ(e.fieldMask)};else{if(!(e instanceof NT))return ge(16599,{Rt:e.type});t={verify:zT(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Cu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tu)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ge(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:cQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge(27497)})(n,e.precondition)),t}function hQ(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?eo(i.updateTime):eo(o);return s.isEqual(De.min())&&(s=eo(o)),new kT(s,i.transformResults||[])})(t,e))):[]}function fQ(n,e){return{documents:[ZL(n,e.path)]}}function pQ(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ZL(n,i);let o=(function(l){if(l.length!==0)return eV(gi.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(d=>(function(g){return{field:hu(g.field),direction:yQ(g.dir)}})(d))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=HT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function gQ(n){let e=lQ(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){rt(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=(function(f){let g=JL(f);return g instanceof gi&&RL(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(g=>(function(E){return new wu(fu(E.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let g;return g=typeof f=="object"?f.value:f,ev(g)?null:g})(t.limit));let c=null;t.startAt&&(c=(function(f){let g=!!f.before,y=f.values||[];return new Eu(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(f){let g=!f.before,y=f.values||[];return new Eu(y,g)})(t.endAt)),HK(e,i,s,o,a,"F",c,l)}function mQ(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JL(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fu(t.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fu(t.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fu(t.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fu(t.unaryFilter.field);return Zt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Zt.create(fu(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return gi.create(t.compositeFilter.filters.map(r=>JL(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(t.compositeFilter.op))})(n):ge(30097,{filter:n})}function yQ(n){return oQ[n]}function _Q(n){return sQ[n]}function vQ(n){return aQ[n]}function hu(n){return{fieldPath:n.canonicalString()}}function fu(n){return wr.fromServerFormat(n.fieldPath)}function eV(n){return n instanceof Zt?(function(t){if(t.op==="=="){if(CF(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NAN"}};if(IF(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CF(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NOT_NAN"}};if(IF(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(t.field),op:_Q(t.op),value:t.value}}})(n):n instanceof gi?(function(t){let r=t.getFilters().map(i=>eV(i));return r.length===1?r[0]:{compositeFilter:{op:vQ(t.op),filters:r}}})(n):ge(54877,{filter:n})}function bQ(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vf=class n{constructor(e,t,r,i,o=De.min(),s=De.min(),a=Fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var qT=class{constructor(e){this.gt=e}};function EQ(n){let e=gQ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?RT(e,e.limit,"L"):e}var P_=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Pt(e.integerValue));else if("doubleValue"in e){let r=Pt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),pf(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Yo(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ko(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?AL(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):SL(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ge(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=_u,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Pt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),he.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};P_.Ut=new P_;var GT=class{constructor(){this.Dn=new YT}addToCollectionParentIndex(e,t){return this.Dn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Cc.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Cc.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}},YT=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new _n(kt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _n(kt.comparator)).toArray()}};var iCe=new Uint8Array(0);var VF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nV=41943040,Br=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(nV,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);var bf=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var jF="LruGarbageCollector",wQ=1048576;function BF([n,e],[t,r]){let i=ke(n,t);return i===0?ke(e,r):i}var KT=class{constructor(e){this.Tr=e,this.buffer=new _n(BF),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();BF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},QT=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){se(jF,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ku(t)?se(jF,"Ignoring IndexedDB error during garbage collection: ",t):await Pu(t)}await this.Rr(3e5)})}},ZT=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(GD.ue);let r=new KT(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(VF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VF):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),uu()<=Le.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function IQ(n,e){return new ZT(n,e)}var XT=class{constructor(){this.changes=new Qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var JT=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var eD=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&df(r.mutation,i,Ur.empty(),Jt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Be()){let i=_c();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=af();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=_c();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Be()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Zo(),s=uf(),a=(function(){return uf()})();return t.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof no)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),df(d.mutation,l,d.mutation.getFieldMask(),Jt.now())):s.set(l.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var f;return a.set(l,new JT(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=uf(),i=new Vt((s,a)=>s-a),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let d=r.get(c)||Ur.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||Be()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=BL();d.forEach(g=>{if(!o.has(g)){let y=qL(t.get(g),r.get(g));y!==null&&f.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Q.resolve(_c()),a=ff,c=o;return s.next(l=>Q.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Be())).next(d=>({batchId:a,changes:jL(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new he(t)).next(r=>{let i=af();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=af();return this.indexManager.getCollectionParents(e,o).next(a=>Q.forEach(a,c=>{let l=(function(f,g){return new Tc(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,pi.newInvalidDocument(d)))});let a=af();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&df(d.mutation,l,Ur.empty(),Jt.now()),iv(t,l)&&(a=a.insert(c,l))}),a})}};var tD=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:eo(i.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:EQ(i.bundledQuery),readTime:eo(i.readTime)}})(t)),Q.resolve()}};var nD=class{constructor(){this.overlays=new Vt(he.comparator),this.kr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){let r=_c();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){let i=_c(),o=t.length+1,s=new he(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Vt((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=_c(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=_c(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return Q.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new LT(t,r));let o=this.kr.get(t);o===void 0&&(o=Be(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var rD=class{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}};var Ef=class{constructor(){this.qr=new _n(Qt.Qr),this.$r=new _n(Qt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Qt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Qt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new he(new kt([])),r=new Qt(t,e),i=new Qt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new he(new kt([])),r=new Qt(t,e),i=new Qt(t,e+1),o=Be();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Qt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Qt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return he.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||he.comparator(e.key,t.key)}};var iD=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new _n(Qt.Qr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new OT(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Qt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,t){return Q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?YD:this.er-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Qt(t,0),i=new Qt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(ke);return t.forEach(i=>{let o=new Qt(i,0),s=new Qt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),Q.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;he.isDocumentKey(o)||(o=o.child(""));let s=new Qt(new he(o),0),a=new _n(ke);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),Q.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){rt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Q.forEach(t.mutations,i=>{let o=new Qt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Qt(t,0),i=this.Yr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var oD=class{constructor(e){this.ni=e,this.docs=(function(){return new Vt(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():pi.newInvalidDocument(t))}getEntries(e,t){let r=Zo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pi.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Zo(),s=t.path,a=new he(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||IK(wK(d),r)<=0||(i.has(d.key)||iv(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ge(9500)}ri(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sD(this)}getSize(e){return Q.resolve(this.size)}},sD=class extends XT{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var aD=class{constructor(e){this.persistence=e,this.ii=new Qo(t=>JD(t),eS),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.si=0,this.oi=new Ef,this.targetCount=0,this._i=bf.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),Q.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new bf(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.hr(t),Q.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.oi.containsKey(t))}};var k_=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new GD(0),this.ci=!1,this.ci=!0,this.li=new rD,this.referenceDelegate=e(this),this.hi=new aD(this),this.indexManager=new GT,this.remoteDocumentCache=(function(i){return new oD(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new qT(t),this.Ti=new tD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new iD(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){se("MemoryPersistence","Starting transaction:",e);let i=new cD(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return Q.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},cD=class extends mT{constructor(e){super(),this.currentSequenceNumber=e}},lD=class n{constructor(e){this.persistence=e,this.Ai=new Ef,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ge(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.mi,r=>{let i=he.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,De.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Q.or([()=>Q.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},N_=class n{constructor(e,t){this.persistence=e,this.gi=new Qo(r=>SK(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=IQ(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return Q.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?Q.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,De.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Q.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=m_(e.data.value)),t}Sr(e,t,r){return Q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var uD=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Be(),i=Be();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var dD=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var hD=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return DN()?8:TK(mn())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new dD;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(uu()<=Le.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",du(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(uu()<=Le.DEBUG&&se("QueryEngine","Query:",du(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(uu()<=Le.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",du(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(t))):Q.resolve())}ps(e,t){if(AF(t))return Q.resolve(null);let r=Ji(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=RT(t,null,"F"),r=Ji(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Be(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(t,a);return this.Ds(t,l,s,c.readTime)?this.ps(e,RT(t,null,"F")):this.vs(e,l,t,c)}))})))}ys(e,t,r,i){return AF(t)||i.isEqual(De.min())?Q.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?Q.resolve(null):(uu()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),du(t)),this.vs(e,s,t,EK(i,ff)).next(a=>a))})}bs(e,t){let r=new _n(LL(e));return t.forEach((i,o)=>{iv(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return uu()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",du(t)),this.gs.getDocumentsMatchingQuery(e,t,Cc.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var rS="LocalStore",CQ=3e8,fD=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Vt(ke),this.Ms=new Qo(o=>JD(o),eS),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function TQ(n,e,t,r){return new fD(n,e,t,r)}async function rV(n,e){let t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Be();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function DQ(n,e){let t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,d){let f=l.batch,g=f.keys(),y=Q.resolve();return g.forEach(E=>{y=y.next(()=>d.getEntry(c,E)).next(w=>{let I=l.docVersions.get(E);rt(I!==null,48541),w.version.compareTo(I)<0&&(f.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),d.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Be();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function iV(n){let e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function SQ(n,e){let t=Ce(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Fn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),(function(w,I,k){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=CQ?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(g,y,d)&&a.push(t.hi.updateTargetData(o,y))});let c=Zo(),l=Be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(AQ(o,s,e.documentUpdates).next(d=>{c=d.Ls,l=d.ks})),!r.isEqual(De.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Fs=i,o))}function AQ(n,e,t){let r=Be(),i=Be();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Zo();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):se(rS,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function xQ(n,e){let t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=YD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MQ(n,e){let t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new vf(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function pD(n,e,t){let r=Ce(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ku(s))throw s;se(rS,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function UF(n,e,t){let r=Ce(n),i=De.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,l,d){let f=Ce(c),g=f.Ms.get(d);return g!==void 0?Q.resolve(f.Fs.get(g)):f.hi.getTargetData(l,d)})(r,s,Ji(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:De.min(),t?o:Be())).next(a=>(RQ(r,zK(e),a),{documents:a,qs:o})))}function RQ(n,e,t){let r=n.xs.get(e)||De.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var O_=class{constructor(){this.activeTargetIds=QK()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gD=class{constructor(){this.Fo=new O_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new O_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mD=class{xo(e){}shutdown(){}};var HF="ConnectivityMonitor",F_=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){se(HF,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){se(HF,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var g_=null;function yD(){return g_===null?g_=(function(){return 268435456+Math.round(2147483648*Math.random())})():g_++,"0x"+g_.toString(16)}var oT="RestConnection",PQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},_D=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===C_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=yD(),a=this.Go(e,t.toUriEncodedString());se(oT,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),d=Fs(l);return this.jo(e,a,c,r,d).then(f=>(se(oT,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ks(oT,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ru})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=PQ[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var vD=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var On="WebChannelConnection",bD=class extends _D{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=yD();return new Promise((a,c)=>{let l=new JC;l.setWithCredentials(!0),l.listenOnce(eT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sf.NO_ERROR:let f=l.getResponseJson();se(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case sf.TIMEOUT:se(On,`RPC '${e}' ${s} timed out`),c(new ie(G.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:let g=l.getStatus();if(se(On,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let E=y?.error;if(E&&E.status&&E.message){let w=(function(k){let L=k.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(L)>=0?L:G.UNKNOWN})(E.status);c(new ie(w,E.message))}else c(new ie(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new ie(G.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{se(On,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);se(On,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",d,r,15)})}P_(e,t,r){let i=yD(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rT(),a=nT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");se(On,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,y=!1,E=new vD({Ho:I=>{y?se(On,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(g||(se(On,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),se(On,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},Yo:()=>f.close()}),w=(I,k,L)=>{I.listen(k,U=>{try{L(U)}catch(q){setTimeout(()=>{throw q},0)}})};return w(f,lu.EventType.OPEN,()=>{y||(se(On,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),w(f,lu.EventType.CLOSE,()=>{y||(y=!0,se(On,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(f))}),w(f,lu.EventType.ERROR,I=>{y||(y=!0,Ks(On,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),E.__(new ie(G.UNAVAILABLE,"The operation could not be completed")))}),w(f,lu.EventType.MESSAGE,I=>{var k;if(!y){let L=I.data[0];rt(!!L,16349);let U=L,q=U?.error||((k=U[0])===null||k===void 0?void 0:k.error);if(q){se(On,`RPC '${e}' stream ${i} received error:`,q);let z=q.status,$=(function(S){let R=Kt[S];if(R!==void 0)return YL(R)})(z),A=q.message;$===void 0&&($=G.INTERNAL,A="Unknown error status: "+z+" with message "+q.message),y=!0,E.__(new ie($,A)),f.close()}else se(On,`RPC '${e}' stream ${i} received:`,L),E.a_(L)}}),w(a,tT.STAT_EVENT,I=>{I.stat===h_.PROXY?se(On,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===h_.NOPROXY&&se(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function sT(){return typeof document<"u"?document:null}function ov(n){return new UT(n,!0)}var L_=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var $F="PersistentStream",V_=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new L_(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Go(t.toString()),Go("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new ie(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return se($F,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(se($F,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ED=class extends V_{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=uQ(this.serializer,e),r=(function(o){if(!("targetChange"in o))return De.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?De.min():s.readTime?eo(s.readTime):De.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=WT(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=xT(c)?{documents:fQ(o,c)}:{query:pQ(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=KL(o,s.resumeToken);let l=HT(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(De.min())>0){a.readTime=R_(o,s.snapshotVersion.toTimestamp());let l=HT(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=mQ(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=WT(this.serializer),t.removeTarget=e,this.k_(t)}},wD=class extends V_{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=hQ(e.writeResults,e.commitTime),r=eo(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=WT(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>dQ(this.serializer,r))};this.k_(t)}};var ID=class{},CD=class extends ID{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,$T(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(G.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,$T(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(G.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},TD=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Go(t),this._a=!1):se("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ac="RemoteStore",DD=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Mc(this)&&(se(Ac,"Restarting streams for network reachability change."),await(async function(c){let l=Ce(c);l.Ia.add(4),await Sf(l),l.Aa.set("Unknown"),l.Ia.delete(4),await sv(l)})(this))})}),this.Aa=new TD(r,i)}};async function sv(n){if(Mc(n))for(let e of n.da)await e(!0)}async function Sf(n){for(let e of n.da)await e(!1)}function oV(n,e){let t=Ce(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),aS(t)?sS(t):Nu(t).x_()&&oS(t,e))}function iS(n,e){let t=Ce(n),r=Nu(t);t.Ta.delete(e),r.x_()&&sV(t,e),t.Ta.size===0&&(r.x_()?r.B_():Mc(t)&&t.Aa.set("Unknown"))}function oS(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nu(n).H_(e)}function sV(n,e){n.Ra.$e(e),Nu(n).Y_(e)}function sS(n){n.Ra=new BT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Nu(n).start(),n.Aa.aa()}function aS(n){return Mc(n)&&!Nu(n).M_()&&n.Ta.size>0}function Mc(n){return Ce(n).Ia.size===0}function aV(n){n.Ra=void 0}async function kQ(n){n.Aa.set("Online")}async function NQ(n){n.Ta.forEach((e,t)=>{oS(n,e)})}async function OQ(n,e){aV(n),aS(n)?(n.Aa.la(e),sS(n)):n.Aa.set("Unknown")}async function FQ(n,e,t){if(n.Aa.set("Online"),e instanceof x_&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(n,e)}catch(r){se(Ac,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await j_(n,r)}else if(e instanceof gu?n.Ra.Ye(e):e instanceof A_?n.Ra.it(e):n.Ra.et(e),!t.isEqual(De.min()))try{let r=await iV(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(l);d&&o.Ta.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(Fn.EMPTY_BYTE_STRING,d.snapshotVersion)),sV(o,c);let f=new vf(d.target,c,l,d.sequenceNumber);oS(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){se(Ac,"Failed to raise snapshot:",r),await j_(n,r)}}async function j_(n,e,t){if(!ku(e))throw e;n.Ia.add(1),await Sf(n),n.Aa.set("Offline"),t||(t=()=>iV(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{se(Ac,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await sv(n)})}function cV(n,e){return e().catch(t=>j_(n,t,e))}async function av(n){let e=Ce(n),t=Xs(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:YD;for(;LQ(e);)try{let i=await xQ(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,VQ(e,i)}catch(i){await j_(e,i)}lV(e)&&uV(e)}function LQ(n){return Mc(n)&&n.Pa.length<10}function VQ(n,e){n.Pa.push(e);let t=Xs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function lV(n){return Mc(n)&&!Xs(n).M_()&&n.Pa.length>0}function uV(n){Xs(n).start()}async function jQ(n){Xs(n).na()}async function BQ(n){let e=Xs(n);for(let t of n.Pa)e.X_(t.mutations)}async function UQ(n,e,t){let r=n.Pa.shift(),i=FT.from(r,e,t);await cV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await av(n)}async function HQ(n,e){e&&Xs(n).Z_&&await(async function(r,i){if((function(s){return rQ(s)&&s!==G.ABORTED})(i.code)){let o=r.Pa.shift();Xs(r).N_(),await cV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await av(r)}})(n,e),lV(n)&&uV(n)}async function zF(n,e){let t=Ce(n);t.asyncQueue.verifyOperationInProgress(),se(Ac,"RemoteStore received new credentials");let r=Mc(t);t.Ia.add(3),await Sf(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await sv(t)}async function $Q(n,e){let t=Ce(n);e?(t.Ia.delete(2),await sv(t)):e||(t.Ia.add(2),await Sf(t),t.Aa.set("Unknown"))}function Nu(n){return n.Va||(n.Va=(function(t,r,i){let o=Ce(t);return o.ia(),new ED(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:kQ.bind(null,n),e_:NQ.bind(null,n),n_:OQ.bind(null,n),J_:FQ.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),aS(n)?sS(n):n.Aa.set("Unknown")):(await n.Va.stop(),aV(n))})),n.Va}function Xs(n){return n.ma||(n.ma=(function(t,r,i){let o=Ce(t);return o.ia(),new wD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:jQ.bind(null,n),n_:HQ.bind(null,n),ea:BQ.bind(null,n),ta:UQ.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await av(n)):(await n.ma.stop(),n.Pa.length>0&&(se(Ac,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var SD=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function cS(n,e){if(Go("AsyncQueue",`${e}: ${n}`),ku(n))return new ie(G.UNAVAILABLE,`${e}: ${n}`);throw n}var B_=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||he.comparator(t.key,r.key):(t,r)=>he.comparator(t.key,r.key),this.keyedMap=af(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var U_=class{constructor(){this.fa=new Vt(he.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ge(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Su=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,B_.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var AD=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},xD=class{constructor(){this.queries=WF(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Ce(t),o=i.queries;i.queries=WF(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new ie(G.ABORTED,"Firestore shutting down"))}};function WF(){return new Qo(n=>FL(n),rv)}async function lS(n,e){let t=Ce(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new AD,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=cS(s,`Initialization of query '${du(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&dS(t)}async function uS(n,e){let t=Ce(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zQ(n,e){let t=Ce(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&dS(t)}function WQ(n,e,t){let r=Ce(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function dS(n){n.Da.forEach(e=>{e.next()})}var MD,qF;(qF=MD||(MD={})).Fa="default",qF.Cache="cache";var wf=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==MD.Cache}};var H_=class{constructor(e){this.key=e}},$_=class{constructor(e){this.key=e}},RD=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Be(),this.mutatedKeys=Be(),this.Xa=LL(e),this.eu=new B_(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new U_,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),y=iv(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),I=!1;g&&y?g.data.isEqual(y.data)?E!==w&&(r.track({type:3,doc:y}),I=!0):this.iu(g,y)||(r.track({type:2,doc:y}),I=!0,(c&&this.Xa(y,c)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),I=!0):g&&!y&&(r.track({type:1,doc:g}),I=!0,(c||l)&&(a=!0)),I&&(y?(s=s.add(y),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>(function(y,E){let w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{At:I})}};return w(y)-w(E)})(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new Su(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new U_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Be(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new $_(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new H_(r))}),t}uu(e){this.Ha=e.qs,this.Za=Be();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Su.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},hS="SyncEngine",PD=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},kD=class{constructor(e){this.key=e,this.lu=!1}},ND=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Qo(a=>FL(a),rv),this.Tu=new Map,this.Iu=new Set,this.du=new Vt(he.comparator),this.Eu=new Map,this.Au=new Ef,this.Ru={},this.Vu=new Map,this.mu=bf.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function qQ(n,e,t=!0){let r=mV(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await dV(r,e,t,!0),i}async function GQ(n,e){let t=mV(n);await dV(t,e,!0,!1)}async function dV(n,e,t,r){let i=await MQ(n.localStore,Ji(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await YQ(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&oV(n.remoteStore,i),a}async function YQ(n,e,t,r,i){n.gu=(f,g,y)=>(async function(w,I,k,L){let U=I.view.nu(k);U.Ds&&(U=await UF(w.localStore,I.query,!1).then(({documents:A})=>I.view.nu(A,U)));let q=L&&L.targetChanges.get(I.targetId),z=L&&L.targetMismatches.get(I.targetId)!=null,$=I.view.applyChanges(U,w.isPrimaryClient,q,z);return YF(w,I.targetId,$._u),$.snapshot})(n,f,g,y);let o=await UF(n.localStore,e,!0),s=new RD(e,o.qs),a=s.nu(o.documents),c=_f.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);YF(n,t,l._u);let d=new PD(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function KQ(n,e,t){let r=Ce(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!rv(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pD(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&iS(r.remoteStore,i.targetId),OD(r,i.targetId)}).catch(Pu)):(OD(r,i.targetId),await pD(r.localStore,i.targetId,!0))}async function QQ(n,e){let t=Ce(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),iS(t.remoteStore,r.targetId))}async function ZQ(n,e,t){let r=iZ(n);try{let i=await(function(s,a){let c=Ce(s),l=Jt.now(),d=a.reduce((y,E)=>y.add(E.key),Be()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Zo(),w=Be();return c.Os.getEntries(y,d).next(I=>{E=I,E.forEach((k,L)=>{L.isValidDocument()||(w=w.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,E)).next(I=>{f=I;let k=[];for(let L of a){let U=nQ(L,f.get(L.key).overlayedDocument);U!=null&&k.push(new no(L.key,U,xL(U.value.mapValue),qo.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,k,a)}).next(I=>{g=I;let k=I.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(y,I.batchId,k)})}).then(()=>({batchId:g.batchId,changes:jL(f)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new Vt(ke)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),await Af(r,i.changes),await av(r.remoteStore)}catch(i){let o=cS(i,"Failed to persist write");t.reject(o)}}async function hV(n,e){let t=Ce(n);try{let r=await SQ(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?rt(s.lu,14607):i.removedDocuments.size>0&&(rt(s.lu,42227),s.lu=!1))}),await Af(t,r,e)}catch(r){await Pu(r)}}function GF(n,e,t){let r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=Ce(s);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(l=!0)}),l&&dS(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XQ(n,e,t){let r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Vt(he.comparator);s=s.insert(o,pi.newNoDocument(o,De.min()));let a=Be().add(o),c=new S_(De.min(),new Map,new Vt(ke),s,a);await hV(r,c),r.du=r.du.remove(o),r.Eu.delete(e),fS(r)}else await pD(r.localStore,e,!1).then(()=>OD(r,e,t)).catch(Pu)}async function JQ(n,e){let t=Ce(n),r=e.batch.batchId;try{let i=await DQ(t.localStore,e);pV(t,r,null),fV(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Af(t,i)}catch(i){await Pu(i)}}async function eZ(n,e,t){let r=Ce(n);try{let i=await(function(s,a){let c=Ce(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(rt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})})(r.localStore,e);pV(r,e,t),fV(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Af(r,i)}catch(i){await Pu(i)}}function fV(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function pV(n,e,t){let r=Ce(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function OD(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||gV(n,r)})}function gV(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(iS(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),fS(n))}function YF(n,e,t){for(let r of t)r instanceof H_?(n.Au.addReference(r.key,e),tZ(n,r)):r instanceof $_?(se(hS,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||gV(n,r.key)):ge(19791,{yu:r})}function tZ(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(se(hS,"New document in limbo: "+t),n.Iu.add(r),fS(n))}function fS(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new he(kt.fromString(e)),r=n.mu.next();n.Eu.set(r,new kD(t)),n.du=n.du.insert(t,r),oV(n.remoteStore,new vf(Ji(nv(t.path)),r,"TargetPurposeLimboResolution",GD.ue))}}async function Af(n,e,t){let r=Ce(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(l=>{var d;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=uD.Es(c.targetId,l);o.push(f)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(c,l){let d=Ce(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(l,g=>Q.forEach(g.Is,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>Q.forEach(g.ds,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!ku(f))throw f;se(rS,"Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let y=d.Fs.get(g),E=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(g,w)}}})(r.localStore,o))}async function nZ(n,e){let t=Ce(n);if(!t.currentUser.isEqual(e)){se(hS,"User change. New user:",e.toKey());let r=await rV(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new ie(G.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Af(t,r.Bs)}}function rZ(n,e){let t=Ce(n),r=t.Eu.get(e);if(r&&r.lu)return Be().add(r.key);{let i=Be(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function mV(n){let e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XQ.bind(null,e),e.hu.J_=zQ.bind(null,e.eventManager),e.hu.pu=WQ.bind(null,e.eventManager),e}function iZ(n){let e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eZ.bind(null,e),e}var yV=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ov(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return TQ(this.persistence,new hD,t.initialUser,this.serializer)}Du(t){return new k_(lD.Vi,this.serializer)}bu(t){return new gD}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),FD=class extends yV{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){rt(this.persistence.referenceDelegate instanceof N_,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new QT(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Br.withCacheSize(this.cacheSizeBytes):Br.DEFAULT;return new k_(r=>N_.Vi(r,t),this.serializer)}};var oZ=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GF(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=nZ.bind(null,this.syncEngine),await $Q(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new xD})()}createDatastore(t){let r=ov(t.databaseInfo.databaseId),i=(function(s){return new bD(s)})(t.databaseInfo);return(function(s,a,c,l){return new CD(s,a,c,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new DD(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>GF(this.syncEngine,r,0),(function(){return F_.C()?new F_:new mD})())}createSyncEngine(t,r){return(function(o,s,a,c,l,d,f){let g=new ND(o,s,a,c,l,d);return f&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=Ce(o);se(Ac,"RemoteStore shutting down."),s.Ia.add(5),await Sf(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var If=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Go("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Js="FirestoreClient",LD=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=yn.UNAUTHENTICATED,this.clientId=hf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{se(Js,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(se(Js,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=cS(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function aT(n,e){n.asyncQueue.verifyOperationInProgress(),se(Js,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Ks("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{se("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ks("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function KF(n,e){n.asyncQueue.verifyOperationInProgress();let t=await sZ(n);se(Js,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zF(e.remoteStore,i)),n._onlineComponents=e}async function sZ(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se(Js,"Using user provided OfflineComponentProvider");try{await aT(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ks("Error using user provided cache. Falling back to memory cache: "+t),await aT(n,new yV)}}else se(Js,"Using default OfflineComponentProvider"),await aT(n,new FD(void 0));return n._offlineComponents}async function _V(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se(Js,"Using user provided OnlineComponentProvider"),await KF(n,n._uninitializedComponentsProvider._online)):(se(Js,"Using default OnlineComponentProvider"),await KF(n,new oZ))),n._onlineComponents}function aZ(n){return _V(n).then(e=>e.syncEngine)}async function z_(n){let e=await _V(n),t=e.eventManager;return t.onListen=qQ.bind(null,e.syncEngine),t.onUnlisten=KQ.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GQ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QQ.bind(null,e.syncEngine),t}function cZ(n,e,t={}){let r=new fi;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,l){let d=new If({next:g=>{d.Ou(),s.enqueueAndForget(()=>uS(o,f));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new ie(G.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new ie(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new wf(nv(a.path),d,{includeMetadataChanges:!0,ka:!0});return lS(o,f)})(await z_(n),n.asyncQueue,e,t,r)),r.promise}function lZ(n,e,t={}){let r=new fi;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,l){let d=new If({next:g=>{d.Ou(),s.enqueueAndForget(()=>uS(o,f)),g.fromCache&&c.source==="server"?l.reject(new ie(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new wf(a,d,{includeMetadataChanges:!0,ka:!0});return lS(o,f)})(await z_(n),n.asyncQueue,e,t,r)),r.promise}function vV(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var QF=new Map;var bV="firestore.googleapis.com",ZF=!0,W_=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bV,this.ssl=ZF}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZF;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wQ)throw new ie(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Au=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cT;switch(r.type){case"firstParty":return new hT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=QF.get(t);r&&(se("ComponentProvider","Removing Datastore"),QF.delete(t),r.terminate())})(this),Promise.resolve()}};function EV(n,e,t,r={}){var i;n=Ir(n,Au);let o=Fs(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Oy(`https://${c}`),Fy("Firestore",!0)),s.host!==bV&&s.host!==c&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!br(l,a)&&(n._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=yn.MOCK_USER;else{d=EN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ie(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yn(g)}n._authCredentials=new lT(new v_(d,f))}}var xc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},cn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Df(t,n._jsonSchema))return new n(e,r||null,new he(kt.fromString(t.referencePath)))}};cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:Xt("string",cn._jsonSchemaVersion),referencePath:Xt("string")};var Ws=class n extends xc{constructor(e,t,r){super(e,t,nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new he(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function wV(n,e,...t){if(n=ct(n),oL("collection","path",e),n instanceof Au){let r=kt.fromString(e,...t);return gF(r),new Ws(n,null,r)}{if(!(n instanceof cn||n instanceof Ws))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(kt.fromString(e,...t));return gF(r),new Ws(n.firestore,null,r)}}function IV(n,e,...t){if(n=ct(n),arguments.length===1&&(e=hf.newId()),oL("doc","path",e),n instanceof Au){let r=kt.fromString(e,...t);return pF(r),new cn(n,null,new he(r))}{if(!(n instanceof cn||n instanceof Ws))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(kt.fromString(e,...t));return pF(r),new cn(n.firestore,n instanceof Ws?n.converter:null,new he(r))}}var XF="AsyncQueue",q_=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new L_(this,"async_queue_retry"),this.oc=()=>{let r=sT();r&&se(XF,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=sT();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=sT();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new fi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ku(e))throw e;se(XF,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Go("INTERNAL UNHANDLED ERROR: ",JF(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=SD.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ge(47125,{hc:JF(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function JF(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function eL(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var ro=class extends Au{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new q_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new q_(e),this._firestoreClient=void 0,await e}}};function CV(n,e){let t=typeof n=="object"?n:qi(),r=typeof n=="string"?n:e||C_,i=jr(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bN("firestore");o&&EV(i,...o)}return i}function cv(n){if(n._terminated)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uZ(n),n._firestoreClient}function uZ(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,l,d){return new yT(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vV(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new LD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var qs=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Fn.fromBase64String(e))}catch(t){throw new ie(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Df(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};qs._jsonSchemaVersion="firestore/bytes/1.0",qs._jsonSchema={type:Xt("string",qs._jsonSchemaVersion),bytes:Xt("string")};var xu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Mu=class{constructor(e){this._methodName=e}};var Gs=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Df(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Gs._jsonSchemaVersion="firestore/geoPoint/1.0",Gs._jsonSchema={type:Xt("string",Gs._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};var Ys=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Df(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new ie(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ys._jsonSchemaVersion="firestore/vectorValue/1.0",Ys._jsonSchema={type:Xt("string",Ys._jsonSchemaVersion),vectorValues:Xt("object")};var dZ=/^__.*__$/,VD=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}},G_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new no(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function TV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ec:n})}}var Y_=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Q_(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(TV(this.Ec)&&dZ.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},jD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ov(e)}Dc(e,t,r,i=!1){return new Y_({Ec:e,methodName:t,bc:r,path:wr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pS(n){let e=n._freezeSettings(),t=ov(n._databaseId);return new jD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hZ(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);gS("Data must be an object, but it was:",s,r);let a=DV(r,s),c,l;if(o.merge)c=new Ur(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=UD(e,f,t);if(!s.contains(g))throw new ie(G.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);AV(d,g)||d.push(g)}c=new Ur(d),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new VD(new Er(a),c,l)}var K_=class n extends Mu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function fZ(n,e,t){return new Y_({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var BD=class n extends Mu{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=fZ(this,e,!0),r=this.vc.map(o=>Ou(o,t)),i=new Zs(r);return new PT(e.path,i)}isEqual(e){return e instanceof n&&br(this.vc,e.vc)}};function pZ(n,e,t,r){let i=n.Dc(1,e,t);gS("Data must be an object, but it was:",i,r);let o=[],s=Er.empty();ea(r,(c,l)=>{let d=mS(e,c,t);l=ct(l);let f=i.gc(d);if(l instanceof K_)o.push(d);else{let g=Ou(l,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new Ur(o);return new G_(s,a,i.fieldTransforms)}function gZ(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[UD(e,r,t)],c=[i];if(o.length%2!=0)throw new ie(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(UD(e,o[g])),c.push(o[g+1]);let l=[],d=Er.empty();for(let g=a.length-1;g>=0;--g)if(!AV(l,a[g])){let y=a[g],E=c[g];E=ct(E);let w=s.gc(y);if(E instanceof K_)l.push(y);else{let I=Ou(E,w);I!=null&&(l.push(y),d.set(y,I))}}let f=new Ur(l);return new G_(d,f,s.fieldTransforms)}function mZ(n,e,t,r=!1){return Ou(t,n.Dc(r?4:3,e))}function Ou(n,e){if(SV(n=ct(n)))return gS("Unsupported field value:",e,n),DV(n,e);if(n instanceof Mu)return(function(r,i){if(!TV(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=Ou(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Jt.fromDate(r);return{timestampValue:R_(i.serializer,o)}}if(r instanceof Jt){let o=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:R_(i.serializer,o)}}if(r instanceof Gs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:KL(i.serializer,r._byteString)};if(r instanceof cn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ys)return(function(s,a){return{mapValue:{fields:{[QD]:{stringValue:ZD},[_u]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return tS(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${J_(r)}`)})(n,e)}function DV(n,e){let t={};return EL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(n,(r,i)=>{let o=Ou(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function SV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof Gs||n instanceof qs||n instanceof cn||n instanceof Mu||n instanceof Ys)}function gS(n,e,t){if(!SV(t)||!sL(t)){let r=J_(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function UD(n,e,t){if((e=ct(e))instanceof xu)return e._internalPath;if(typeof e=="string")return mS(n,e);throw Q_("Field path arguments must be of type string or ",n,!1,void 0,t)}var yZ=new RegExp("[~\\*/\\[\\]]");function mS(n,e,t){if(e.search(yZ)>=0)throw Q_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xu(...e.split("."))._internalPath}catch{throw Q_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Q_(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ie(G.INVALID_ARGUMENT,a+n+c)}function AV(n,e){return n.some(t=>t.isEqual(e))}var Z_=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new HD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(yS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},HD=class extends Z_{data(){return super.data()}};function yS(n,e){return typeof e=="string"?mS(n,e):e instanceof xu?e._internalPath:e._delegate._internalPath}function xV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ie(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cf=class{},$D=class extends Cf{};function MV(n,e,...t){let r=[];e instanceof Cf&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(c=>c instanceof zD).length,a=o.filter(c=>c instanceof X_).length;if(s>1||s>0&&a>0)throw new ie(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var X_=class n extends $D{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return PV(e._query,t),new xc(e.firestore,e.converter,MT(e._query,t))}_parse(e){let t=pS(e.firestore);return(function(o,s,a,c,l,d,f){let g;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ie(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){nL(f,d);let E=[];for(let w of f)E.push(tL(c,o,w));g={arrayValue:{values:E}}}else g=tL(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||nL(f,d),g=mZ(a,s,f,d==="in"||d==="not-in");return Zt.create(l,d,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function RV(n,e,t){let r=e,i=yS("where",n);return X_._create(i,r,t)}var zD=class n extends Cf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gi.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)PV(s,c),s=MT(s,c)})(e._query,t),new xc(e.firestore,e.converter,MT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function tL(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new ie(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OL(e)&&t.indexOf("/")!==-1)throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(kt.fromString(t));if(!he.isDocumentKey(r))throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wF(n,new he(r))}if(t instanceof cn)return wF(n,t._key);throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${J_(t)}.`)}function nL(n,e){if(!Array.isArray(n)||n.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PV(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var WD=class{convertValue(e,t="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ea(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[_u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pt(s.doubleValue));return new Ys(o)}convertGeoPoint(e){return new Gs(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=tv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gf(e));default:return null}}convertTimestamp(e){let t=Yo(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=kt.fromString(e);rt(tV(r),9688,{name:e});let i=new T_(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(t)||Go(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function _Z(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var bc=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ec=class n extends Z_{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(yS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ec._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ec._jsonSchema={type:Xt("string",Ec._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};var mu=class extends Ec{data(e={}){return super.data(e)}},wc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mu(this._firestore,this._userDataWriter,r.key,r,new bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:vZ(a.type),doc:c,oldIndex:l,newIndex:d}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function vZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:n})}}function kV(n){n=Ir(n,cn);let e=Ir(n.firestore,ro);return cZ(cv(e),n._key).then(t=>VV(e,n,t))}wc._jsonSchemaVersion="firestore/querySnapshot/1.0",wc._jsonSchema={type:Xt("string",wc._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};var Tf=class extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}};function NV(n){n=Ir(n,xc);let e=Ir(n.firestore,ro),t=cv(e),r=new Tf(e);return xV(n._query),lZ(t,n._query).then(i=>new wc(e,r,n,i))}function OV(n,e,t){n=Ir(n,cn);let r=Ir(n.firestore,ro),i=_Z(n.converter,e,t);return vS(r,[hZ(pS(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,qo.none())])}function FV(n,e,t,...r){n=Ir(n,cn);let i=Ir(n.firestore,ro),o=pS(i),s;return s=typeof(e=ct(e))=="string"||e instanceof xu?gZ(o,"updateDoc",n._key,e,t,r):pZ(o,"updateDoc",n._key,e),vS(i,[s.toMutation(n._key,qo.exists(!0))])}function LV(n){return vS(Ir(n.firestore,ro),[new yf(n._key,qo.none())])}function _S(n,...e){var t,r,i;n=ct(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||eL(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eL(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(n instanceof cn)l=Ir(n.firestore,ro),d=nv(n._key.path),c={next:f=>{e[s]&&e[s](VV(l,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Ir(n,xc);l=Ir(f.firestore,ro),d=f._query;let g=new Tf(l);c={next:y=>{e[s]&&e[s](new wc(l,g,f,y))},error:e[s+1],complete:e[s+2]},xV(n._query)}return(function(g,y,E,w){let I=new If(w),k=new wf(y,I,E);return g.asyncQueue.enqueueAndForget(async()=>lS(await z_(g),k)),()=>{I.Ou(),g.asyncQueue.enqueueAndForget(async()=>uS(await z_(g),k))}})(cv(l),d,a,c)}function vS(n,e){return(function(r,i){let o=new fi;return r.asyncQueue.enqueueAndForget(async()=>ZQ(await aZ(r),i,o)),o.promise})(cv(n),e)}function VV(n,e,t){let r=t.docs.get(e._key),i=new Tf(n);return new Ec(n,i,e._key,r,new bc(t.hasPendingWrites,t.fromCache),e.converter)}function jV(...n){return new BD("arrayRemove",n)}(function(e,t=!0){(function(i){Ru=i})(Vs),Tn(new zt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ro(new uT(r.getProvider("auth-internal")),new fT(s,r.getProvider("app-check-internal")),(function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ie(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T_(l.options.projectId,d)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),nt(uF,dF,e),nt(uF,dF,"esm2017")})();var lv=function(){return lv=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lv.apply(this,arguments)};var wZ={includeMetadataChanges:!1};function BV(n,e){return e===void 0&&(e=wZ),new Me(function(t){var r=_S(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function UV(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:lv(lv({},r),(t={},t[e.idField]=n.id,t))}function HV(n){return BV(n,{includeMetadataChanges:!0}).pipe(at(function(e){return e.docs}))}function $V(n,e){return e===void 0&&(e={}),HV(n).pipe(at(function(t){return t.map(function(r){return UV(r,e)})}))}var Rc=class{constructor(e){return e}},zV="firestore",bS=class{constructor(){return js(zV)}};var ES=new ue("angularfire2.firestore-instances");function IZ(n,e){let t=hc(zV,n,e);return t&&new Rc(t)}function CZ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Rc(r)}}var TZ={provide:bS,deps:[[new kn,ES]]},DZ={provide:Rc,useFactory:IZ,deps:[[new kn,ES],di]};function WV(n,...e){return nt("angularfire",Gi.full,"fst"),gr([DZ,TZ,{provide:ES,useFactory:CZ(n),multi:!0,deps:[dt,Lt,Yi,Bo,[new kn,of],[new kn,su],...e]}])}var qV=vt($V,!0);var xf=vt(wV,!0,2);var Fu=vt(LV,!0,2);var or=vt(IV,!0,2);var uv=vt(kV,!0);var wS=vt(NV,!0);var GV=vt(CV,!0);var YV=vt(MV,!0,2);var Lu=vt(OV,!0,2);var dv=vt(FV,!0,2);var KV=vt(RV,!0,2);var XV="@firebase/installations",DS="0.6.18";var JV=1e4,e2=`w:${DS}`,t2="FIS_v2",AZ="https://firebaseinstallations.googleapis.com/v1",xZ=3600*1e3,MZ="installations",RZ="Installations";var PZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},kc=new Gn(MZ,RZ,PZ);function n2(n){return n instanceof Cn&&n.code.includes("request-failed")}function r2({projectId:n}){return`${AZ}/projects/${n}/installations`}function i2(n){return{token:n.token,requestStatus:2,expiresIn:NZ(n.expiresIn),creationTime:Date.now()}}async function o2(n,e){let r=(await e.json()).error;return kc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function s2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function kZ(n,{refreshToken:e}){let t=s2(n);return t.append("Authorization",OZ(e)),t}async function a2(n){let e=await n();return e.status>=500&&e.status<600?n():e}function NZ(n){return Number(n.replace("s","000"))}function OZ(n){return`${t2} ${n}`}async function FZ({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let r=r2(n),i=s2(n),o=e.getImmediate({optional:!0});if(o){let l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}let s={fid:t,authVersion:t2,appId:n.appId,sdkVersion:e2},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await a2(()=>fetch(r,a));if(c.ok){let l=await c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:i2(l.authToken)}}else throw await o2("Create Installation",c)}function c2(n){return new Promise(e=>{setTimeout(e,n)})}function LZ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var VZ=/^[cdef][\w-]{21}$/,TS="";function jZ(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=BZ(n);return VZ.test(t)?t:TS}catch{return TS}}function BZ(n){return LZ(n).substr(0,22)}function fv(n){return`${n.appName}!${n.appId}`}var l2=new Map;function u2(n,e){let t=fv(n);d2(t,e),UZ(t,e)}function d2(n,e){let t=l2.get(n);if(t)for(let r of t)r(e)}function UZ(n,e){let t=HZ();t&&t.postMessage({key:n,fid:e}),$Z()}var Pc=null;function HZ(){return!Pc&&"BroadcastChannel"in self&&(Pc=new BroadcastChannel("[Firebase] FID Change"),Pc.onmessage=n=>{d2(n.data.key,n.data.fid)}),Pc}function $Z(){l2.size===0&&Pc&&(Pc.close(),Pc=null)}var zZ="firebase-installations-database",WZ=1,Nc="firebase-installations-store",IS=null;function SS(){return IS||(IS=Hy(zZ,WZ,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Nc)}}})),IS}async function hv(n,e){let t=fv(n),i=(await SS()).transaction(Nc,"readwrite"),o=i.objectStore(Nc),s=await o.get(t);return await o.put(e,t),await i.done,(!s||s.fid!==e.fid)&&u2(n,e.fid),e}async function h2(n){let e=fv(n),r=(await SS()).transaction(Nc,"readwrite");await r.objectStore(Nc).delete(e),await r.done}async function pv(n,e){let t=fv(n),i=(await SS()).transaction(Nc,"readwrite"),o=i.objectStore(Nc),s=await o.get(t),a=e(s);return a===void 0?await o.delete(t):await o.put(a,t),await i.done,a&&(!s||s.fid!==a.fid)&&u2(n,a.fid),a}async function AS(n){let e,t=await pv(n.appConfig,r=>{let i=qZ(r),o=GZ(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===TS?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function qZ(n){let e=n||{fid:jZ(),registrationStatus:0};return f2(e)}function GZ(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(kc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=YZ(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:KZ(n)}:{installationEntry:e}}async function YZ(n,e){try{let t=await FZ(n,e);return hv(n.appConfig,t)}catch(t){throw n2(t)&&t.customData.serverCode===409?await h2(n.appConfig):await hv(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function KZ(n){let e=await QV(n.appConfig);for(;e.registrationStatus===1;)await c2(100),e=await QV(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=await AS(n);return r||t}return e}function QV(n){return pv(n,e=>{if(!e)throw kc.create("installation-not-found");return f2(e)})}function f2(n){return QZ(n)?{fid:n.fid,registrationStatus:0}:n}function QZ(n){return n.registrationStatus===1&&n.registrationTime+JV<Date.now()}async function ZZ({appConfig:n,heartbeatServiceProvider:e},t){let r=XZ(n,t),i=kZ(n,t),o=e.getImmediate({optional:!0});if(o){let l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}let s={installation:{sdkVersion:e2,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await a2(()=>fetch(r,a));if(c.ok){let l=await c.json();return i2(l)}else throw await o2("Generate Auth Token",c)}function XZ(n,{fid:e}){return`${r2(n)}/${e}/authTokens:generate`}async function xS(n,e=!1){let t,r=await pv(n.appConfig,o=>{if(!p2(o))throw kc.create("not-registered");let s=o.authToken;if(!e&&tX(s))return o;if(s.requestStatus===1)return t=JZ(n,e),o;{if(!navigator.onLine)throw kc.create("app-offline");let a=rX(o);return t=eX(n,a),a}});return t?await t:r.authToken}async function JZ(n,e){let t=await ZV(n.appConfig);for(;t.authToken.requestStatus===1;)await c2(100),t=await ZV(n.appConfig);let r=t.authToken;return r.requestStatus===0?xS(n,e):r}function ZV(n){return pv(n,e=>{if(!p2(e))throw kc.create("not-registered");let t=e.authToken;return iX(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function eX(n,e){try{let t=await ZZ(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await hv(n.appConfig,r),t}catch(t){if(n2(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await h2(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await hv(n.appConfig,r)}throw t}}function p2(n){return n!==void 0&&n.registrationStatus===2}function tX(n){return n.requestStatus===2&&!nX(n)}function nX(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+xZ}function rX(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function iX(n){return n.requestStatus===1&&n.requestTime+JV<Date.now()}async function oX(n){let e=n,{installationEntry:t,registrationPromise:r}=await AS(e);return r?r.catch(console.error):xS(e).catch(console.error),t.fid}async function sX(n,e=!1){let t=n;return await aX(t),(await xS(t,e)).token}async function aX(n){let{registrationPromise:e}=await AS(n);e&&await e}function cX(n){if(!n||!n.options)throw CS("App Configuration");if(!n.name)throw CS("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw CS(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function CS(n){return kc.create("missing-app-config-values",{valueName:n})}var g2="installations",lX="installations-internal",uX=n=>{let e=n.getProvider("app").getImmediate(),t=cX(e),r=jr(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},dX=n=>{let e=n.getProvider("app").getImmediate(),t=jr(e,g2).getImmediate();return{getId:()=>oX(t),getToken:i=>sX(t,i)}};function hX(){Tn(new zt(g2,uX,"PUBLIC")),Tn(new zt(lX,dX,"PRIVATE"))}hX();nt(XV,DS);nt(XV,DS,"esm2017");var gv="analytics",fX="firebase_id",pX="origin",gX=60*1e3,mX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",FS="https://www.googletagmanager.com/gtag/js";var sr=new Vr("@firebase/analytics");var yX={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cr=new Gn("analytics","Analytics",yX);function _X(n){if(!n.startsWith(FS)){let e=Cr.create("invalid-gtag-resource",{gtagURL:n});return sr.warn(e.message),""}return n}function w2(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function vX(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function bX(n,e){let t=vX("firebase-js-sdk-policy",{createScriptURL:_X}),r=document.createElement("script"),i=`${FS}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function EX(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function wX(n,e,t,r,i,o){let s=r[i];try{if(s)await e[s];else{let c=(await w2(t)).find(l=>l.measurementId===i);c&&await e[c.appId]}}catch(a){sr.error(a)}n("config",i,o)}async function IX(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=await w2(t);for(let c of s){let l=a.find(f=>f.measurementId===c),d=l&&e[l.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){sr.error(o)}}function CX(n,e,t,r){async function i(o,...s){try{if(o==="event"){let[a,c]=s;await IX(n,e,t,a,c)}else if(o==="config"){let[a,c]=s;await wX(n,e,t,r,a,c)}else if(o==="consent"){let[a,c]=s;n("consent",a,c)}else if(o==="get"){let[a,c,l]=s;n("get",a,c,l)}else if(o==="set"){let[a]=s;n("set",a)}else n(o,...s)}catch(a){sr.error(a)}}return i}function TX(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=CX(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function DX(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(FS)&&t.src.includes(n))return t;return null}var SX=30,AX=1e3,RS=class{constructor(e={},t=AX){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},I2=new RS;function xX(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function MX(n){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:xX(r)},o=mX.replace("{app-id}",t),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let c=await s.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Cr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function RX(n,e=I2,t){let{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Cr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Cr.create("no-api-key")}let s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new PS;return setTimeout(async()=>{a.abort()},t!==void 0?t:gX),C2({appId:r,apiKey:i,measurementId:o},s,a,e)}async function C2(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=I2){var o;let{appId:s,measurementId:a}=n;try{await PX(r,e)}catch(c){if(a)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{let c=await MX(n);return i.deleteThrottleMetadata(s),c}catch(c){let l=c;if(!kX(l)){if(i.deleteThrottleMetadata(s),a)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}let d=Number((o=l?.customData)===null||o===void 0?void 0:o.httpStatus)===503?jy(t,i.intervalMillis,SX):jy(t,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(s,f),sr.debug(`Calling attemptFetch again in ${d} millis`),C2(n,f,r,i)}}function PX(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kX(n){if(!(n instanceof Cn)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var PS=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var kS;async function NX(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{let o=await e,s=Object.assign(Object.assign({},r),{send_to:o});n("event",t,s)}}var NS;function OX(n){NS=n}function FX(n){kS=n}async function LX(){if(lc())try{await Vy()}catch(n){return sr.warn(Cr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return sr.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VX(n,e,t,r,i,o,s){var a;let c=RX(n);c.then(y=>{t[y.measurementId]=y.appId,n.options.measurementId&&y.measurementId!==n.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>sr.error(y)),e.push(c);let l=LX().then(y=>{if(y)return r.getId()}),[d,f]=await Promise.all([c,l]);DX(o)||bX(o,d.measurementId),NS&&(i("consent","default",NS),OX(void 0)),i("js",new Date);let g=(a=s?.config)!==null&&a!==void 0?a:{};return g[pX]="firebase",g.update=!0,f!=null&&(g[fX]=f),i("config",d.measurementId,g),kS&&(i("set",kS),FX(void 0)),d.measurementId}var OS=class{constructor(e){this.app=e}_delete(){return delete Mf[this.app.options.appId],Promise.resolve()}},Mf={},m2=[],y2={},MS="dataLayer",jX="gtag",_2,T2,v2=!1;function BX(){let n=[];if(Ly()&&n.push("This is a browser extension environment."),SN()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Cr.create("invalid-analytics-context",{errorInfo:e});sr.warn(t.message)}}function UX(n,e,t){BX();let r=n.options.appId;if(!r)throw Cr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cr.create("no-api-key");if(Mf[r]!=null)throw Cr.create("already-exists",{id:r});if(!v2){EX(MS);let{wrappedGtag:o,gtagCore:s}=TX(Mf,m2,y2,MS,jX);T2=o,_2=s,v2=!0}return Mf[r]=VX(n,m2,y2,e,_2,MS,t),new OS(n)}function D2(n=qi()){n=ct(n);let e=jr(n,gv);return e.isInitialized()?e.getImmediate():S2(n)}function S2(n,e={}){let t=jr(n,gv);if(t.isInitialized()){let i=t.getImmediate();if(br(e,t.getOptions()))return i;throw Cr.create("already-initialized")}return t.initialize({options:e})}function A2(n,e,t,r){n=ct(n),NX(T2,Mf[n.app.options.appId],e,t,r).catch(i=>sr.error(i))}var b2="@firebase/analytics",E2="0.10.17";function HX(){Tn(new zt(gv,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return UX(r,i,t)},"PUBLIC")),Tn(new zt("analytics-internal",n,"PRIVATE")),nt(b2,E2),nt(b2,E2,"esm2017");function n(e){try{let t=e.getProvider(gv).getImmediate();return{logEvent:(r,i,o)=>A2(t,r,i,o)}}catch(t){throw Cr.create("interop-component-reg-failed",{reason:t})}}}HX();var Rf=class{constructor(e){return e}},x2="analytics",LS=class{constructor(){return js(x2)}};var M2=vt(D2,!0);var ZTe=Math.floor(Math.random()*(2**32-1))-2**31;var VS=new ue("angularfire2.analytics-instances");function $X(n,e,t){if(!Zw(t))return null;let r=hc(x2,n,e);return r&&new Rf(r)}function zX(n){return(e,t,r)=>{if(!Zw(r))return null;let i=e.runOutsideAngular(()=>n(t));return new Rf(i)}}var WX={provide:LS,deps:[[new kn,VS]]},qX={provide:Rf,useFactory:$X,deps:[[new kn,VS],di,Li]};function R2(n,...e){return nt("angularfire",Gi.full,"analytics"),gr([qX,WX,{provide:VS,useFactory:zX(n),multi:!0,deps:[dt,Lt,Li,Yi,Bo,...e]}])}var GX={apiKey:"AIzaSyCsLEn_zYGYWQ5kILQvPT_J-5tE-lYs7I0",authDomain:"projeto-todo-91696.firebaseapp.com",projectId:"projeto-todo-91696",storageBucket:"projeto-todo-91696.firebasestorage.app",messagingSenderId:"985058247628",appId:"1:985058247628:web:be0508b862d74891b1d369",measurementId:"G-DCFV5G5JWJ"},P2={providers:[xI(gN),qN(()=>GN(GX)),JO(()=>nF()),WV(()=>GV()),R2(()=>M2())]};var H2=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ve(Ss),ve(ko))};static \u0275dir=Mt({type:n})}return n})(),Cv=(()=>{class n extends H2{static \u0275fac=(()=>{let t;return function(i){return(t||(t=si(n)))(i||n)}})();static \u0275dir=Mt({type:n,features:[rr]})}return n})(),Vf=new ue("");var YX={provide:Vf,useExisting:pr(()=>Tv),multi:!0};function KX(){let n=Fr()?Fr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var QX=new ue(""),Tv=(()=>{class n extends H2{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!KX())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ve(Ss),ve(ko),ve(QX,8))};static \u0275dir=Mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ui([YX]),rr]})}return n})();function ZX(n){return n==null||$2(n)===0}function $2(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Dv=new ue(""),z2=new ue("");function XX(n){return ZX(n.value)?{required:!0}:null}function JX(n){return e=>{let t=e.value?.length??$2(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function k2(n){return null}function W2(n){return n!=null}function q2(n){return xs(n)?Ht(n):n}function G2(n){let e={};return n.forEach(t=>{e=t!=null?J(J({},e),t):e}),Object.keys(e).length===0?null:e}function Y2(n,e){return e.map(t=>t(n))}function eJ(n){return!n.validate}function K2(n){return n.map(e=>eJ(e)?e:t=>e.validate(t))}function tJ(n){if(!n)return null;let e=n.filter(W2);return e.length==0?null:function(t){return G2(Y2(t,e))}}function US(n){return n!=null?tJ(K2(n)):null}function nJ(n){if(!n)return null;let e=n.filter(W2);return e.length==0?null:function(t){let r=Y2(t,e).map(q2);return pb(r).pipe(at(G2))}}function HS(n){return n!=null?nJ(K2(n)):null}function N2(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rJ(n){return n._rawValidators}function iJ(n){return n._rawAsyncValidators}function jS(n){return n?Array.isArray(n)?n:[n]:[]}function yv(n,e){return Array.isArray(n)?n.includes(e):n===e}function O2(n,e){let t=jS(e);return jS(n).forEach(i=>{yv(t,i)||t.push(i)}),t}function F2(n,e){return jS(e).filter(t=>!yv(n,t))}var _v=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=US(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Bu=class extends _v{name;get formDirective(){return null}get path(){return null}},Lf=class extends _v{_parent=null;name=null;valueAccessor=null},vv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Q2=(()=>{class n extends vv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ve(Lf,2))};static \u0275dir=Mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Rt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[rr]})}return n})(),Z2=(()=>{class n extends vv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ve(Bu,10))};static \u0275dir=Mt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Rt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[rr]})}return n})();var Pf="VALID",mv="INVALID",Vu="PENDING",kf="DISABLED",ta=class{},bv=class extends ta{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Of=class extends ta{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ff=class extends ta{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ju=class extends ta{status;source;constructor(e,t){super(),this.status=e,this.source=t}},BS=class extends ta{source;constructor(e){super(),this.source=e}},Ev=class extends ta{source;constructor(e){super(),this.source=e}};function X2(n){return(Sv(n)?n.validators:n)||null}function oJ(n){return Array.isArray(n)?US(n):n||null}function J2(n,e){return(Sv(e)?e.asyncValidators:n)||null}function sJ(n){return Array.isArray(n)?HS(n):n||null}function Sv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function aJ(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ce(1e3,"");if(!r[t])throw new ce(1001,"")}function cJ(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ce(1002,"")})}var wv=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return sn(this.statusReactive)}set status(e){sn(()=>this.statusReactive.set(e))}_status=$l(()=>this.statusReactive());statusReactive=nr(void 0);get valid(){return this.status===Pf}get invalid(){return this.status===mv}get pending(){return this.status==Vu}get disabled(){return this.status===kf}get enabled(){return this.status!==kf}errors;get pristine(){return sn(this.pristineReactive)}set pristine(e){sn(()=>this.pristineReactive.set(e))}_pristine=$l(()=>this.pristineReactive());pristineReactive=nr(!0);get dirty(){return!this.pristine}get touched(){return sn(this.touchedReactive)}set touched(e){sn(()=>this.touchedReactive.set(e))}_touched=$l(()=>this.touchedReactive());touchedReactive=nr(!1);get untouched(){return!this.touched}_events=new dn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(O2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(O2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(F2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(F2(e,this._rawAsyncValidators))}hasValidator(e){return yv(this._rawValidators,e)}hasAsyncValidator(e){return yv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(J({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ff(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ff(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(J({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Of(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Of(!0,r))}markAsPending(e={}){this.status=Vu;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ju(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(J({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=kf,this.errors=null,this._forEachChild(i=>{i.disable(ye(J({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bv(this.value,r)),this._events.next(new ju(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(J({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Pf,this._forEachChild(r=>{r.enable(ye(J({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(J({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pf||this.status===Vu)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bv(this.value,t)),this._events.next(new ju(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(J({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kf:Pf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Vu,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=q2(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ju(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new qt,this.statusChanges=new qt}_calculateStatus(){return this._allControlsDisabled()?kf:this.errors?mv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vu)?Vu:this._anyControlsHaveStatus(mv)?mv:Pf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Of(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ff(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=oJ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sJ(this._rawAsyncValidators)}},Iv=class extends wv{constructor(e,t,r){super(X2(t),J2(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){cJ(this,!0,e),Object.keys(e).forEach(r=>{aJ(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,ye(J({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Ev(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $S=new ue("",{factory:()=>zS}),zS="always";function lJ(n,e){return[...e.path,n]}function ej(n,e,t=zS){tj(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),dJ(n,e),fJ(n,e),hJ(n,e),uJ(n,e)}function L2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uJ(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function tj(n,e){let t=rJ(n);e.validator!==null?n.setValidators(N2(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=iJ(n);e.asyncValidator!==null?n.setAsyncValidators(N2(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();L2(e._rawValidators,i),L2(e._rawAsyncValidators,i)}function dJ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&nj(n,e)})}function hJ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&nj(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function nj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fJ(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pJ(n,e){n==null,tj(n,e)}function gJ(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function mJ(n){return Object.getPrototypeOf(n.constructor)===Cv}function yJ(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _J(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Tv?t=o:mJ(o)?r=o:i=o}),i||r||t||null}var vJ={provide:Bu,useExisting:pr(()=>WS)},Nf=Promise.resolve(),WS=(()=>{class n extends Bu{callSetDisabledState;get submitted(){return sn(this.submittedReactive)}_submitted=$l(()=>this.submittedReactive());submittedReactive=nr(!1);_directives=new Set;form;ngSubmit=new qt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Iv({},US(t),HS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Nf.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ej(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Nf.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Nf.then(()=>{let r=this._findContainer(t.path),i=new Iv({});pJ(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Nf.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Nf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),yJ(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new BS(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ve(Dv,10),ve(z2,10),ve($S,8))};static \u0275dir=Mt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ui([vJ]),rr]})}return n})();function V2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function j2(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var bJ=class extends wv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(X2(t),J2(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(j2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Ev(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){V2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){V2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){j2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var EJ={provide:Lf,useExisting:pr(()=>qS)},B2=Promise.resolve(),qS=(()=>{class n extends Lf{_changeDetectorRef;callSetDisabledState;control=new bJ;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new qt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_J(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gJ(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ej(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){B2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Um(r);B2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?lJ(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ve(Bu,9),ve(Dv,10),ve(z2,10),ve(Vf,10),ve(Ps,8),ve($S,8))};static \u0275dir=Mt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ui([EJ]),rr,Qa]})}return n})();var rj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Mt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),wJ={provide:Vf,useExisting:pr(()=>GS),multi:!0},GS=(()=>{class n extends Cv{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=si(n)))(i||n)}})();static \u0275dir=Mt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ui([wJ]),rr]})}return n})();var IJ={provide:Vf,useExisting:pr(()=>Av),multi:!0};function ij(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function CJ(n){return n.split(":")[0]}var Av=(()=>{class n extends Cv{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=Z(Ms).injector;destroyRef=Z(Ni);cdr=Z(Ps);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Rm({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=ij(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=CJ(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=si(n)))(i||n)}})();static \u0275dir=Mt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&le("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ui([IJ]),rr]})}return n})(),oj=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ij(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(ve(ko),ve(Ss),ve(Av,9))};static \u0275dir=Mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),TJ={provide:Vf,useExisting:pr(()=>sj),multi:!0};function U2(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function DJ(n){return n.split(":")[0]}var sj=(()=>{class n extends Cv{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=DJ(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=si(n)))(i||n)}})();static \u0275dir=Mt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&le("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ui([TJ]),rr]})}return n})(),aj=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(U2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(U2(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ve(ko),ve(Ss),ve(sj,9))};static \u0275dir=Mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function SJ(n){return typeof n=="number"?n:parseInt(n,10)}var cj=(()=>{class n{_validator=k2;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):k2,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Mt({type:n,features:[Qa]})}return n})();var AJ={provide:Dv,useExisting:pr(()=>YS),multi:!0};var YS=(()=>{class n extends cj{required;inputName="required";normalizeInput=Um;createValidator=t=>XX;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=si(n)))(i||n)}})();static \u0275dir=Mt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&pn("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ui([AJ]),rr]})}return n})();var xJ={provide:Dv,useExisting:pr(()=>KS),multi:!0},KS=(()=>{class n extends cj{minlength;inputName="minlength";normalizeInput=t=>SJ(t);createValidator=t=>JX(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=si(n)))(i||n)}})();static \u0275dir=Mt({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&pn("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Ui([xJ]),rr]})}return n})();var MJ=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=As({type:n});static \u0275inj=Mo({})}return n})();var lj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$S,useValue:t.callSetDisabledState??zS}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=As({type:n});static \u0275inj=Mo({imports:[MJ]})}return n})();function Uf(n){return n+.5|0}var na=(n,e,t)=>Math.max(Math.min(n,t),e);function jf(n){return na(Uf(n*2.55),0,255)}function ra(n){return na(Uf(n*255),0,255)}function Xo(n){return na(Uf(n/2.55)/100,0,1)}function uj(n){return na(Uf(n*100),0,100)}var Hr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ZS=[..."0123456789ABCDEF"],PJ=n=>ZS[n&15],kJ=n=>ZS[(n&240)>>4]+ZS[n&15],xv=n=>(n&240)>>4===(n&15),NJ=n=>xv(n.r)&&xv(n.g)&&xv(n.b)&&xv(n.a);function OJ(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Hr[n[1]]*17,g:255&Hr[n[2]]*17,b:255&Hr[n[3]]*17,a:e===5?Hr[n[4]]*17:255}:(e===7||e===9)&&(t={r:Hr[n[1]]<<4|Hr[n[2]],g:Hr[n[3]]<<4|Hr[n[4]],b:Hr[n[5]]<<4|Hr[n[6]],a:e===9?Hr[n[7]]<<4|Hr[n[8]]:255})),t}var FJ=(n,e)=>n<255?e(n):"";function LJ(n){var e=NJ(n)?PJ:kJ;return n?"#"+e(n.r)+e(n.g)+e(n.b)+FJ(n.a,e):void 0}var VJ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pj(n,e,t){let r=e*Math.min(t,1-t),i=(o,s=(o+n/30)%12)=>t-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function jJ(n,e,t){let r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function BJ(n,e,t){let r=pj(n,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function UJ(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function XS(n){let t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=(o+s)/2,c,l,d;return o!==s&&(d=o-s,l=a>.5?d/(2-o-s):d/(o+s),c=UJ(t,r,i,d,o),c=c*60+.5),[c|0,l||0,a]}function JS(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(ra)}function eA(n,e,t){return JS(pj,n,e,t)}function HJ(n,e,t){return JS(BJ,n,e,t)}function $J(n,e,t){return JS(jJ,n,e,t)}function gj(n){return(n%360+360)%360}function zJ(n){let e=VJ.exec(n),t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?jf(+e[5]):ra(+e[5]));let i=gj(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?r=HJ(i,o,s):e[1]==="hsv"?r=$J(i,o,s):r=eA(i,o,s),{r:r[0],g:r[1],b:r[2],a:t}}function WJ(n,e){var t=XS(n);t[0]=gj(t[0]+e),t=eA(t),n.r=t[0],n.g=t[1],n.b=t[2]}function qJ(n){if(!n)return;let e=XS(n),t=e[0],r=uj(e[1]),i=uj(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Xo(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}var dj={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hj={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GJ(){let n={},e=Object.keys(hj),t=Object.keys(dj),r,i,o,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],i=0;i<t.length;i++)o=t[i],a=a.replace(o,dj[o]);o=parseInt(hj[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}var Mv;function YJ(n){Mv||(Mv=GJ(),Mv.transparent=[0,0,0,0]);let e=Mv[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var KJ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QJ(n){let e=KJ.exec(n),t=255,r,i,o;if(e){if(e[7]!==r){let s=+e[7];t=e[8]?jf(s):na(s*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?jf(r):na(r,0,255)),i=255&(e[4]?jf(i):na(i,0,255)),o=255&(e[6]?jf(o):na(o,0,255)),{r,g:i,b:o,a:t}}}function ZJ(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Xo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var QS=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Uu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function XJ(n,e,t){let r=Uu(Xo(n.r)),i=Uu(Xo(n.g)),o=Uu(Xo(n.b));return{r:ra(QS(r+t*(Uu(Xo(e.r))-r))),g:ra(QS(i+t*(Uu(Xo(e.g))-i))),b:ra(QS(o+t*(Uu(Xo(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Rv(n,e,t){if(n){let r=XS(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=eA(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function mj(n,e){return n&&Object.assign(e||{},n)}function fj(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ra(n[3]))):(e=mj(n,{r:0,g:0,b:0,a:1}),e.a=ra(e.a)),e}function JJ(n){return n.charAt(0)==="r"?QJ(n):zJ(n)}var Bf=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,r;t==="object"?r=fj(e):t==="string"&&(r=OJ(e)||YJ(e)||JJ(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=mj(this._rgb);return e&&(e.a=Xo(e.a)),e}set rgb(e){this._rgb=fj(e)}rgbString(){return this._valid?ZJ(this._rgb):void 0}hexString(){return this._valid?LJ(this._rgb):void 0}hslString(){return this._valid?qJ(this._rgb):void 0}mix(e,t){if(e){let r=this.rgb,i=e.rgb,o,s=t===o?.5:t,a=2*s-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,r.r=255&l*r.r+o*i.r+.5,r.g=255&l*r.g+o*i.g+.5,r.b=255&l*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=XJ(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=ra(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=Uf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Rv(this._rgb,2,e),this}darken(e){return Rv(this._rgb,2,-e),this}saturate(e){return Rv(this._rgb,1,e),this}desaturate(e){return Rv(this._rgb,1,-e),this}rotate(e){return WJ(this._rgb,e),this}};function so(){}var Sj=(()=>{let n=0;return()=>n++})();function Fe(n){return n==null}function Ct(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ve(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Nt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ar(n,e){return Nt(n)?n:e}function be(n,e){return typeof n>"u"?e:n}var Aj=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,iA=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function bt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function it(n,e,t,r){let i,o,s;if(Ct(n))if(o=n.length,r)for(i=o-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<o;i++)e.call(t,n[i],i);else if(Ve(n))for(s=Object.keys(n),o=s.length,i=0;i<o;i++)e.call(t,n[s[i]],s[i])}function zf(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Ov(n){if(Ct(n))return n.map(Ov);if(Ve(n)){let e=Object.create(null),t=Object.keys(n),r=t.length,i=0;for(;i<r;++i)e[t[i]]=Ov(n[t[i]]);return e}return n}function xj(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function eee(n,e,t,r){if(!xj(n))return;let i=e[n],o=t[n];Ve(i)&&Ve(o)?$u(i,o,r):e[n]=Ov(o)}function $u(n,e,t){let r=Ct(e)?e:[e],i=r.length;if(!Ve(n))return n;t=t||{};let o=t.merger||eee,s;for(let a=0;a<i;++a){if(s=r[a],!Ve(s))continue;let c=Object.keys(s);for(let l=0,d=c.length;l<d;++l)o(c[l],n,s,t)}return n}function Wu(n,e){return $u(n,e,{merger:tee})}function tee(n,e,t){if(!xj(n))return;let r=e[n],i=t[n];Ve(r)&&Ve(i)?Wu(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ov(i))}var yj={"":n=>n,x:n=>n.x,y:n=>n.y};function nee(n){let e=n.split("."),t=[],r="";for(let i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function ree(n){let e=nee(n);return t=>{for(let r of e){if(r==="")break;t=t&&t[r]}return t}}function ts(n,e){return(yj[e]||(yj[e]=ree(e)))(n)}function jv(n){return n.charAt(0).toUpperCase()+n.slice(1)}var qu=n=>typeof n<"u",Jo=n=>typeof n=="function",oA=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function Mj(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Ge=Math.PI,Tt=2*Ge,iee=Tt+Ge,Fv=Number.POSITIVE_INFINITY,oee=Ge/180,jt=Ge/2,Oc=Ge/4,_j=Ge*2/3,es=Math.log10,mi=Math.sign;function Gu(n,e,t){return Math.abs(n-e)<t}function sA(n){let e=Math.round(n);n=Gu(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(es(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function Rj(n){let e=[],t=Math.sqrt(n),r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function see(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Vc(n){return!see(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Pj(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function aA(n,e,t){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function $r(n){return n*(Ge/180)}function Bv(n){return n*(180/Ge)}function cA(n){if(!Nt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function lA(n,e){let t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r),o=Math.atan2(r,t);return o<-.5*Ge&&(o+=Tt),{angle:o,distance:i}}function Lv(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function aee(n,e){return(n-e+iee)%Tt-Ge}function Dn(n){return(n%Tt+Tt)%Tt}function Yu(n,e,t,r){let i=Dn(n),o=Dn(e),s=Dn(t),a=Dn(o-i),c=Dn(s-i),l=Dn(i-o),d=Dn(i-s);return i===o||i===s||r&&o===s||a>c&&l<d}function ln(n,e,t){return Math.max(e,Math.min(t,n))}function kj(n){return ln(n,-32768,32767)}function ao(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Uv(n,e,t){t=t||(s=>n[s]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}var io=(n,e,t,r)=>Uv(n,t,r?i=>{let o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),Nj=(n,e,t)=>Uv(n,t,r=>n[r][e]>=t);function Oj(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}var Fj=["push","pop","shift","splice","unshift"];function Lj(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Fj.forEach(t=>{let r="_onData"+jv(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function uA(n,e){let t=n._chartjs;if(!t)return;let r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Fj.forEach(o=>{delete n[o]}),delete n._chartjs)}function dA(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var hA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function fA(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,hA.call(window,()=>{r=!1,n.apply(e,t)}))}}function Vj(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}var Hv=n=>n==="start"?"left":n==="end"?"right":"center",Sn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,jj=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function pA(n,e,t){let r=e.length,i=0,o=r;if(n._sorted){let{iScale:s,vScale:a,_parsed:c}=n,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,d=s.axis,{min:f,max:g,minDefined:y,maxDefined:E}=s.getUserBounds();if(y){if(i=Math.min(io(c,d,f).lo,t?r:io(e,d,s.getPixelForValue(f)).lo),l){let w=c.slice(0,i+1).reverse().findIndex(I=>!Fe(I[a.axis]));i-=Math.max(0,w)}i=ln(i,0,r-1)}if(E){let w=Math.max(io(c,s.axis,g,!0).hi+1,t?0:io(e,d,s.getPixelForValue(g),!0).hi+1);if(l){let I=c.slice(w-1).findIndex(k=>!Fe(k[a.axis]));w+=Math.max(0,I)}o=ln(w,i,r)-i}else o=r-i}return{start:i,count:o}}function gA(n){let{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;let o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}var Pv=n=>n===0||n===1,vj=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Tt/t)),bj=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Tt/t)+1,Hu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*jt)+1,easeOutSine:n=>Math.sin(n*jt),easeInOutSine:n=>-.5*(Math.cos(Ge*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Pv(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Pv(n)?n:vj(n,.075,.3),easeOutElastic:n=>Pv(n)?n:bj(n,.075,.3),easeInOutElastic(n){return Pv(n)?n:n<.5?.5*vj(n*2,.1125,.45):.5+.5*bj(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Hu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Hu.easeInBounce(n*2)*.5:Hu.easeOutBounce(n*2-1)*.5+.5};function mA(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function yA(n){return mA(n)?n:new Bf(n)}function tA(n){return mA(n)?n:new Bf(n).saturate(.5).darken(.1).hexString()}var cee=["x","y","borderWidth","radius","tension"],lee=["color","borderColor","backgroundColor"];function uee(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:lee},numbers:{type:"number",properties:cee}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function dee(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Ej=new Map;function hee(n,e){e=e||{};let t=n+JSON.stringify(e),r=Ej.get(t);return r||(r=new Intl.NumberFormat(n,e),Ej.set(t,r)),r}function Ku(n,e,t){return hee(e,t).format(n)}var Bj={values(n){return Ct(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let r=this.chart.options.locale,i,o=n;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),o=fee(n,t)}let s=es(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Ku(n,r,c)},logarithmic(n,e,t){if(n===0)return"0";let r=t[e].significand||n/Math.pow(10,Math.floor(es(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?Bj.numeric.call(this,n,e,t):""}};function fee(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Wf={formatters:Bj};function pee(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var sa=Object.create(null),$v=Object.create(null);function Hf(n,e){if(!e)return n;let t=e.split(".");for(let r=0,i=t.length;r<i;++r){let o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function nA(n,e,t){return typeof e=="string"?$u(Hf(n,e),t):$u(Hf(n,""),e)}var rA=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>tA(i.backgroundColor),this.hoverBorderColor=(r,i)=>tA(i.borderColor),this.hoverColor=(r,i)=>tA(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return nA(this,e,t)}get(e){return Hf(this,e)}describe(e,t){return nA($v,e,t)}override(e,t){return nA(sa,e,t)}route(e,t,r,i){let o=Hf(this,e),s=Hf(this,r),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=s[i];return Ve(c)?Object.assign({},l,c):be(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}},St=new rA({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uee,dee,pee]);function gee(n){return!n||Fe(n.size)||Fe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function $f(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function Uj(n,e,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let s=0,a=t.length,c,l,d,f,g;for(c=0;c<a;c++)if(f=t[c],f!=null&&!Ct(f))s=$f(n,i,o,s,f);else if(Ct(f))for(l=0,d=f.length;l<d;l++)g=f[l],g!=null&&!Ct(g)&&(s=$f(n,i,o,s,g));n.restore();let y=o.length/2;if(y>t.length){for(c=0;c<y;c++)delete i[o[c]];o.splice(0,y)}return s}function aa(n,e,t){let r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function _A(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function zv(n,e,t,r){vA(n,e,t,r,null)}function vA(n,e,t,r,i){let o,s,a,c,l,d,f,g,y=e.pointStyle,E=e.rotation,w=e.radius,I=(E||0)*oee;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(I),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),y){default:i?n.ellipse(t,r,i/2,w,0,0,Tt):n.arc(t,r,w,0,Tt),n.closePath();break;case"triangle":d=i?i/2:w,n.moveTo(t+Math.sin(I)*d,r-Math.cos(I)*w),I+=_j,n.lineTo(t+Math.sin(I)*d,r-Math.cos(I)*w),I+=_j,n.lineTo(t+Math.sin(I)*d,r-Math.cos(I)*w),n.closePath();break;case"rectRounded":l=w*.516,c=w-l,s=Math.cos(I+Oc)*c,f=Math.cos(I+Oc)*(i?i/2-l:c),a=Math.sin(I+Oc)*c,g=Math.sin(I+Oc)*(i?i/2-l:c),n.arc(t-f,r-a,l,I-Ge,I-jt),n.arc(t+g,r-s,l,I-jt,I),n.arc(t+f,r+a,l,I,I+jt),n.arc(t-g,r+s,l,I+jt,I+Ge),n.closePath();break;case"rect":if(!E){c=Math.SQRT1_2*w,d=i?i/2:c,n.rect(t-d,r-c,2*d,2*c);break}I+=Oc;case"rectRot":f=Math.cos(I)*(i?i/2:w),s=Math.cos(I)*w,a=Math.sin(I)*w,g=Math.sin(I)*(i?i/2:w),n.moveTo(t-f,r-a),n.lineTo(t+g,r-s),n.lineTo(t+f,r+a),n.lineTo(t-g,r+s),n.closePath();break;case"crossRot":I+=Oc;case"cross":f=Math.cos(I)*(i?i/2:w),s=Math.cos(I)*w,a=Math.sin(I)*w,g=Math.sin(I)*(i?i/2:w),n.moveTo(t-f,r-a),n.lineTo(t+f,r+a),n.moveTo(t+g,r-s),n.lineTo(t-g,r+s);break;case"star":f=Math.cos(I)*(i?i/2:w),s=Math.cos(I)*w,a=Math.sin(I)*w,g=Math.sin(I)*(i?i/2:w),n.moveTo(t-f,r-a),n.lineTo(t+f,r+a),n.moveTo(t+g,r-s),n.lineTo(t-g,r+s),I+=Oc,f=Math.cos(I)*(i?i/2:w),s=Math.cos(I)*w,a=Math.sin(I)*w,g=Math.sin(I)*(i?i/2:w),n.moveTo(t-f,r-a),n.lineTo(t+f,r+a),n.moveTo(t+g,r-s),n.lineTo(t-g,r+s);break;case"line":s=i?i/2:Math.cos(I)*w,a=Math.sin(I)*w,n.moveTo(t-s,r-a),n.lineTo(t+s,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(I)*(i?i/2:w),r+Math.sin(I)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function oo(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function qf(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Gf(n){n.restore()}function Hj(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){let o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function $j(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function mee(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Fe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function yee(n,e,t,r,i){if(i.strikethrough||i.underline){let o=n.measureText(r),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,l=t+o.actualBoundingBoxDescent,d=i.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(s,d),n.lineTo(a,d),n.stroke()}}function _ee(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function ca(n,e,t,r,i,o={}){let s=Ct(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",c,l;for(n.save(),n.font=i.string,mee(n,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&_ee(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Fe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(l,t,r,o.maxWidth)),n.fillText(l,t,r,o.maxWidth),yee(n,t,r,l,o),r+=Number(i.lineHeight);n.restore()}function Qu(n,e){let{x:t,y:r,w:i,h:o,radius:s}=e;n.arc(t+s.topLeft,r+s.topLeft,s.topLeft,1.5*Ge,Ge,!0),n.lineTo(t,r+o-s.bottomLeft),n.arc(t+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,Ge,jt,!0),n.lineTo(t+i-s.bottomRight,r+o),n.arc(t+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,jt,0,!0),n.lineTo(t+i,r+s.topRight),n.arc(t+i-s.topRight,r+s.topRight,s.topRight,0,-jt,!0),n.lineTo(t+s.topLeft,r)}var vee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Eee(n,e){let t=(""+n).match(vee);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var wee=n=>+n||0;function Wv(n,e){let t={},r=Ve(e),i=r?Object.keys(e):e,o=Ve(n)?r?s=>be(n[s],n[e[s]]):s=>n[s]:()=>n;for(let s of i)t[s]=wee(o(s));return t}function bA(n){return Wv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function la(n){return Wv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function An(n){let e=bA(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function en(n,e){n=n||{},e=e||St.font;let t=be(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=be(n.style,e.style);r&&!(""+r).match(bee)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:be(n.family,e.family),lineHeight:Eee(be(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:be(n.weight,e.weight),string:""};return i.string=gee(i),i}function Zu(n,e,t,r){let i=!0,o,s,a;for(o=0,s=n.length;o<s;++o)if(a=n[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),t!==void 0&&Ct(a)&&(a=a[t%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function zj(n,e,t){let{min:r,max:i}=n,o=iA(e,(i-r)/2),s=(a,c)=>t&&a===0?0:a+c;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function ns(n,e){return Object.assign(Object.create(n),e)}function qv(n,e=[""],t,r,i=()=>n[0]){let o=t||n;typeof r>"u"&&(r=Gj("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>qv([a,...n],e,o,r)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return Wj(a,c,()=>Mee(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return Ij(a).includes(c)},ownKeys(a){return Ij(a)},set(a,c,l){let d=a._storage||(a._storage=i());return a[c]=d[c]=l,delete a._keys,!0}})}function Lc(n,e,t,r){let i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:EA(n,r),setContext:o=>Lc(n,o,t,r),override:o=>Lc(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return Wj(o,s,()=>Cee(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function EA(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Jo(t)?t:()=>t,isIndexable:Jo(r)?r:()=>r}}var Iee=(n,e)=>n?n+jv(e):e,wA=(n,e)=>Ve(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Wj(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let r=t();return n[e]=r,r}function Cee(n,e,t){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=n,a=r[e];return Jo(a)&&s.isScriptable(e)&&(a=Tee(e,a,n,t)),Ct(a)&&a.length&&(a=Dee(e,a,n,s.isIndexable)),wA(e,a)&&(a=Lc(a,i,o&&o[e],s)),a}function Tee(n,e,t,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(o,s||r);return a.delete(n),wA(n,c)&&(c=IA(i._scopes,i,n,c)),c}function Dee(n,e,t,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(Ve(e[0])){let c=e,l=i._scopes.filter(d=>d!==c);e=[];for(let d of c){let f=IA(l,i,n,d);e.push(Lc(f,o,s&&s[n],a))}}return e}function qj(n,e,t){return Jo(n)?n(e,t):n}var See=(n,e)=>n===!0?e:typeof n=="string"?ts(e,n):void 0;function Aee(n,e,t,r,i){for(let o of e){let s=See(t,o);if(s){n.add(s);let a=qj(s._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(s===!1&&typeof r<"u"&&t!==r)return null}return!1}function IA(n,e,t,r){let i=e._rootScopes,o=qj(e._fallback,t,r),s=[...n,...i],a=new Set;a.add(r);let c=wj(a,s,t,o||t,r);return c===null||typeof o<"u"&&o!==t&&(c=wj(a,s,o,c,r),c===null)?!1:qv(Array.from(a),[""],i,o,()=>xee(e,t,r))}function wj(n,e,t,r,i){for(;t;)t=Aee(n,e,t,r,i);return t}function xee(n,e,t){let r=n._getTarget();e in r||(r[e]={});let i=r[e];return Ct(i)&&Ve(t)?t:i||{}}function Mee(n,e,t,r){let i;for(let o of e)if(i=Gj(Iee(o,n),t),typeof i<"u")return wA(n,i)?IA(t,r,n,i):i}function Gj(n,e){for(let t of e){if(!t)continue;let r=t[n];if(typeof r<"u")return r}}function Ij(n){let e=n._keys;return e||(e=n._keys=Ree(n._scopes)),e}function Ree(n){let e=new Set;for(let t of n)for(let r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function CA(n,e,t,r){let{iScale:i}=n,{key:o="r"}=this._parsing,s=new Array(r),a,c,l,d;for(a=0,c=r;a<c;++a)l=a+t,d=e[l],s[a]={r:i.parse(ts(d,o),l)};return s}var Pee=Number.EPSILON||1e-14,zu=(n,e)=>e<n.length&&!n[e].skip&&n[e],Yj=n=>n==="x"?"y":"x";function kee(n,e,t,r){let i=n.skip?e:n,o=e,s=t.skip?e:t,a=Lv(o,i),c=Lv(s,o),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let f=r*l,g=r*d;return{previous:{x:o.x-f*(s.x-i.x),y:o.y-f*(s.y-i.y)},next:{x:o.x+g*(s.x-i.x),y:o.y+g*(s.y-i.y)}}}function Nee(n,e,t){let r=n.length,i,o,s,a,c,l=zu(n,0);for(let d=0;d<r-1;++d)if(c=l,l=zu(n,d+1),!(!c||!l)){if(Gu(e[d],0,Pee)){t[d]=t[d+1]=0;continue}i=t[d]/e[d],o=t[d+1]/e[d],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[d]=i*s*e[d],t[d+1]=o*s*e[d])}}function Oee(n,e,t="x"){let r=Yj(t),i=n.length,o,s,a,c=zu(n,0);for(let l=0;l<i;++l){if(s=a,a=c,c=zu(n,l+1),!a)continue;let d=a[t],f=a[r];s&&(o=(d-s[t])/3,a[`cp1${t}`]=d-o,a[`cp1${r}`]=f-o*e[l]),c&&(o=(c[t]-d)/3,a[`cp2${t}`]=d+o,a[`cp2${r}`]=f+o*e[l])}}function Fee(n,e="x"){let t=Yj(e),r=n.length,i=Array(r).fill(0),o=Array(r),s,a,c,l=zu(n,0);for(s=0;s<r;++s)if(a=c,c=l,l=zu(n,s+1),!!c){if(l){let d=l[e]-c[e];i[s]=d!==0?(l[t]-c[t])/d:0}o[s]=a?l?mi(i[s-1])!==mi(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}Nee(n,i,o),Oee(n,o,e)}function kv(n,e,t){return Math.max(Math.min(n,t),e)}function Lee(n,e){let t,r,i,o,s,a=oo(n[0],e);for(t=0,r=n.length;t<r;++t)s=o,o=a,a=t<r-1&&oo(n[t+1],e),o&&(i=n[t],s&&(i.cp1x=kv(i.cp1x,e.left,e.right),i.cp1y=kv(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=kv(i.cp2x,e.left,e.right),i.cp2y=kv(i.cp2y,e.top,e.bottom)))}function Kj(n,e,t,r,i){let o,s,a,c;if(e.spanGaps&&(n=n.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")Fee(n,i);else{let l=r?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],c=kee(l,a,n[Math.min(o+1,s-(r?0:1))%s],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&Lee(n,t)}function Gv(){return typeof window<"u"&&typeof document<"u"}function Yv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Vv(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}var Kv=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Vee(n,e){return Kv(n).getPropertyValue(e)}var jee=["top","right","bottom","left"];function Fc(n,e,t){let r={};t=t?"-"+t:"";for(let i=0;i<4;i++){let o=jee[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var Bee=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Uee(n,e){let t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r,s=!1,a,c;if(Bee(i,o,n.target))a=i,c=o;else{let l=e.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,s=!0}return{x:a,y:c,box:s}}function ua(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:r}=e,i=Kv(t),o=i.boxSizing==="border-box",s=Fc(i,"padding"),a=Fc(i,"border","width"),{x:c,y:l,box:d}=Uee(n,t),f=s.left+(d&&a.left),g=s.top+(d&&a.top),{width:y,height:E}=e;return o&&(y-=s.width+a.width,E-=s.height+a.height),{x:Math.round((c-f)/y*t.width/r),y:Math.round((l-g)/E*t.height/r)}}function Hee(n,e,t){let r,i;if(e===void 0||t===void 0){let o=n&&Yv(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{let s=o.getBoundingClientRect(),a=Kv(o),c=Fc(a,"border","width"),l=Fc(a,"padding");e=s.width-l.width-c.width,t=s.height-l.height-c.height,r=Vv(a.maxWidth,o,"clientWidth"),i=Vv(a.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||Fv,maxHeight:i||Fv}}var oa=n=>Math.round(n*10)/10;function Qj(n,e,t,r){let i=Kv(n),o=Fc(i,"margin"),s=Vv(i.maxWidth,n,"clientWidth")||Fv,a=Vv(i.maxHeight,n,"clientHeight")||Fv,c=Hee(n,e,t),{width:l,height:d}=c;if(i.boxSizing==="content-box"){let g=Fc(i,"border","width"),y=Fc(i,"padding");l-=y.width+g.width,d-=y.height+g.height}return l=Math.max(0,l-o.width),d=Math.max(0,r?l/r:d-o.height),l=oa(Math.min(l,s,c.maxWidth)),d=oa(Math.min(d,a,c.maxHeight)),l&&!d&&(d=oa(l/2)),(e!==void 0||t!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,l=oa(Math.floor(d*r))),{width:l,height:d}}function TA(n,e,t){let r=e||1,i=oa(n.height*r),o=oa(n.width*r);n.height=oa(n.height),n.width=oa(n.width);let s=n.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(n.currentDevicePixelRatio=r,s.height=i,s.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}var Zj=(function(){let n=!1;try{let e={get passive(){return n=!0,!1}};Gv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function DA(n,e){let t=Vee(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ia(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Xj(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Jj(n,e,t,r){let i={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},s=ia(n,i,t),a=ia(i,o,t),c=ia(o,e,t),l=ia(s,a,t),d=ia(a,c,t);return ia(l,d,t)}var $ee=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},zee=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function jc(n,e,t){return n?$ee(e,t):zee()}function SA(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function AA(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function eB(n){return n==="angle"?{between:Yu,compare:aee,normalize:Dn}:{between:ao,compare:(e,t)=>e-t,normalize:e=>e}}function Cj({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function Wee(n,e,t){let{property:r,start:i,end:o}=t,{between:s,normalize:a}=eB(r),c=e.length,{start:l,end:d,loop:f}=n,g,y;if(f){for(l+=c,d+=c,g=0,y=c;g<y&&s(a(e[l%c][r]),i,o);++g)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:f,style:n.style}}function xA(n,e,t){if(!t)return[n];let{property:r,start:i,end:o}=t,s=e.length,{compare:a,between:c,normalize:l}=eB(r),{start:d,end:f,loop:g,style:y}=Wee(n,e,t),E=[],w=!1,I=null,k,L,U,q=()=>c(i,U,k)&&a(i,U)!==0,z=()=>a(o,k)===0||c(o,U,k),$=()=>w||q(),A=()=>!w||z();for(let T=d,S=d;T<=f;++T)L=e[T%s],!L.skip&&(k=l(L[r]),k!==U&&(w=c(k,i,o),I===null&&$()&&(I=a(k,i)===0?T:S),I!==null&&A()&&(E.push(Cj({start:I,end:T,loop:g,count:s,style:y})),I=null),S=T,U=k));return I!==null&&E.push(Cj({start:I,end:f,loop:g,count:s,style:y})),E}function MA(n,e){let t=[],r=n.segments;for(let i=0;i<r.length;i++){let o=xA(r[i],n.points,e);o.length&&t.push(...o)}return t}function qee(n,e,t,r){let i=0,o=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(o+=i);o>i&&n[o%e].skip;)o--;return o%=e,{start:i,end:o}}function Gee(n,e,t,r){let i=n.length,o=[],s=e,a=n[e],c;for(c=e+1;c<=t;++c){let l=n[c%i];l.skip||l.stop?a.skip||(r=!1,o.push({start:e%i,end:(c-1)%i,loop:r}),e=s=l.stop?c:null):(s=c,a.skip&&(e=c)),a=l}return s!==null&&o.push({start:e%i,end:s%i,loop:r}),o}function tB(n,e){let t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];let o=!!n._loop,{start:s,end:a}=qee(t,i,o,r);if(r===!0)return Tj(n,[{start:s,end:a,loop:o}],t,e);let c=a<s?a+i:a,l=!!n._fullLoop&&s===0&&a===i-1;return Tj(n,Gee(t,s,c,l),t,e)}function Tj(n,e,t,r){return!r||!r.setContext||!t?e:Yee(n,e,t,r)}function Yee(n,e,t,r){let i=n._chart.getContext(),o=Dj(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,c=t.length,l=[],d=o,f=e[0].start,g=f;function y(E,w,I,k){let L=a?-1:1;if(E!==w){for(E+=c;t[E%c].skip;)E-=L;for(;t[w%c].skip;)w+=L;E%c!==w%c&&(l.push({start:E%c,end:w%c,loop:I,style:k}),d=k,f=w%c)}}for(let E of e){f=a?f:E.start;let w=t[f%c],I;for(g=f+1;g<=E.end;g++){let k=t[g%c];I=Dj(r.setContext(ns(i,{type:"segment",p0:w,p1:k,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:s}))),Kee(I,d)&&y(f,g-1,E.loop,d),w=k,d=I}f<g-1&&y(f,g-1,E.loop,d)}return l}function Dj(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Kee(n,e){if(!e)return!1;let t=[],r=function(i,o){return mA(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Nv(n,e,t){return n.options.clip?n[t]:e[t]}function Qee(n,e){let{xScale:t,yScale:r}=n;return t&&r?{left:Nv(t,e,"left"),right:Nv(t,e,"right"),top:Nv(r,e,"top"),bottom:Nv(r,e,"bottom")}:e}function RA(n,e){let t=e._clip;if(t.disabled)return!1;let r=Qee(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}var $A=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){let o=t.listeners[i],s=t.duration;o.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(r-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=hA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,c;for(;s>=0;--s)c=o[s],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},rs=new $A,nB="transparent",Zee={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let r=yA(n||nB),i=r.valid&&yA(e||nB);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}},zA=class{constructor(e,t,r,i){let o=t[r];i=Zu([e.to,i,o,e.from]);let s=Zu([e.from,o,i]);this._active=!0,this._fn=e.fn||Zee[e.type||typeof s],this._easing=Hu[e.easing]||Hu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Zu([e.to,t,i,e.from]),this._from=Zu([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,c;if(this._active=o!==a&&(s||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=o;return}c=t/r%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}},i0=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ve(e))return;let t=Object.keys(St.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let o=e[i];if(!Ve(o))return;let s={};for(let a of t)s[a]=o[a];(Ct(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(e,t){let r=t.options,i=Jee(e,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&Xee(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){let r=this._properties,i=[],o=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now(),c;for(c=s.length-1;c>=0;--c){let l=s[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(e,t));continue}let d=t[l],f=o[l],g=r.get(l);if(f)if(g&&f.active()){f.update(g,d,a);continue}else f.cancel();if(!g||!g.duration){e[l]=d;continue}o[l]=f=new zA(g,e,l,d),i.push(f)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let r=this._createAnimations(e,t);if(r.length)return rs.add(this._chart,r),!0}};function Xee(n,e){let t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){let o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function Jee(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function rB(n,e){let t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function ete(n,e,t){if(t===!1)return!1;let r=rB(n,t),i=rB(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function tte(n){let e,t,r,i;return Ve(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function nU(n,e){let t=[],r=n._getSortedDatasetMetas(e),i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function iB(n,e,t,r={}){let i=n.keys,o=r.mode==="single",s,a,c,l;if(e===null)return;let d=!1;for(s=0,a=i.length;s<a;++s){if(c=+i[s],c===t){if(d=!0,r.all)continue;break}l=n.values[c],Nt(l)&&(o||e===0||mi(e)===mi(l))&&(e+=l)}return!d&&!r.all?0:e}function nte(n,e){let{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),c,l,d;for(c=0,l=s.length;c<l;++c)d=s[c],a[c]={[i]:d,[o]:n[d]};return a}function PA(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function rte(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function ite(n){let{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function ote(n,e,t){let r=n[e]||(n[e]={});return r[t]||(r[t]={})}function oB(n,e,t,r){for(let i of e.getMatchingVisibleMetas(r).reverse()){let o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function sB(n,e){let{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=r,c=o.axis,l=s.axis,d=rte(o,s,r),f=e.length,g;for(let y=0;y<f;++y){let E=e[y],{[c]:w,[l]:I}=E,k=E._stacks||(E._stacks={});g=k[l]=ote(i,d,w),g[a]=I,g._top=oB(g,s,!0,r.type),g._bottom=oB(g,s,!1,r.type);let L=g._visualValues||(g._visualValues={});L[a]=I}}function kA(n,e){let t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function ste(n,e){return ns(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ate(n,e,t){return ns(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Yf(n,e){let t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(let i of e){let o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}var NA=n=>n==="reset"||n==="none",aB=(n,e)=>e?n:Object.assign({},n),cte=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:nU(t,!0),values:null},ha=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=PA(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yf(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(g,y,E,w)=>g==="x"?y:g==="r"?w:E,s=r.xAxisID=be(i.xAxisID,kA(t,"x")),a=r.yAxisID=be(i.yAxisID,kA(t,"y")),c=r.rAxisID=be(i.rAxisID,kA(t,"r")),l=r.indexAxis,d=r.iAxisID=o(l,s,a,c),f=r.vAxisID=o(l,a,s,c);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&uA(this._data,this),t._stacked&&Yf(t)}_dataCheck(){let t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(Ve(r)){let o=this._cachedMeta;this._data=nte(r,o)}else if(i!==r){if(i){uA(i,this);let o=this._cachedMeta;Yf(o),o._parsed=[]}r&&Object.isExtensible(r)&&Lj(r,this),this._syncList=[],this._data=r}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=PA(r.vScale,r),r.stack!==i.stack&&(o=!0,Yf(r),r.stack=i.stack),this._resyncElements(t),(o||s!==r._stacked)&&(sB(this,r._parsed),r._stacked=PA(r.vScale,r))}configure(){let t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,c=s.axis,l=t===0&&r===o.length?!0:i._sorted,d=t>0&&i._parsed[t-1],f,g,y;if(this._parsing===!1)i._parsed=o,i._sorted=!0,y=o;else{Ct(o[t])?y=this.parseArrayData(i,o,t,r):Ve(o[t])?y=this.parseObjectData(i,o,t,r):y=this.parsePrimitiveData(i,o,t,r);let E=()=>g[c]===null||d&&g[c]<d[c];for(f=0;f<r;++f)i._parsed[f+t]=g=y[f],l&&(E()&&(l=!1),d=g);i._sorted=l}a&&sB(this,y)}parsePrimitiveData(t,r,i,o){let{iScale:s,vScale:a}=t,c=s.axis,l=a.axis,d=s.getLabels(),f=s===a,g=new Array(o),y,E,w;for(y=0,E=o;y<E;++y)w=y+i,g[y]={[c]:f||s.parse(d[w],w),[l]:a.parse(r[w],w)};return g}parseArrayData(t,r,i,o){let{xScale:s,yScale:a}=t,c=new Array(o),l,d,f,g;for(l=0,d=o;l<d;++l)f=l+i,g=r[f],c[l]={x:s.parse(g[0],f),y:a.parse(g[1],f)};return c}parseObjectData(t,r,i,o){let{xScale:s,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(o),f,g,y,E;for(f=0,g=o;f<g;++f)y=f+i,E=r[y],d[f]={x:s.parse(ts(E,c),y),y:a.parse(ts(E,l),y)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){let o=this.chart,s=this._cachedMeta,a=r[t.axis],c={keys:nU(o,!0),values:r._stacks[t.axis]._visualValues};return iB(c,a,s.index,{mode:i})}updateRangeFromParsed(t,r,i,o){let s=i[r.axis],a=s===null?NaN:s,c=o&&i._stacks[r.axis];o&&c&&(o.values=c,a=iB(o,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&t===i.iScale,a=o.length,c=this._getOtherScale(t),l=cte(r,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=ite(c),y,E;function w(){E=o[y];let I=E[c.axis];return!Nt(E[t.axis])||f>I||g<I}for(y=0;y<a&&!(!w()&&(this.updateRangeFromParsed(d,t,E,l),s));++y);if(s){for(y=a-1;y>=0;--y)if(!w()){this.updateRangeFromParsed(d,t,E,l);break}}return d}getAllParsedValues(t){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][t.axis],Nt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(t){let r=this._cachedMeta;this.update(t||"default"),r._clip=tte(be(this.options.clip,ete(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,d=this.options.drawActiveElementsOnTop,f;for(i.dataset&&i.dataset.draw(t,s,c,l),f=c;f<c+l;++f){let g=o[f];g.hidden||(g.active&&d?a.push(g):g.draw(t,s))}for(f=0;f<a.length;++f)a[f].draw(t,s)}getStyle(t,r){let i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){let o=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];s=a.$context||(a.$context=ate(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=o.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=ste(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=t+"-"+r,c=s[a],l=this.enableOptionSharing&&qu(i);if(c)return aB(c,l);let d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=o?[`${t}Hover`,"hover",t,""]:[t,""],y=d.getOptionScopes(this.getDataset(),f),E=Object.keys(St.elements[t]),w=()=>this.getContext(i,o,r),I=d.resolveNamedOptions(y,E,w,g);return I.$shared&&(I.$shared=l,s[a]=Object.freeze(aB(I,l))),I}_resolveAnimations(t,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,c=s[a];if(c)return c;let l;if(o.options.animation!==!1){let f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,r),y=f.getOptionScopes(this.getDataset(),g);l=f.createResolver(y,this.getContext(t,i,r))}let d=new i0(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||NA(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){let i=this.resolveDataElementOptions(t,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(t,r,i,o){NA(o)?Object.assign(t,i):this._resolveAnimations(r,o).update(t,i)}updateSharedOptions(t,r,i){t&&!NA(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,o){t.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(t,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let r=this._data,i=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,t):s<o&&this._removeElements(s,o-s)}_insertElements(t,r,i=!0){let o=this._cachedMeta,s=o.data,a=t+r,c,l=d=>{for(d.length+=r,c=d.length-1;c>=a;c--)d[c]=d[c-r]};for(l(s),c=t;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(t,r),i&&this.updateElements(s,t,r,"reset")}updateElements(t,r,i,o){}_removeElements(t,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(t,r);i._stacked&&Yf(i,o)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[r,i,o]=t;this[r](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function lte(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=dA(r.sort((i,o)=>i-o))}return n._cache.$bar}function ute(n){let e=n.iScale,t=lte(e,n.type),r=e._length,i,o,s,a,c=()=>{s===32767||s===-32768||(qu(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=t.length;i<o;++i)s=e.getPixelForValue(t[i]),c();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)s=e.getPixelForTick(i),c();return r}function dte(n,e,t,r){let i=t.barThickness,o,s;return Fe(i)?(o=e.min*t.categoryPercentage,s=t.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:e.pixels[n]-o/2}}function hte(n,e,t,r){let i=e.pixels,o=i[n],s=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null,c=t.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);let l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/r,ratio:t.barPercentage,start:l}}function fte(n,e,t,r){let i=t.parse(n[0],r),o=t.parse(n[1],r),s=Math.min(i,o),a=Math.max(i,o),c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:o,min:s,max:a}}function rU(n,e,t,r){return Ct(n)?fte(n,e,t,r):e[t.axis]=t.parse(n,r),e}function cB(n,e,t,r){let i=n.iScale,o=n.vScale,s=i.getLabels(),a=i===o,c=[],l,d,f,g;for(l=t,d=t+r;l<d;++l)g=e[l],f={},f[i.axis]=a||i.parse(s[l],l),c.push(rU(g,f,o,l));return c}function OA(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function pte(n,e,t){return n!==0?mi(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function gte(n){let e,t,r,i,o;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:e,top:i,bottom:o}}function mte(n,e,t,r){let i=e.borderSkipped,o={};if(!i){n.borderSkipped=o;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:c,top:l,bottom:d}=gte(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=l:(t._bottom||0)===r?i=d:(o[lB(d,s,a,c)]=!0,i=l)),o[lB(i,s,a,c)]=!0,n.borderSkipped=o}function lB(n,e,t,r){return r?(n=yte(n,e,t),n=uB(n,t,e)):n=uB(n,e,t),n}function yte(n,e,t){return n===e?t:n===t?e:n}function uB(n,e,t){return n==="start"?e:n==="end"?t:n}function _te(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var vte=(()=>{class n extends ha{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,o){return cB(t,r,i,o)}parseArrayData(t,r,i,o){return cB(t,r,i,o)}parseObjectData(t,r,i,o){let{iScale:s,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=s.axis==="x"?c:l,f=a.axis==="x"?c:l,g=[],y,E,w,I;for(y=i,E=i+o;y<E;++y)I=r[y],w={},w[s.axis]=s.parse(ts(I,d),y),g.push(rU(ts(I,f),w,a,y));return g}updateRangeFromParsed(t,r,i,o){super.updateRangeFromParsed(t,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(t),a=s._custom,c=OA(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:y}=this._getSharedOptions(r,o);for(let E=r;E<r+i;E++){let w=this.getParsed(E),I=s||Fe(w[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(E),k=this._calculateBarIndexPixels(E,f),L=(w._stacks||{})[c.axis],U={horizontal:d,base:I.base,enableBorderRadius:!L||OA(w._custom)||a===L._top||a===L._bottom,x:d?I.head:k.center,y:d?k.center:I.head,height:d?k.size:Math.abs(I.size),width:d?Math.abs(I.size):k.size};y&&(U.options=g||this.resolveDataElementOptions(E,t[E].active?"active":o));let q=U.options||t[E].options;mte(U,q,L,a),_te(U,q,f.ratio),this.updateElement(t[E],E,U,o)}}_getStacks(t,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],d=f=>{let g=f._parsed.find(E=>E[i.axis]===l),y=g&&g[f.vScale.axis];if(Fe(y)||isNaN(y))return!0};for(let f of o)if(!(r!==void 0&&d(f))&&((s===!1||a.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===r).shift()}_getAxis(){let t={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)t[be(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,i){let o=this._getStacks(t,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let t=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let c=t.barThickness;return{min:c||ute(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(t),d=l._custom,f=OA(d),g=l[r.axis],y=0,E=i?this.applyStack(r,l,i):g,w,I;E!==g&&(y=E-g,E=g),f&&(g=d.barStart,E=d.barEnd-d.barStart,g!==0&&mi(g)!==mi(d.barEnd)&&(y=0),y+=g);let k=!Fe(s)&&!f?s:y,L=r.getPixelForValue(k);if(this.chart.getDataVisibility(t)?w=r.getPixelForValue(y+E):w=L,I=w-L,Math.abs(I)<a){I=pte(I,r,c)*a,g===c&&(L-=I/2);let U=r.getPixelForDecimal(0),q=r.getPixelForDecimal(1),z=Math.min(U,q),$=Math.max(U,q);L=Math.max(Math.min(L,$),z),w=L+I,i&&!f&&(l._stacks[r.axis]._visualValues[o]=r.getValueForPixel(w)-r.getValueForPixel(L))}if(L===r.getPixelForValue(c)){let U=mi(I)*r.getLineWidthForValue(c)/2;L+=U,I-=U}return{size:I,base:L,head:w,center:w+I/2}}_calculateBarIndexPixels(t,r){let i=r.scale,o=this.options,s=o.skipNull,a=be(o.maxBarThickness,1/0),c,l,d=this._getAxisCount();if(r.grouped){let f=s?this._getStackCount(t):r.stackCount,g=o.barThickness==="flex"?hte(t,r,o,f*d):dte(t,r,o,f*d),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(be(y,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+E;c=g.start+g.chunk*w+g.chunk/2,l=Math.min(a,g.chunk*g.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,r=t.vScale,i=t.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return n})(),bte=(()=>{class n extends ha{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,o){let s=super.parsePrimitiveData(t,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,r,i,o){let s=super.parseArrayData(t,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=be(c[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,r,i,o){let s=super.parseObjectData(t,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=be(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),d=a._custom;return{label:i[t]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(t){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(r,o),f=a.axis,g=c.axis;for(let y=r;y<r+i;y++){let E=t[y],w=!s&&this.getParsed(y),I={},k=I[f]=s?a.getPixelForDecimal(.5):a.getPixelForValue(w[f]),L=I[g]=s?c.getBasePixel():c.getPixelForValue(w[g]);I.skip=isNaN(k)||isNaN(L),d&&(I.options=l||this.resolveDataElementOptions(y,E.active?"active":o),s&&(I.options.radius=0)),this.updateElement(E,y,I,o)}}resolveDataElementOptions(t,r){let i=this.getParsed(t),o=super.resolveDataElementOptions(t,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=be(i&&i._custom,s),o}}return n})();function Ete(n,e,t){let r=1,i=1,o=0,s=0;if(e<Tt){let a=n,c=a+e,l=Math.cos(a),d=Math.sin(a),f=Math.cos(c),g=Math.sin(c),y=(U,q,z)=>Yu(U,a,c,!0)?1:Math.max(q,q*t,z,z*t),E=(U,q,z)=>Yu(U,a,c,!0)?-1:Math.min(q,q*t,z,z*t),w=y(0,l,f),I=y(jt,d,g),k=E(Ge,l,f),L=E(Ge+jt,d,g);r=(w-k)/2,i=(I-L)/2,o=-(w+k)/2,s=-(I+L)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var ux=(()=>{class n extends ha{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:c}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((l,d)=>{let g=t.getDatasetMeta(0).controller.getStyle(d);return{text:l,fillStyle:g.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(d),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:o,pointStyle:i,borderRadius:a&&(c||g.borderRadius),index:d}}):[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=l=>+i[l];if(Ve(i[t])){let{key:l="value"}=this._parsing;s=d=>+ts(i[d],l)}let a,c;for(a=t,c=t+r;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return $r(this.options.rotation-90)}_getCircumference(){return $r(this.options.circumference)}_getRotationExtents(){let t=Tt,r=-Tt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();t=Math.min(t,s),r=Math.max(r,s+a)}return{rotation:t,circumference:r-t}}update(t){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(Aj(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:y,ratioY:E,offsetX:w,offsetY:I}=Ete(g,f,l),k=(i.width-a)/y,L=(i.height-a)/E,U=Math.max(Math.min(k,L)/2,0),q=iA(this.options.radius,U),z=Math.max(q*l,0),$=(q-z)/this._getVisibleDatasetWeightTotal();this.offsetX=w*q,this.offsetY=I*q,o.total=this.calculateTotal(),this.outerRadius=q-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*d,0),this.updateElements(s,0,s.length,t)}_circumference(t,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*s/Tt)}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,f=(c.left+c.right)/2,g=(c.top+c.bottom)/2,y=s&&d.animateScale,E=y?0:this.innerRadius,w=y?0:this.outerRadius,{sharedOptions:I,includeOptions:k}=this._getSharedOptions(r,o),L=this._getRotation(),U;for(U=0;U<r;++U)L+=this._circumference(U,s);for(U=r;U<r+i;++U){let q=this._circumference(U,s),z=t[U],$={x:f+this.offsetX,y:g+this.offsetY,startAngle:L,endAngle:L+q,circumference:q,outerRadius:w,innerRadius:E};k&&($.options=I||this.resolveDataElementOptions(U,z.active?"active":o)),L+=q,this.updateElement(z,U,$,o)}}calculateTotal(){let t=this._cachedMeta,r=t.data,i=0,o;for(o=0;o<r.length;o++){let s=t._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){let r=this._cachedMeta.total;return r>0&&!isNaN(t)?Tt*(Math.abs(t)/r):0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Ku(r._parsed[t],i.options.locale);return{label:o[t]||"",value:s}}getMaxBorderWidth(t){let r=0,i=this.chart,o,s,a,c,l;if(!t){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),t=a.data,c=a.controller;break}}if(!t)return 0;for(o=0,s=t.length;o<s;++o)l=c.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,o=t.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(be(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),wte=(()=>{class n extends ha{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:c,count:l}=pA(r,o,a);this._drawStart=c,this._drawCount=l,gA(r)&&(c=0,l=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},t),this.updateElements(o,c,l,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(r,o),y=a.axis,E=c.axis,{spanGaps:w,segment:I}=this.options,k=Vc(w)?w:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||s||o==="none",U=r+i,q=t.length,z=r>0&&this.getParsed(r-1);for(let $=0;$<q;++$){let A=t[$],T=L?A:{};if($<r||$>=U){T.skip=!0;continue}let S=this.getParsed($),R=Fe(S[E]),P=T[y]=a.getPixelForValue(S[y],$),F=T[E]=s||R?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,S,l):S[E],$);T.skip=isNaN(P)||isNaN(F)||R,T.stop=$>0&&Math.abs(S[y]-z[y])>k,I&&(T.parsed=S,T.raw=d.data[$]),g&&(T.options=f||this.resolveDataElementOptions($,A.active?"active":o)),L||this.updateElement(A,$,T,o),z=S}}getMaxOverflow(){let t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,o=t.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),iU=(()=>{class n extends ha{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=t.legend.options;return r.labels.map((s,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Ku(r._parsed[t].r,i.options.locale);return{label:o[t]||"",value:s}}parseObjectData(t,r,i,o){return CA.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let t=this.chart,r=t.chartArea,i=t.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),c=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,y=d.getIndexAngle(0)-.5*Ge,E=y,w,I=360/this.countVisibleElements();for(w=0;w<r;++w)E+=this._computeAngle(w,o,I);for(w=r;w<r+i;w++){let k=t[w],L=E,U=E+this._computeAngle(w,o,I),q=a.getDataVisibility(w)?d.getDistanceFromCenterForValue(this.getParsed(w).r):0;E=U,s&&(l.animateScale&&(q=0),l.animateRotate&&(L=U=y));let z={x:f,y:g,innerRadius:0,outerRadius:q,startAngle:L,endAngle:U,options:this.resolveDataElementOptions(w,k.active?"active":o)};this.updateElement(k,w,z,o)}}countVisibleElements(){let t=this._cachedMeta,r=0;return t.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?$r(this.resolveDataElementOptions(t,r).angle||i):0}}return n})(),Ite=(()=>{class n extends ux{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),Cte=(()=>{class n extends ha{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,o){return CA.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(o,0,o.length,t)}updateElements(t,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let c=r;c<r+i;c++){let l=t[c],d=this.resolveDataElementOptions(c,l.active?"active":o),f=s.getPointPositionForValue(c,this.getParsed(c).r),g=a?s.xCenter:f.x,y=a?s.yCenter:f.y,E={x:g,y,angle:f.angle,skip:isNaN(g)||isNaN(y),options:d};this.updateElement(l,c,E,o)}}}return n})(),Tte=(()=>{class n extends ha{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+l+")"}}update(t){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=pA(r,i,o);if(this._drawStart=s,this._drawCount=a,gA(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:d},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(r,o),g=this.getSharedOptions(f),y=this.includeOptions(o,g),E=a.axis,w=c.axis,{spanGaps:I,segment:k}=this.options,L=Vc(I)?I:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||s||o==="none",q=r>0&&this.getParsed(r-1);for(let z=r;z<r+i;++z){let $=t[z],A=this.getParsed(z),T=U?$:{},S=Fe(A[w]),R=T[E]=a.getPixelForValue(A[E],z),P=T[w]=s||S?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,A,l):A[w],z);T.skip=isNaN(R)||isNaN(P)||S,T.stop=z>0&&Math.abs(A[E]-q[E])>L,k&&(T.parsed=A,T.raw=d.data[z]),y&&(T.options=g||this.resolveDataElementOptions(z,$.active?"active":o)),U||this.updateElement($,z,T,o),q=A}this.updateSharedOptions(g,o,f)}getMaxOverflow(){let t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=t.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return n})(),Dte=Object.freeze({__proto__:null,BarController:vte,BubbleController:bte,DoughnutController:ux,LineController:wte,PieController:Ite,PolarAreaController:iU,RadarController:Cte,ScatterController:Tte});function Bc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var WA=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Bc()}parse(){return Bc()}format(){return Bc()}add(){return Bc()}diff(){return Bc()}startOf(){return Bc()}endOf(){return Bc()}},Ste={_date:WA};function Ate(n,e,t,r){let{controller:i,data:o,_sorted:s}=n,a=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let l=a._reversePixels?Nj:io;if(r){if(i._sharedOptions){let d=o[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){let g=l(o,e,t-f),y=l(o,e,t+f);return{lo:g.lo,hi:y.hi}}}}else{let d=l(o,e,t);if(c){let{vScale:f}=i._cachedMeta,{_parsed:g}=n,y=g.slice(0,d.lo+1).reverse().findIndex(w=>!Fe(w[f.axis]));d.lo-=Math.max(0,y);let E=g.slice(d.hi).findIndex(w=>!Fe(w[f.axis]));d.hi+=Math.max(0,E)}return d}}return{lo:0,hi:o.length-1}}function ip(n,e,t,r,i){let o=n.getSortedVisibleDatasetMetas(),s=t[e];for(let a=0,c=o.length;a<c;++a){let{index:l,data:d}=o[a],{lo:f,hi:g}=Ate(o[a],e,s,i);for(let y=f;y<=g;++y){let E=d[y];E.skip||r(E,l,y)}}}function xte(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){let o=e?Math.abs(r.x-i.x):0,s=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function FA(n,e,t,r,i){let o=[];return!i&&!n.isPointInArea(e)||ip(n,t,e,function(a,c,l){!i&&!oo(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function Mte(n,e,t,r){let i=[];function o(s,a,c){let{startAngle:l,endAngle:d}=s.getProps(["startAngle","endAngle"],r),{angle:f}=lA(s,{x:e.x,y:e.y});Yu(f,l,d)&&i.push({element:s,datasetIndex:a,index:c})}return ip(n,t,e,o),i}function Rte(n,e,t,r,i,o){let s=[],a=xte(t),c=Number.POSITIVE_INFINITY;function l(d,f,g){let y=d.inRange(e.x,e.y,i);if(r&&!y)return;let E=d.getCenterPoint(i);if(!(!!o||n.isPointInArea(E))&&!y)return;let I=a(e,E);I<c?(s=[{element:d,datasetIndex:f,index:g}],c=I):I===c&&s.push({element:d,datasetIndex:f,index:g})}return ip(n,t,e,l),s}function LA(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?Mte(n,e,t,i):Rte(n,e,t,r,i,o)}function dB(n,e,t,r,i){let o=[],s=t==="x"?"inXRange":"inYRange",a=!1;return ip(n,t,e,(c,l,d)=>{c[s]&&c[s](e[t],i)&&(o.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:o}var Pte={evaluateInteractionItems:ip,modes:{index(n,e,t,r){let i=ua(e,n),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?FA(n,i,o,r,s):LA(n,i,o,!1,r,s),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,f=l.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:l.index,index:d})}),c):[]},dataset(n,e,t,r){let i=ua(e,n),o=t.axis||"xy",s=t.includeInvisible||!1,a=t.intersect?FA(n,i,o,r,s):LA(n,i,o,!1,r,s);if(a.length>0){let c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(n,e,t,r){let i=ua(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return FA(n,i,o,r,s)},nearest(n,e,t,r){let i=ua(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return LA(n,i,o,t.intersect,r,s)},x(n,e,t,r){let i=ua(e,n);return dB(n,i,"x",t.intersect,r)},y(n,e,t,r){let i=ua(e,n);return dB(n,i,"y",t.intersect,r)}}},oU=["left","top","right","bottom"];function Kf(n,e){return n.filter(t=>t.pos===e)}function hB(n,e){return n.filter(t=>oU.indexOf(t.pos)===-1&&t.box.axis===e)}function Qf(n,e){return n.sort((t,r)=>{let i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function kte(n){let e=[],t,r,i,o,s,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:s,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function Nte(n){let e={};for(let t of n){let{stack:r,pos:i,stackWeight:o}=t;if(!r||!oU.includes(i))continue;let s=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function Ote(n,e){let t=Nte(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e,o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];let{fullSize:c}=a.box,l=t[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=d?d*i:c&&e.availableHeight)}return t}function Fte(n){let e=kte(n),t=Qf(e.filter(l=>l.box.fullSize),!0),r=Qf(Kf(e,"left"),!0),i=Qf(Kf(e,"right")),o=Qf(Kf(e,"top"),!0),s=Qf(Kf(e,"bottom")),a=hB(e,"x"),c=hB(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(s).concat(a),chartArea:Kf(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(s).concat(a)}}function fB(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function sU(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Lte(n,e,t,r){let{pos:i,box:o}=t,s=n.maxPadding;if(!Ve(i)){t.size&&(n[i]-=t.size);let f=r[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?o.height:o.width),t.size=f.size/f.count,n[i]+=t.size}o.getPadding&&sU(s,o.getPadding());let a=Math.max(0,e.outerWidth-fB(s,n,"left","right")),c=Math.max(0,e.outerHeight-fB(s,n,"top","bottom")),l=a!==n.w,d=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:l,other:d}:{same:d,other:l}}function Vte(n){let e=n.maxPadding;function t(r){let i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function jte(n,e){let t=e.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(e[s],t[s])}),o}return r(n?["left","right"]:["top","bottom"])}function Jf(n,e,t,r){let i=[],o,s,a,c,l,d;for(o=0,s=n.length,l=0;o<s;++o){a=n[o],c=a.box,c.update(a.width||e.w,a.height||e.h,jte(a.horizontal,e));let{same:f,other:g}=Lte(e,t,a,r);l|=f&&i.length,d=d||g,c.fullSize||i.push(a)}return l&&Jf(i,e,t,r)||d}function Qv(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function pB(n,e,t,r){let i=t.padding,{x:o,y:s}=e;for(let a of n){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let f=e.w*d,g=l.size||c.height;qu(l.start)&&(s=l.start),c.fullSize?Qv(c,i.left,s,t.outerWidth-i.right-i.left,g):Qv(c,e.left+l.placed,s,f,g),l.start=s,l.placed+=f,s=c.bottom}else{let f=e.h*d,g=l.size||c.width;qu(l.start)&&(o=l.start),c.fullSize?Qv(c,o,i.top,g,t.outerHeight-i.bottom-i.top):Qv(c,o,e.top+l.placed,g,f),l.start=o,l.placed+=f,o=c.right}}e.x=o,e.y=s}var Ln={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;let i=An(n.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(t-i.height,0),a=Fte(n.boxes),c=a.vertical,l=a.horizontal;it(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});let d=c.reduce((w,I)=>I.box.options&&I.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),g=Object.assign({},i);sU(g,An(r));let y=Object.assign({maxPadding:g,w:o,h:s,x:i.left,y:i.top},i),E=Ote(c.concat(l),f);Jf(a.fullSize,y,f,E),Jf(c,y,f,E),Jf(l,y,f,E)&&Jf(c,y,f,E),Vte(y),pB(a.leftAndTop,y,f,E),y.x+=y.w,y.y+=y.h,pB(a.rightAndBottom,y,f,E),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},it(a.chartArea,w=>{let I=w.box;Object.assign(I,n.chartArea),I.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}},o0=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}},qA=class extends o0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},n0="$chartjs",Bte={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gB=n=>n===null||n==="";function Ute(n,e){let t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[n0]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",gB(i)){let o=DA(n,"width");o!==void 0&&(n.width=o)}if(gB(r))if(n.style.height==="")n.height=n.width/(e||2);else{let o=DA(n,"height");o!==void 0&&(n.height=o)}return n}var aU=Zj?{passive:!0}:!1;function Hte(n,e,t){n&&n.addEventListener(e,t,aU)}function $te(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,aU)}function zte(n,e){let t=Bte[n.type]||n.type,{x:r,y:i}=ua(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function s0(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function Wte(n,e,t){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||s0(a.addedNodes,r),s=s&&!s0(a.removedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function qte(n,e,t){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||s0(a.removedNodes,r),s=s&&!s0(a.addedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var tp=new Map,mB=0;function cU(){let n=window.devicePixelRatio;n!==mB&&(mB=n,tp.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Gte(n,e){tp.size||window.addEventListener("resize",cU),tp.set(n,e)}function Yte(n){tp.delete(n),tp.size||window.removeEventListener("resize",cU)}function Kte(n,e,t){let r=n.canvas,i=r&&Yv(r);if(!i)return;let o=fA((a,c)=>{let l=i.clientWidth;t(a,c),l<i.clientWidth&&t()},window),s=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||o(l,d)});return s.observe(i),Gte(n,o),s}function VA(n,e,t){t&&t.disconnect(),e==="resize"&&Yte(n)}function Qte(n,e,t){let r=n.canvas,i=fA(o=>{n.ctx!==null&&t(zte(o,n))},n);return Hte(r,e,i),i}var GA=class extends o0{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Ute(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[n0])return!1;let r=t[n0].initial;["height","width"].forEach(o=>{let s=r[o];Fe(s)?t.removeAttribute(o):t.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[n0],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),s={attach:Wte,detach:qte,resize:Kte}[t]||Qte;i[t]=s(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:VA,detach:VA,resize:VA}[t]||$te)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return Qj(e,t,r,i)}isAttached(e){let t=e&&Yv(e);return!!(t&&t.isConnected)}};function Zte(n){return!Gv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?qA:GA}var yi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Vc(this.x)&&Vc(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function Xte(n,e){let t=n.options.ticks,r=Jte(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?tne(e):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>i)return nne(e,l,o,s/i),l;let d=ene(o,e,i);if(s>0){let f,g,y=s>1?Math.round((c-a)/(s-1)):null;for(Zv(e,l,d,Fe(y)?0:a-y,a),f=0,g=s-1;f<g;f++)Zv(e,l,d,o[f],o[f+1]);return Zv(e,l,d,c,Fe(y)?e.length:c+y),l}return Zv(e,l,d),l}function Jte(n){let e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function ene(n,e,t){let r=rne(n),i=e.length/t;if(!r)return Math.max(i,1);let o=Rj(r);for(let s=0,a=o.length-1;s<a;s++){let c=o[s];if(c>i)return c}return Math.max(i,1)}function tne(n){let e=[],t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function nne(n,e,t,r){let i=0,o=t[0],s;for(r=Math.ceil(r),s=0;s<n.length;s++)s===o&&(e.push(n[s]),i++,o=t[i*r])}function Zv(n,e,t,r,i){let o=be(r,0),s=Math.min(be(i,n.length),n.length),a=0,c,l,d;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),d=o;d<0;)a++,d=Math.round(o+a*t);for(l=Math.max(o,0);l<s;l++)l===d&&(e.push(n[l]),a++,d=Math.round(o+a*t))}function rne(n){let e=n.length,t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}var ine=n=>n==="left"?"right":n==="right"?"left":n,yB=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,_B=(n,e)=>Math.min(e||n,n);function vB(n,e){let t=[],r=n.length/e,i=n.length,o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function one(n,e,t){let r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,s=n._endPixel,a=1e-6,c=n.getPixelForTick(i),l;if(!(t&&(r===1?l=Math.max(c-o,s-c):e===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<o-a||c>s+a)))return c}function sne(n,e){it(n,t=>{let r=t.gc,i=r.length/2,o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function Zf(n){return n.drawTicks?n.tickLength:0}function bB(n,e){if(!n.display)return 0;let t=en(n.font,e),r=An(n.padding);return(Ct(n.text)?n.text.length:1)*t.lineHeight+r.height}function ane(n,e){return ns(n,{scale:e,type:"scale"})}function cne(n,e,t){return ns(n,{tick:t,index:e,type:"tick"})}function lne(n,e,t){let r=Hv(n);return(t&&e!=="right"||!t&&e==="right")&&(r=ine(r)),r}function une(n,e,t,r){let{top:i,left:o,bottom:s,right:a,chart:c}=n,{chartArea:l,scales:d}=c,f=0,g,y,E,w=s-i,I=a-o;if(n.isHorizontal()){if(y=Sn(r,o,a),Ve(t)){let k=Object.keys(t)[0],L=t[k];E=d[k].getPixelForValue(L)+w-e}else t==="center"?E=(l.bottom+l.top)/2+w-e:E=yB(n,t,e);g=a-o}else{if(Ve(t)){let k=Object.keys(t)[0],L=t[k];y=d[k].getPixelForValue(L)-I+e}else t==="center"?y=(l.left+l.right)/2-I+e:y=yB(n,t,e);E=Sn(r,s,i),f=t==="left"?-jt:jt}return{titleX:y,titleY:E,maxWidth:g,rotation:f}}var Hc=class n extends yi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=ar(e,Number.POSITIVE_INFINITY),t=ar(t,Number.NEGATIVE_INFINITY),r=ar(r,Number.POSITIVE_INFINITY),i=ar(i,Number.NEGATIVE_INFINITY),{min:ar(e,r),max:ar(t,i),minDefined:Nt(e),maxDefined:Nt(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:t,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,e),i||(t=Math.min(t,s.min)),o||(r=Math.max(r,s.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:ar(t,ar(r,t)),max:ar(r,ar(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){bt(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zj(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?vB(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Xte(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){bt(this.options.afterUpdate,[this])}beforeSetDimensions(){bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){bt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),bt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=bt(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,r=_B(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation,s=i,a,c,l;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let d=this._getLabelSizes(),f=d.widest.width,g=d.highest.height,y=ln(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:y/(r-1),f+6>a&&(a=y/(r-(e.offset?.5:1)),c=this.maxHeight-Zf(e.grid)-t.padding-bB(e.title,this.chart.options.font),l=Math.sqrt(f*f+g*g),s=Bv(Math.min(Math.asin(ln((d.highest.height+6)/a,-1,1)),Math.asin(ln(c/l,-1,1))-Math.asin(ln(g/l,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){bt(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let c=bB(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=Zf(o)+c):(e.height=this.maxHeight,e.width=Zf(o)+c),r.display&&this.ticks.length){let{first:l,last:d,widest:f,highest:g}=this._getLabelSizes(),y=r.padding*2,E=$r(this.labelRotation),w=Math.cos(E),I=Math.sin(E);if(a){let k=r.mirror?0:I*f.width+w*g.height;e.height=Math.min(this.maxHeight,e.height+k+y)}else{let k=r.mirror?0:w*f.width+I*g.height;e.width=Math.min(this.maxWidth,e.width+k+y)}this._calculatePadding(l,d,I,w)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),g=0,y=0;c?l?(g=i*e.width,y=r*t.height):(g=r*e.height,y=i*t.width):o==="start"?y=t.width:o==="end"?g=e.width:o!=="inner"&&(g=e.width/2,y=t.width/2),this.paddingLeft=Math.max((g-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((y-f+s)*this.width/(this.width-f),0)}else{let d=t.height/2,f=e.height/2;o==="start"?(d=0,f=e.height):o==="end"&&(d=t.height,f=0),this.paddingTop=d+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){bt(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Fe(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=vB(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(t/_B(t,r)),l=0,d=0,f,g,y,E,w,I,k,L,U,q,z;for(f=0;f<t;f+=c){if(E=e[f].label,w=this._resolveTickFontOptions(f),i.font=I=w.string,k=o[I]=o[I]||{data:{},gc:[]},L=w.lineHeight,U=q=0,!Fe(E)&&!Ct(E))U=$f(i,k.data,k.gc,U,E),q=L;else if(Ct(E))for(g=0,y=E.length;g<y;++g)z=E[g],!Fe(z)&&!Ct(z)&&(U=$f(i,k.data,k.gc,U,z),q+=L);s.push(U),a.push(q),l=Math.max(U,l),d=Math.max(q,d)}sne(o,t);let $=s.indexOf(l),A=a.indexOf(d),T=S=>({width:s[S]||0,height:a[S]||0});return{first:T(0),last:T(t-1),widest:T($),highest:T(A),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return kj(this._alignToPixels?aa(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let r=t[e];return r.$context||(r.$context=cne(this.getContext(),e,r))}return this.$context||(this.$context=ane(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=$r(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,c=o.offset,l=this.isHorizontal(),f=this.ticks.length+(c?1:0),g=Zf(o),y=[],E=a.setContext(this.getContext()),w=E.display?E.width:0,I=w/2,k=function(lt){return aa(r,lt,w)},L,U,q,z,$,A,T,S,R,P,F,x;if(s==="top")L=k(this.bottom),A=this.bottom-g,S=L-I,P=k(e.top)+I,x=e.bottom;else if(s==="bottom")L=k(this.top),P=e.top,x=k(e.bottom)-I,A=L+I,S=this.top+g;else if(s==="left")L=k(this.right),$=this.right-g,T=L-I,R=k(e.left)+I,F=e.right;else if(s==="right")L=k(this.left),R=e.left,F=k(e.right)-I,$=L+I,T=this.left+g;else if(t==="x"){if(s==="center")L=k((e.top+e.bottom)/2+.5);else if(Ve(s)){let lt=Object.keys(s)[0],ot=s[lt];L=k(this.chart.scales[lt].getPixelForValue(ot))}P=e.top,x=e.bottom,A=L+I,S=A+g}else if(t==="y"){if(s==="center")L=k((e.left+e.right)/2);else if(Ve(s)){let lt=Object.keys(s)[0],ot=s[lt];L=k(this.chart.scales[lt].getPixelForValue(ot))}$=L-I,T=$-g,R=e.left,F=e.right}let mt=be(i.ticks.maxTicksLimit,f),Ne=Math.max(1,Math.ceil(f/mt));for(U=0;U<f;U+=Ne){let lt=this.getContext(U),ot=o.setContext(lt),ut=a.setContext(lt),At=ot.lineWidth,Kn=ot.color,_i=ut.dash||[],Ot=ut.dashOffset,re=ot.tickWidth,zr=ot.tickColor,ur=ot.tickBorderDash||[],Qn=ot.tickBorderDashOffset;q=one(this,U,c),q!==void 0&&(z=aa(r,q,At),l?$=T=R=F=z:A=S=P=x=z,y.push({tx1:$,ty1:A,tx2:T,ty2:S,x1:R,y1:P,x2:F,y2:x,width:At,color:Kn,borderDash:_i,borderDashOffset:Ot,tickWidth:re,tickColor:zr,tickBorderDash:ur,tickBorderDashOffset:Qn}))}return this._ticksLength=f,this._borderValue=L,y}_computeLabelItems(e){let t=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:f}=o,g=Zf(r.grid),y=g+d,E=f?-d:y,w=-$r(this.labelRotation),I=[],k,L,U,q,z,$,A,T,S,R,P,F,x="middle";if(i==="top")$=this.bottom-E,A=this._getXAxisLabelAlignment();else if(i==="bottom")$=this.top+E,A=this._getXAxisLabelAlignment();else if(i==="left"){let Ne=this._getYAxisLabelAlignment(g);A=Ne.textAlign,z=Ne.x}else if(i==="right"){let Ne=this._getYAxisLabelAlignment(g);A=Ne.textAlign,z=Ne.x}else if(t==="x"){if(i==="center")$=(e.top+e.bottom)/2+y;else if(Ve(i)){let Ne=Object.keys(i)[0],lt=i[Ne];$=this.chart.scales[Ne].getPixelForValue(lt)+y}A=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")z=(e.left+e.right)/2-y;else if(Ve(i)){let Ne=Object.keys(i)[0],lt=i[Ne];z=this.chart.scales[Ne].getPixelForValue(lt)}A=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(c==="start"?x="top":c==="end"&&(x="bottom"));let mt=this._getLabelSizes();for(k=0,L=a.length;k<L;++k){U=a[k],q=U.label;let Ne=o.setContext(this.getContext(k));T=this.getPixelForTick(k)+o.labelOffset,S=this._resolveTickFontOptions(k),R=S.lineHeight,P=Ct(q)?q.length:1;let lt=P/2,ot=Ne.color,ut=Ne.textStrokeColor,At=Ne.textStrokeWidth,Kn=A;s?(z=T,A==="inner"&&(k===L-1?Kn=this.options.reverse?"left":"right":k===0?Kn=this.options.reverse?"right":"left":Kn="center"),i==="top"?l==="near"||w!==0?F=-P*R+R/2:l==="center"?F=-mt.highest.height/2-lt*R+R:F=-mt.highest.height+R/2:l==="near"||w!==0?F=R/2:l==="center"?F=mt.highest.height/2-lt*R:F=mt.highest.height-P*R,f&&(F*=-1),w!==0&&!Ne.showLabelBackdrop&&(z+=R/2*Math.sin(w))):($=T,F=(1-P)*R/2);let _i;if(Ne.showLabelBackdrop){let Ot=An(Ne.backdropPadding),re=mt.heights[k],zr=mt.widths[k],ur=F-Ot.top,Qn=0-Ot.left;switch(x){case"middle":ur-=re/2;break;case"bottom":ur-=re;break}switch(A){case"center":Qn-=zr/2;break;case"right":Qn-=zr;break;case"inner":k===L-1?Qn-=zr:k>0&&(Qn-=zr/2);break}_i={left:Qn,top:ur,width:zr+Ot.width,height:re+Ot.height,color:Ne.backdropColor}}I.push({label:q,font:S,textOffset:F,options:{rotation:w,color:ot,strokeColor:ut,strokeWidth:At,textAlign:Kn,textBaseline:x,translation:[z,$],backdrop:_i}})}return I}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-$r(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,c=s.widest.width,l,d;return t==="left"?i?(d=this.right+o,r==="near"?l="left":r==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,r==="near"?l="right":r==="center"?(l="center",d-=c/2):(l="left",d=this.left)):t==="right"?i?(d=this.left+o,r==="near"?l="right":r==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,r==="near"?l="left":r==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,s),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(c,l,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(t.display)for(o=0,s=i.length;o<s;++o){let c=i[o];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,f,g;this.isHorizontal()?(l=aa(e,this.left,s)-s/2,d=aa(e,this.right,a)+a/2,f=g=c):(f=aa(e,this.top,s)-s/2,g=aa(e,this.bottom,a)+a/2,l=d=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,f),t.lineTo(d,g),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&qf(r,i);let o=this.getLabelItems(e);for(let s of o){let a=s.options,c=s.font,l=s.label,d=s.textOffset;ca(r,l,0,d,c,a)}i&&Gf(r)}drawTitle(){let{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;let o=en(r.font),s=An(r.padding),a=r.align,c=o.lineHeight/2;t==="bottom"||t==="center"||Ve(t)?(c+=s.bottom,Ct(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=s.top;let{titleX:l,titleY:d,maxWidth:f,rotation:g}=une(this,c,t,a);ca(e,r.text,0,0,o,{color:r.color,maxWidth:f,rotation:g,textAlign:lne(a,t,i),textBaseline:"middle",translation:[l,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=be(e.grid&&e.grid.z,-1),i=be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return en(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Ju=class{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),r;fne(t)&&(r=this.register(t));let i=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,dne(e,s,r),this.override&&St.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in St[i]&&(delete St[i][r],this.override&&delete sa[r])}};function dne(n,e,t){let r=$u(Object.create(null),[t?St.get(t):{},St.get(e),n.defaults]);St.set(e,r),n.defaultRoutes&&hne(e,n.defaultRoutes),n.descriptors&&St.describe(e,n.descriptors)}function hne(n,e){Object.keys(e).forEach(t=>{let r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),s=e[t].split("."),a=s.pop(),c=s.join(".");St.route(o,i,c,a)})}function fne(n){return"id"in n&&"defaults"in n}var YA=class{constructor(){this.controllers=new Ju(ha,"datasets",!0),this.elements=new Ju(yi,"elements"),this.plugins=new Ju(Object,"plugins"),this.scales=new Ju(Hc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):it(i,s=>{let a=r||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,t,r){let i=jv(e);bt(r["before"+i],[],r),t[e](r),bt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}},lo=new YA,KA=class{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;let o=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),s}_notify(e,t,r,i){i=i||{};for(let o of e){let s=o.plugin,a=s[r],c=[t,i,o.options];if(bt(a,c,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,i=be(r.options&&r.options.plugins,{}),o=pne(r);return i===!1&&!t?[]:mne(e,o,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}};function pne(n){let e={},t=[],r=Object.keys(lo.plugins.items);for(let o=0;o<r.length;o++)t.push(lo.getPlugin(r[o]));let i=n.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function gne(n,e){return!e&&n===!1?null:n===!0?{}:n}function mne(n,{plugins:e,localIds:t},r,i){let o=[],s=n.getContext();for(let a of e){let c=a.id,l=gne(r[c],i);l!==null&&o.push({plugin:a,options:yne(n.config,{plugin:a,local:t[c]},l,s)})}return o}function yne(n,{plugin:e,local:t},r,i){let o=n.pluginScopeKeys(e),s=n.getOptionScopes(r,o);return t&&e.defaults&&s.push(e.defaults),n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function QA(n,e){let t=St.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function _ne(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function vne(n,e){return n===e?"_index_":"_value_"}function EB(n){if(n==="x"||n==="y"||n==="r")return n}function bne(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ZA(n,...e){if(EB(n))return n;for(let t of e){let r=t.axis||bne(t.position)||n.length>1&&EB(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function wB(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Ene(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return wB(n,"x",t[0])||wB(n,"y",t[0])}return{}}function wne(n,e){let t=sa[n.type]||{scales:{}},r=e.scales||{},i=QA(n.type,e),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!Ve(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let c=ZA(s,a,Ene(s,n),St.scales[a.type]),l=vne(c,i),d=t.scales||{};o[s]=Wu(Object.create(null),[{axis:c},a,d[c],d[l]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,c=s.indexAxis||QA(a,e),d=(sa[a]||{}).scales||{};Object.keys(d).forEach(f=>{let g=_ne(f,c),y=s[g+"AxisID"]||g;o[y]=o[y]||Object.create(null),Wu(o[y],[{axis:g},r[y],d[f]])})}),Object.keys(o).forEach(s=>{let a=o[s];Wu(a,[St.scales[a.type],St.scale])}),o}function lU(n){let e=n.options||(n.options={});e.plugins=be(e.plugins,{}),e.scales=wne(n,e)}function uU(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Ine(n){return n=n||{},n.data=uU(n.data),lU(n),n}var IB=new Map,dU=new Set;function Xv(n,e){let t=IB.get(n);return t||(t=e(),IB.set(n,t),dU.add(t)),t}var Xf=(n,e,t)=>{let r=ts(e,t);r!==void 0&&n.add(r)},XA=class{constructor(e){this._config=Ine(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uU(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),lU(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Xv(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Xv(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return Xv(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){let{options:i,type:o}=this,s=this._cachedScopes(e,r),a=s.get(t);if(a)return a;let c=new Set;t.forEach(d=>{e&&(c.add(e),d.forEach(f=>Xf(c,e,f))),d.forEach(f=>Xf(c,i,f)),d.forEach(f=>Xf(c,sa[o]||{},f)),d.forEach(f=>Xf(c,St,f)),d.forEach(f=>Xf(c,$v,f))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),dU.has(t)&&s.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,sa[t]||{},St.datasets[t]||{},{type:t},St,$v]}resolveNamedOptions(e,t,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=CB(this._resolverCache,e,i),c=s;if(Tne(s,t)){o.$shared=!1,r=Jo(r)?r():r;let l=this.createResolver(e,r,a);c=Lc(s,r,l)}for(let l of t)o[l]=c[l];return o}createResolver(e,t,r=[""],i){let{resolver:o}=CB(this._resolverCache,e,r);return Ve(t)?Lc(o,t,void 0,i):o}};function CB(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));let i=t.join(),o=r.get(i);return o||(o={resolver:qv(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var Cne=n=>Ve(n)&&Object.getOwnPropertyNames(n).some(e=>Jo(n[e]));function Tne(n,e){let{isScriptable:t,isIndexable:r}=EA(n);for(let i of e){let o=t(i),s=r(i),a=(s||o)&&n[i];if(o&&(Jo(a)||Cne(a))||s&&Ct(a))return!0}return!1}var Dne="4.5.1",Sne=["top","bottom","left","right","chartArea"];function TB(n,e){return n==="top"||n==="bottom"||Sne.indexOf(n)===-1&&e==="x"}function DB(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function SB(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),bt(t&&t.onComplete,[n],e)}function Ane(n){let e=n.chart,t=e.options.animation;bt(t&&t.onProgress,[n],e)}function hU(n){return Gv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var r0={},AB=n=>{let e=hU(n);return Object.values(r0).filter(t=>t.canvas===e).pop()};function xne(n,e,t){let r=Object.keys(n);for(let i of r){let o=+i;if(o>=e){let s=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=s)}}}function Mne(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var op=(()=>{class n{static defaults=St;static instances=r0;static overrides=sa;static registry=lo;static version=Dne;static getChart=AB;static register(...t){lo.add(...t),xB()}static unregister(...t){lo.remove(...t),xB()}constructor(t,r){let i=this.config=new XA(r),o=hU(t),s=AB(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Zte(o)),this.platform.updateConfig(i);let c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,f=l&&l.width;if(this.id=Sj(),this.ctx=c,this.canvas=l,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Vj(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],r0[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}rs.listen(this,"complete",SB),rs.listen(this,"progress",Ane),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return Fe(t)?r&&s?s:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return lo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():TA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _A(this.canvas,this.ctx),this}stop(){return rs.stop(this),this}resize(t,r){rs.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,r,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,TA(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),bt(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};it(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let t=this.options,r=t.scales,i=this.scales,o=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let c=r[a],l=ZA(a,c),d=l==="r",f=l==="x";return{options:c,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),it(s,a=>{let c=a.options,l=c.id,d=ZA(l,c),f=be(c.type,a.dtype);(c.position===void 0||TB(c.position,d)!==TB(a.dposition))&&(c.position=a.dposition),o[l]=!0;let g=null;if(l in i&&i[l].type===f)g=i[l];else{let y=lo.getScale(f);g=new y({id:l,type:f,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(c,t)}),it(o,(a,c)=>{a||delete i[c]}),it(i,a=>{Ln.configure(this,a,a.options),Ln.addBox(this,a)})}_updateMetasets(){let t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort(DB("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||QA(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=lo.getController(c),{datasetElementType:d,dataElementType:f}=St.datasets[c];Object.assign(l,{dataElementType:lo.getElement(f),datasetElementType:d&&lo.getElement(d)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){it(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){let{controller:g}=this.getDatasetMeta(d),y=!o&&s.indexOf(g)===-1;g.buildOrUpdateElements(y),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||it(s,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(DB("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){it(this.scales,t=>{Ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!oA(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;xne(t,o,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!oA(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ln.update(this,this.width,this.height,t);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],it(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Jo(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){let i=this.getDatasetMeta(t),o={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rs.has(this)?this.attached&&!rs.running(this)&&rs.start(this):(this.draw(),SB({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let r=this.ctx,i={meta:t,index:t.index,cancelable:!0},o=RA(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&qf(r,o),t.controller.draw(),o&&Gf(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return oo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,o){let s=Pte.modes[r];return typeof s=="function"?s(this,t,i,o):[]}getDatasetMeta(t){let r=this.data.datasets[t],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=ns(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let r=this.data.datasets[t];if(!r)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){let i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,o);qu(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){let r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),rs.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),_A(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete r0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),t[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};it(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(l,d)=>{r.addEventListener(this,l,d),t[l]=d},o=(l,d)=>{t[l]&&(r.removeEventListener(this,l,d),delete t[l])},s=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{o("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){it(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},it(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){let o=i?"set":"remove",s,a,c,l;for(r==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let r=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{let c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!zf(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){let o=this.options.hover,s=(l,d)=>l.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=s(r,t),c=i?t:s(t,r);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,r){let i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(t,r,i){let{_active:o=[],options:s}=this,a=r,c=this._getActiveElements(t,o,i,a),l=Mj(t),d=Mne(t,this._lastEvent,i,l);i&&(this._lastEvent=null,bt(s.onHover,[t,c,this],this),l&&bt(s.onClick,[t,c,this],this));let f=!zf(c,o);return(f||r)&&(this._active=c,this._updateHoverStyles(c,o,r)),this._lastEvent=d,f}_getActiveElements(t,r,i,o){if(t.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,o)}}return n})();function xB(){return it(op.instances,n=>n._plugins.invalidate())}function Rne(n,e,t){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:c}=e,{borderWidth:l,borderJoinStyle:d}=c,f=Math.min(l/s,Dn(r-t));if(n.beginPath(),n.arc(i,o,s-l/2,r+f/2,t-f/2),a>0){let g=Math.min(l/a,Dn(r-t));n.arc(i,o,a+l/2,t-g/2,r+g/2,!0)}else{let g=Math.min(l/2,s*Dn(r-t));if(d==="round")n.arc(i,o,g,t-Ge/2,r+Ge/2,!0);else if(d==="bevel"){let y=2*g*g,E=-y*Math.cos(t+Ge/2)+i,w=-y*Math.sin(t+Ge/2)+o,I=y*Math.cos(r+Ge/2)+i,k=y*Math.sin(r+Ge/2)+o;n.lineTo(E,w),n.lineTo(I,k)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Pne(n,e,t){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:c}=e,l=i/a;n.beginPath(),n.arc(o,s,a,r-l,t+l),c>i?(l=i/c,n.arc(o,s,c,t+l,r-l,!0)):n.arc(o,s,i,t+jt,r-jt),n.closePath(),n.clip()}function kne(n){return Wv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Nne(n,e,t,r){let i=kne(n.options.borderRadius),o=(t-e)/2,s=Math.min(o,r*e/2),a=c=>{let l=(t-Math.min(o,c))*r/2;return ln(c,0,Math.min(o,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ln(i.innerStart,0,s),innerEnd:ln(i.innerEnd,0,s)}}function Xu(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function a0(n,e,t,r,i,o){let{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=e,f=Math.max(e.outerRadius+r+t-l,0),g=d>0?d+r+t+l:0,y=0,E=i-c;if(r){let Ne=d>0?d-r:0,lt=f>0?f-r:0,ot=(Ne+lt)/2,ut=ot!==0?E*ot/(ot+r):E;y=(E-ut)/2}let w=Math.max(.001,E*f-t/Ge)/f,I=(E-w)/2,k=c+I+y,L=i-I-y,{outerStart:U,outerEnd:q,innerStart:z,innerEnd:$}=Nne(e,g,f,L-k),A=f-U,T=f-q,S=k+U/A,R=L-q/T,P=g+z,F=g+$,x=k+z/P,mt=L-$/F;if(n.beginPath(),o){let Ne=(S+R)/2;if(n.arc(s,a,f,S,Ne),n.arc(s,a,f,Ne,R),q>0){let At=Xu(T,R,s,a);n.arc(At.x,At.y,q,R,L+jt)}let lt=Xu(F,L,s,a);if(n.lineTo(lt.x,lt.y),$>0){let At=Xu(F,mt,s,a);n.arc(At.x,At.y,$,L+jt,mt+Math.PI)}let ot=(L-$/g+(k+z/g))/2;if(n.arc(s,a,g,L-$/g,ot,!0),n.arc(s,a,g,ot,k+z/g,!0),z>0){let At=Xu(P,x,s,a);n.arc(At.x,At.y,z,x+Math.PI,k-jt)}let ut=Xu(A,k,s,a);if(n.lineTo(ut.x,ut.y),U>0){let At=Xu(A,S,s,a);n.arc(At.x,At.y,U,k-jt,S)}}else{n.moveTo(s,a);let Ne=Math.cos(S)*f+s,lt=Math.sin(S)*f+a;n.lineTo(Ne,lt);let ot=Math.cos(R)*f+s,ut=Math.sin(R)*f+a;n.lineTo(ot,ut)}n.closePath()}function One(n,e,t,r,i){let{fullCircles:o,startAngle:s,circumference:a}=e,c=e.endAngle;if(o){a0(n,e,t,r,c,i);for(let l=0;l<o;++l)n.fill();isNaN(a)||(c=s+(a%Tt||Tt))}return a0(n,e,t,r,c,i),n.fill(),c}function Fne(n,e,t,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:d,borderDash:f,borderDashOffset:g,borderRadius:y}=c,E=c.borderAlign==="inner";if(!l)return;n.setLineDash(f||[]),n.lineDashOffset=g,E?(n.lineWidth=l*2,n.lineJoin=d||"round"):(n.lineWidth=l,n.lineJoin=d||"bevel");let w=e.endAngle;if(o){a0(n,e,t,r,w,i);for(let I=0;I<o;++I)n.stroke();isNaN(a)||(w=s+(a%Tt||Tt))}E&&Pne(n,e,w),c.selfJoin&&w-s>=Ge&&y===0&&d!=="miter"&&Rne(n,e,w),o||(a0(n,e,t,r,w,i),n.stroke())}var JA=class extends yi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=lA(i,{x:e,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=be(f,c-a),E=Yu(o,a,c)&&a!==c,w=y>=Tt||E,I=ao(s,l+g,d+g);return w&&I}getCenterPoint(e){let{x:t,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,d=(i+o)/2,f=(s+a+l+c)/2;return{x:t+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:r}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>Tt?Math.floor(r/Tt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(Ge,r||0)),l=i*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,One(e,this,l,o,s),Fne(e,this,l,o,s),e.restore()}};function fU(n,e,t=e){n.lineCap=be(t.borderCapStyle,e.borderCapStyle),n.setLineDash(be(t.borderDash,e.borderDash)),n.lineDashOffset=be(t.borderDashOffset,e.borderDashOffset),n.lineJoin=be(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=be(t.borderWidth,e.borderWidth),n.strokeStyle=be(t.borderColor,e.borderColor)}function Lne(n,e,t){n.lineTo(t.x,t.y)}function Vne(n){return n.stepped?Hj:n.tension||n.cubicInterpolationMode==="monotone"?$j:Lne}function pU(n,e,t={}){let r=n.length,{start:i=0,end:o=r-1}=t,{start:s,end:a}=e,c=Math.max(i,s),l=Math.min(o,a),d=i<s&&o<s||i>a&&o>a;return{count:r,start:c,loop:e.loop,ilen:l<c&&!d?r+l-c:l-c}}function jne(n,e,t,r){let{points:i,options:o}=e,{count:s,start:a,loop:c,ilen:l}=pU(i,t,r),d=Vne(o),{move:f=!0,reverse:g}=r||{},y,E,w;for(y=0;y<=l;++y)E=i[(a+(g?l-y:y))%s],!E.skip&&(f?(n.moveTo(E.x,E.y),f=!1):d(n,w,E,g,o.stepped),w=E);return c&&(E=i[(a+(g?l:0))%s],d(n,w,E,g,o.stepped)),!!c}function Bne(n,e,t,r){let i=e.points,{count:o,start:s,ilen:a}=pU(i,t,r),{move:c=!0,reverse:l}=r||{},d=0,f=0,g,y,E,w,I,k,L=q=>(s+(l?a-q:q))%o,U=()=>{w!==I&&(n.lineTo(d,I),n.lineTo(d,w),n.lineTo(d,k))};for(c&&(y=i[L(0)],n.moveTo(y.x,y.y)),g=0;g<=a;++g){if(y=i[L(g)],y.skip)continue;let q=y.x,z=y.y,$=q|0;$===E?(z<w?w=z:z>I&&(I=z),d=(f*d+q)/++f):(U(),n.lineTo(q,z),E=$,f=0,w=I=z),k=z}U()}function ex(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Bne:jne}function Une(n){return n.stepped?Xj:n.tension||n.cubicInterpolationMode==="monotone"?Jj:ia}function Hne(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),fU(n,e.options),n.stroke(i)}function $ne(n,e,t,r){let{segments:i,options:o}=e,s=ex(e);for(let a of i)fU(n,o,a.style),n.beginPath(),s(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}var zne=typeof Path2D=="function";function Wne(n,e,t,r){zne&&!e.options.segment?Hne(n,e,t,r):$ne(n,e,t,r)}var u0=(()=>{class n extends yi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;Kj(this._points,i,t,o,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tB(this,this.options.segment))}first(){let t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){let t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){let i=this.options,o=t[r],s=this.points,a=MA(this,{property:r,start:o,end:o});if(!a.length)return;let c=[],l=Une(i),d,f;for(d=0,f=a.length;d<f;++d){let{start:g,end:y}=a[d],E=s[g],w=s[y];if(E===w){c.push(E);continue}let I=Math.abs((o-E[r])/(w[r]-E[r])),k=l(E,w,I,i.stepped);k[r]=t[r],c.push(k)}return c.length===1?c[0]:c}pathSegment(t,r,i){return ex(this)(t,this,r,i)}path(t,r,i){let o=this.segments,s=ex(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of o)a&=s(t,this,c,{start:r,end:r+i-1});return!!a}draw(t,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Wne(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function MB(n,e,t,r){let i=n.options,{[t]:o}=n.getProps([t],r);return Math.abs(e-o)<i.radius+i.hitRadius}var qne=(()=>{class n extends yi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return MB(this,t,"x",r)}inYRange(t,r){return MB(this,t,"y",r)}getCenterPoint(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){let i=this.options;this.skip||i.radius<.1||!oo(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,zv(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function gU(n,e){let{x:t,y:r,base:i,width:o,height:s}=n.getProps(["x","y","base","width","height"],e),a,c,l,d,f;return n.horizontal?(f=s/2,a=Math.min(t,i),c=Math.max(t,i),l=r-f,d=r+f):(f=o/2,a=t-f,c=t+f,l=Math.min(r,i),d=Math.max(r,i)),{left:a,top:l,right:c,bottom:d}}function da(n,e,t,r){return n?0:ln(e,t,r)}function Gne(n,e,t){let r=n.options.borderWidth,i=n.borderSkipped,o=bA(r);return{t:da(i.top,o.top,0,t),r:da(i.right,o.right,0,e),b:da(i.bottom,o.bottom,0,t),l:da(i.left,o.left,0,e)}}function Yne(n,e,t){let{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=la(i),s=Math.min(e,t),a=n.borderSkipped,c=r||Ve(i);return{topLeft:da(!c||a.top||a.left,o.topLeft,0,s),topRight:da(!c||a.top||a.right,o.topRight,0,s),bottomLeft:da(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:da(!c||a.bottom||a.right,o.bottomRight,0,s)}}function Kne(n){let e=gU(n),t=e.right-e.left,r=e.bottom-e.top,i=Gne(n,t/2,r/2),o=Yne(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function jA(n,e,t,r){let i=e===null,o=t===null,a=n&&!(i&&o)&&gU(n,r);return a&&(i||ao(e,a.left,a.right))&&(o||ao(t,a.top,a.bottom))}function Qne(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Zne(n,e){n.rect(e.x,e.y,e.w,e.h)}function BA(n,e,t={}){let r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-r,s=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+o,h:n.h+s,radius:n.radius}}var tx=class extends yi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=Kne(this),a=Qne(s.radius)?Qu:Zne;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,BA(s,t,o)),e.clip(),a(e,BA(o,-t,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,BA(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return jA(this,e,t,r)}inXRange(e,t){return jA(this,e,null,t)}inYRange(e,t){return jA(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},Xne=Object.freeze({__proto__:null,ArcElement:JA,BarElement:tx,LineElement:u0,PointElement:qne}),nx=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],RB=nx.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function mU(n){return nx[n%nx.length]}function yU(n){return RB[n%RB.length]}function Jne(n,e){return n.borderColor=mU(e),n.backgroundColor=yU(e),++e}function ere(n,e){return n.backgroundColor=n.data.map(()=>mU(e++)),e}function tre(n,e){return n.backgroundColor=n.data.map(()=>yU(e++)),e}function nre(n){let e=0;return(t,r)=>{let i=n.getDatasetMeta(r).controller;i instanceof ux?e=ere(t,e):i instanceof iU?e=tre(t,e):i&&(e=Jne(t,e))}}function PB(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function rre(n){return n&&(n.borderColor||n.backgroundColor)}function ire(){return St.borderColor!=="rgba(0,0,0,0.1)"||St.backgroundColor!=="rgba(0,0,0,0.1)"}var ore={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:r},options:i}=n.config,{elements:o}=i,s=PB(r)||rre(i)||o&&PB(o)||ire();if(!t.forceOverride&&s)return;let a=nre(n);r.forEach(a)}};function sre(n,e,t,r,i){let o=i.samples||r;if(o>=t)return n.slice(e,e+t);let s=[],a=(t-2)/(o-2),c=0,l=e+t-1,d=e,f,g,y,E,w;for(s[c++]=n[d],f=0;f<o-2;f++){let I=0,k=0,L,U=Math.floor((f+1)*a)+1+e,q=Math.min(Math.floor((f+2)*a)+1,t)+e,z=q-U;for(L=U;L<q;L++)I+=n[L].x,k+=n[L].y;I/=z,k/=z;let $=Math.floor(f*a)+1+e,A=Math.min(Math.floor((f+1)*a)+1,t)+e,{x:T,y:S}=n[d];for(y=E=-1,L=$;L<A;L++)E=.5*Math.abs((T-I)*(n[L].y-S)-(T-n[L].x)*(k-S)),E>y&&(y=E,g=n[L],w=L);s[c++]=g,d=w}return s[c++]=n[l],s}function are(n,e,t,r){let i=0,o=0,s,a,c,l,d,f,g,y,E,w,I=[],k=e+t-1,L=n[e].x,q=n[k].x-L;for(s=e;s<e+t;++s){a=n[s],c=(a.x-L)/q*r,l=a.y;let z=c|0;if(z===d)l<E?(E=l,f=s):l>w&&(w=l,g=s),i=(o*i+a.x)/++o;else{let $=s-1;if(!Fe(f)&&!Fe(g)){let A=Math.min(f,g),T=Math.max(f,g);A!==y&&A!==$&&I.push(ye(J({},n[A]),{x:i})),T!==y&&T!==$&&I.push(ye(J({},n[T]),{x:i}))}s>0&&$!==y&&I.push(n[$]),I.push(a),d=z,o=0,E=w=l,f=g=y=s}}return I}function _U(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function kB(n){n.data.datasets.forEach(e=>{_U(e)})}function cre(n,e){let t=e.length,r=0,i,{iScale:o}=n,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(r=ln(io(e,o.axis,s).lo,0,t-1)),l?i=ln(io(e,o.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var lre={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){kB(n);return}let r=n.width;n.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,c=n.getDatasetMeta(o),l=s||i.data;if(Zu([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=n.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||n.options.parsing)return;let{start:f,count:g}=cre(c,l),y=t.threshold||4*r;if(g<=y){_U(i);return}Fe(s)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let E;switch(t.algorithm){case"lttb":E=sre(l,f,g,r,t);break;case"min-max":E=are(l,f,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=E})},destroy(n){kB(n)}};function ure(n,e,t){let r=n.segments,i=n.points,o=e.points,s=[];for(let a of r){let{start:c,end:l}=a;l=d0(c,l,i);let d=rx(t,i[c],i[l],a.loop);if(!e.segments){s.push({source:a,target:d,start:i[c],end:i[l]});continue}let f=MA(e,d);for(let g of f){let y=rx(t,o[g.start],o[g.end],g.loop),E=xA(a,i,y);for(let w of E)s.push({source:w,target:g,start:{[t]:NB(d,y,"start",Math.max)},end:{[t]:NB(d,y,"end",Math.min)}})}}return s}function rx(n,e,t,r){if(r)return;let i=e[n],o=t[n];return n==="angle"&&(i=Dn(i),o=Dn(o)),{property:n,start:i,end:o}}function dre(n,e){let{x:t=null,y:r=null}=n||{},i=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=d0(s,a,i);let c=i[s],l=i[a];r!==null?(o.push({x:c.x,y:r}),o.push({x:l.x,y:r})):t!==null&&(o.push({x:t,y:c.y}),o.push({x:t,y:l.y}))}),o}function d0(n,e,t){for(;e>n;e--){let r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function NB(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function vU(n,e){let t=[],r=!1;return Ct(n)?(r=!0,t=n):t=dre(n,e),t.length?new u0({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function OB(n){return n&&n.fill!==!1}function hre(n,e,t){let i=n[e].fill,o=[e],s;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Nt(i))return i;if(s=n[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function fre(n,e,t){let r=yre(n);if(Ve(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Nt(i)&&Math.floor(i)===i?pre(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function pre(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function gre(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Ve(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function mre(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:Ve(n)?r=n.value:r=e.getBaseValue(),r}function yre(n){let e=n.options,t=e.fill,r=be(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function _re(n){let{scale:e,index:t,line:r}=n,i=[],o=r.segments,s=r.points,a=vre(e,t);a.push(vU({x:null,y:e.bottom},r));for(let c=0;c<o.length;c++){let l=o[c];for(let d=l.start;d<=l.end;d++)bre(i,s[d],a)}return new u0({points:i,options:{}})}function vre(n,e){let t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function bre(n,e,t){let r=[];for(let i=0;i<t.length;i++){let o=t[i],{first:s,last:a,point:c}=Ere(o,e,"x");if(!(!c||s&&a)){if(s)r.unshift(c);else if(n.push(c),!a)break}}n.push(...r)}function Ere(n,e,t){let r=n.interpolate(e,t);if(!r)return{};let i=r[t],o=n.segments,s=n.points,a=!1,c=!1;for(let l=0;l<o.length;l++){let d=o[l],f=s[d.start][t],g=s[d.end][t];if(ao(i,f,g)){a=i===f,c=i===g;break}}return{first:a,last:c,point:r}}var c0=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){let{x:i,y:o,radius:s}=this;return t=t||{start:0,end:Tt},e.arc(i,o,s,t.end,t.start,!0),!r.bounds}interpolate(e){let{x:t,y:r,radius:i}=this,o=e.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function wre(n){let{chart:e,fill:t,line:r}=n;if(Nt(t))return Ire(e,t);if(t==="stack")return _re(n);if(t==="shape")return!0;let i=Cre(n);return i instanceof c0?i:vU(i,r)}function Ire(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function Cre(n){return(n.scale||{}).getPointPositionForValue?Dre(n):Tre(n)}function Tre(n){let{scale:e={},fill:t}=n,r=gre(t,e);if(Nt(r)){let i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Dre(n){let{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,s=mre(t,e,o),a=[];if(r.grid.circular){let c=e.getPointPositionForValue(0,o);return new c0({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(s)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,s));return a}function UA(n,e,t){let r=wre(e),{chart:i,index:o,line:s,scale:a,axis:c}=e,l=s.options,d=l.fill,f=l.backgroundColor,{above:g=f,below:y=f}=d||{},E=i.getDatasetMeta(o),w=RA(i,E);r&&s.points.length&&(qf(n,t),Sre(n,{line:s,target:r,above:g,below:y,area:t,scale:a,axis:c,clip:w}),Gf(n))}function Sre(n,e){let{line:t,target:r,above:i,below:o,area:s,scale:a,clip:c}=e,l=t._loop?"angle":e.axis;n.save();let d=o;o!==i&&(l==="x"?(FB(n,r,s.top),HA(n,{line:t,target:r,color:i,scale:a,property:l,clip:c}),n.restore(),n.save(),FB(n,r,s.bottom)):l==="y"&&(LB(n,r,s.left),HA(n,{line:t,target:r,color:o,scale:a,property:l,clip:c}),n.restore(),n.save(),LB(n,r,s.right),d=i)),HA(n,{line:t,target:r,color:d,scale:a,property:l,clip:c}),n.restore()}function FB(n,e,t){let{segments:r,points:i}=e,o=!0,s=!1;n.beginPath();for(let a of r){let{start:c,end:l}=a,d=i[c],f=i[d0(c,l,i)];o?(n.moveTo(d.x,d.y),o=!1):(n.lineTo(d.x,t),n.lineTo(d.x,d.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(f.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function LB(n,e,t){let{segments:r,points:i}=e,o=!0,s=!1;n.beginPath();for(let a of r){let{start:c,end:l}=a,d=i[c],f=i[d0(c,l,i)];o?(n.moveTo(d.x,d.y),o=!1):(n.lineTo(t,d.y),n.lineTo(d.x,d.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(t,f.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function HA(n,e){let{line:t,target:r,property:i,color:o,scale:s,clip:a}=e,c=ure(t,r,i);for(let{source:l,target:d,start:f,end:g}of c){let{style:{backgroundColor:y=o}={}}=l,E=r!==!0;n.save(),n.fillStyle=y,Are(n,s,a,E&&rx(i,f,g)),n.beginPath();let w=!!t.pathSegment(n,l),I;if(E){w?n.closePath():VB(n,r,g,i);let k=!!r.pathSegment(n,d,{move:w,reverse:!0});I=w&&k,I||VB(n,r,f,i)}n.closePath(),n.fill(I?"evenodd":"nonzero"),n.restore()}}function Are(n,e,t,r){let i=e.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let c,l,d,f;o==="x"?(c=s,l=i.top,d=a,f=i.bottom):(c=i.left,l=s,d=i.right,f=a),n.beginPath(),t&&(c=Math.max(c,t.left),d=Math.min(d,t.right),l=Math.max(l,t.top),f=Math.min(f,t.bottom)),n.rect(c,l,d-c,f-l),n.clip()}}function VB(n,e,t,r){let i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var xre={id:"filler",afterDatasetsUpdate(n,e,t){let r=(n.data.datasets||[]).length,i=[],o,s,a,c;for(s=0;s<r;++s)o=n.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof u0&&(c={visible:n.isDatasetVisible(s),index:s,fill:fre(a,s,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(s=0;s<r;++s)c=i[s],!(!c||c.fill===!1)&&(c.fill=hre(i,s,t.propagate))},beforeDraw(n,e,t){let r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&UA(n.ctx,a,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;OB(o)&&UA(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){let r=e.meta.$filler;!OB(r)||t.drawTime!=="beforeDatasetDraw"||UA(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},jB=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},Mre=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,l0=class extends yi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=bt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,i=en(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=jB(r,o),l,d;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(s,o,a,c)+10):(d=this.maxHeight,l=this._fitCols(s,i,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=i+a,f=e;o.textAlign="left",o.textBaseline="middle";let g=-1,y=-d;return this.legendItems.forEach((E,w)=>{let I=r+t/2+o.measureText(E.text).width;(w===0||l[l.length-1]+I+2*a>s)&&(f+=d,l[l.length-(w>0?0:1)]=0,y+=d,g++),c[w]={left:0,top:y,row:g,width:I,height:i},l[l.length-1]+=I+a}),f}_fitCols(e,t,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=s-e,f=a,g=0,y=0,E=0,w=0;return this.legendItems.forEach((I,k)=>{let{itemWidth:L,itemHeight:U}=Rre(r,t,o,I,i);k>0&&y+U+2*a>d&&(f+=g+a,l.push({width:g,height:y}),E+=g+a,w++,g=y=0),c[k]={left:E,top:y,col:w,width:L,height:U},g=Math.max(g,L),y+=U+a}),f+=g,l.push({width:g,height:y}),f}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,s=jc(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=Sn(r,this.left+i,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=Sn(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+e+i,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+i}else{let a=0,c=Sn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=Sn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;qf(e,this),this._draw(),Gf(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:s}=e,a=St.color,c=jc(e.rtl,this.left,this.width),l=en(s.font),{padding:d}=s,f=l.size,g=f/2,y;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:E,boxHeight:w,itemHeight:I}=jB(s,f),k=function($,A,T){if(isNaN(E)||E<=0||isNaN(w)||w<0)return;i.save();let S=be(T.lineWidth,1);if(i.fillStyle=be(T.fillStyle,a),i.lineCap=be(T.lineCap,"butt"),i.lineDashOffset=be(T.lineDashOffset,0),i.lineJoin=be(T.lineJoin,"miter"),i.lineWidth=S,i.strokeStyle=be(T.strokeStyle,a),i.setLineDash(be(T.lineDash,[])),s.usePointStyle){let R={radius:w*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:S},P=c.xPlus($,E/2),F=A+g;vA(i,R,P,F,s.pointStyleWidth&&E)}else{let R=A+Math.max((f-w)/2,0),P=c.leftForLtr($,E),F=la(T.borderRadius);i.beginPath(),Object.values(F).some(x=>x!==0)?Qu(i,{x:P,y:R,w:E,h:w,radius:F}):i.rect(P,R,E,w),i.fill(),S!==0&&i.stroke()}i.restore()},L=function($,A,T){ca(i,T.text,$,A+I/2,l,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},U=this.isHorizontal(),q=this._computeTitleHeight();U?y={x:Sn(o,this.left+d,this.right-r[0]),y:this.top+d+q,line:0}:y={x:this.left+d,y:Sn(o,this.top+q+d,this.bottom-t[0].height),line:0},SA(this.ctx,e.textDirection);let z=I+d;this.legendItems.forEach(($,A)=>{i.strokeStyle=$.fontColor,i.fillStyle=$.fontColor;let T=i.measureText($.text).width,S=c.textAlign($.textAlign||($.textAlign=s.textAlign)),R=E+g+T,P=y.x,F=y.y;c.setWidth(this.width),U?A>0&&P+R+d>this.right&&(F=y.y+=z,y.line++,P=y.x=Sn(o,this.left+d,this.right-r[y.line])):A>0&&F+z>this.bottom&&(P=y.x=P+t[y.line].width+d,y.line++,F=y.y=Sn(o,this.top+q+d,this.bottom-t[y.line].height));let x=c.x(P);if(k(x,F,$),P=jj(S,P+E+g,U?P+R:this.right,e.rtl),L(c.x(P),F,$),U)y.x+=R+d;else if(typeof $.text!="string"){let mt=l.lineHeight;y.y+=bU($,mt)+d}else y.y+=z}),AA(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,r=en(t.font),i=An(t.padding);if(!t.display)return;let o=jc(e.rtl,this.left,this.width),s=this.ctx,a=t.position,c=r.size/2,l=i.top+c,d,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+l,f=Sn(e.align,f,this.right-g);else{let E=this.columnSizes.reduce((w,I)=>Math.max(w,I.height),0);d=l+Sn(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}let y=Sn(a,f,f+g);s.textAlign=o.textAlign(Hv(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,ca(s,t.text,y,d,r)}_computeTitleHeight(){let e=this.options.title,t=en(e.font),r=An(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(ao(e,this.left,this.right)&&ao(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],ao(e,i.left,i.left+i.width)&&ao(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){let t=this.options;if(!Nre(e.type,t))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,o=Mre(i,r);i&&!o&&bt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&bt(t.onHover,[e,r,this],this)}else r&&bt(t.onClick,[e,r,this],this)}};function Rre(n,e,t,r,i){let o=Pre(r,n,e,t),s=kre(i,r,e.lineHeight);return{itemWidth:o,itemHeight:s}}function Pre(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),e+t.size/2+r.measureText(i).width}function kre(n,e,t){let r=n;return typeof e.text!="string"&&(r=bU(e,t)),r}function bU(n,e){let t=n.text?n.text.length:0;return e*t}function Nre(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Ore={id:"legend",_element:l0,start(n,e,t){let r=n.legend=new l0({ctx:n.ctx,options:t,chart:n});Ln.configure(n,r,t),Ln.addBox(n,r)},stop(n){Ln.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let r=n.legend;Ln.configure(n,r,t),r.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),d=An(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},np=class extends yi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=Ct(r.text)?r.text.length:1;this._padding=An(r.padding);let o=i*en(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:r,bottom:i,right:o,options:s}=this,a=s.align,c=0,l,d,f;return this.isHorizontal()?(d=Sn(a,r,o),f=t+e,l=o-r):(s.position==="left"?(d=r+e,f=Sn(a,i,t),c=Ge*-.5):(d=o-e,f=Sn(a,t,i),c=Ge*.5),l=i-t),{titleX:d,titleY:f,maxWidth:l,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let r=en(t.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);ca(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:l,textAlign:Hv(t.align),textBaseline:"middle",translation:[s,a]})}};function Fre(n,e){let t=new np({ctx:n.ctx,options:e,chart:n});Ln.configure(n,t,e),Ln.addBox(n,t),n.titleBlock=t}var Lre={id:"title",_element:np,start(n,e,t){Fre(n,t)},stop(n){let e=n.titleBlock;Ln.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let r=n.titleBlock;Ln.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Jv=new WeakMap,Vre={id:"subtitle",start(n,e,t){let r=new np({ctx:n.ctx,options:t,chart:n});Ln.configure(n,r,t),Ln.addBox(n,r),Jv.set(n,r)},stop(n){Ln.removeBox(n,Jv.get(n)),Jv.delete(n)},beforeUpdate(n,e,t){let r=Jv.get(n);Ln.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ep={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();r.add(c.x),i+=c.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){let c=n[o].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=Lv(e,l);d<i&&(i=d,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function co(n,e){return e&&(Ct(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function is(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function jre(n,e){let{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:n,label:s,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function BB(n,e){let t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:s,boxHeight:a}=e,c=en(e.bodyFont),l=en(e.titleFont),d=en(e.footerFont),f=o.length,g=i.length,y=r.length,E=An(e.padding),w=E.height,I=0,k=r.reduce((q,z)=>q+z.before.length+z.lines.length+z.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,f&&(w+=f*l.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),k){let q=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;w+=y*q+(k-y)*c.lineHeight+(k-1)*e.bodySpacing}g&&(w+=e.footerMarginTop+g*d.lineHeight+(g-1)*e.footerSpacing);let L=0,U=function(q){I=Math.max(I,t.measureText(q).width+L)};return t.save(),t.font=l.string,it(n.title,U),t.font=c.string,it(n.beforeBody.concat(n.afterBody),U),L=e.displayColors?s+2+e.boxPadding:0,it(r,q=>{it(q.before,U),it(q.lines,U),it(q.after,U)}),L=0,t.font=d.string,it(n.footer,U),t.restore(),I+=E.width,{width:I,height:w}}function Bre(n,e){let{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Ure(n,e,t,r){let{x:i,width:o}=r,s=t.caretSize+t.caretPadding;if(n==="left"&&i+o+s>e.width||n==="right"&&i-o-s<0)return!0}function Hre(n,e,t,r){let{x:i,width:o}=t,{width:s,chartArea:{left:a,right:c}}=n,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=o/2?l="left":i>=s-o/2&&(l="right"),Ure(l,n,e,t)&&(l="center"),l}function UB(n,e,t){let r=t.yAlign||e.yAlign||Bre(n,t);return{xAlign:t.xAlign||e.xAlign||Hre(n,e,t,r),yAlign:r}}function $re(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function zre(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function HB(n,e,t,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:c}=t,l=i+o,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:y}=la(s),E=$re(e,a),w=zre(e,c,l);return c==="center"?a==="left"?E+=l:a==="right"&&(E-=l):a==="left"?E-=Math.max(d,g)+i:a==="right"&&(E+=Math.max(f,y)+i),{x:ln(E,0,r.width-e.width),y:ln(w,0,r.height-e.height)}}function e0(n,e,t){let r=An(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function $B(n){return co([],is(n))}function Wre(n,e,t){return ns(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function zB(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var EU={beforeTitle:so,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:so,beforeBody:so,beforeLabel:so,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return Fe(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:so,afterBody:so,beforeFooter:so,footer:so,afterFooter:so};function cr(n,e,t,r){let i=n[e].call(t,r);return typeof i>"u"?EU[e].call(t,r):i}var WB=(()=>{class n extends yi{static positioners=ep;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new i0(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Wre(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){let{callbacks:i}=r,o=cr(i,"beforeTitle",this,t),s=cr(i,"title",this,t),a=cr(i,"afterTitle",this,t),c=[];return c=co(c,is(o)),c=co(c,is(s)),c=co(c,is(a)),c}getBeforeBody(t,r){return $B(cr(r.callbacks,"beforeBody",this,t))}getBody(t,r){let{callbacks:i}=r,o=[];return it(t,s=>{let a={before:[],lines:[],after:[]},c=zB(i,s);co(a.before,is(cr(c,"beforeLabel",this,s))),co(a.lines,cr(c,"label",this,s)),co(a.after,is(cr(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(t,r){return $B(cr(r.callbacks,"afterBody",this,t))}getFooter(t,r){let{callbacks:i}=r,o=cr(i,"beforeFooter",this,t),s=cr(i,"footer",this,t),a=cr(i,"afterFooter",this,t),c=[];return c=co(c,is(o)),c=co(c,is(s)),c=co(c,is(a)),c}_createItems(t){let r=this._active,i=this.chart.data,o=[],s=[],a=[],c=[],l,d;for(l=0,d=r.length;l<d;++l)c.push(jre(this.chart,r[l]));return t.filter&&(c=c.filter((f,g,y)=>t.filter(f,g,y,i))),t.itemSort&&(c=c.sort((f,g)=>t.itemSort(f,g,i))),it(c,f=>{let g=zB(t.callbacks,f);o.push(cr(g,"labelColor",this,f)),s.push(cr(g,"labelPointStyle",this,f)),a.push(cr(g,"labelTextColor",this,f))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(t,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let c=ep[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=BB(this,i),d=Object.assign({},c,l),f=UB(this.chart,i,d),g=HB(i,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:g.x,y:g.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,o){let s=this.getCaretPosition(t,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(t,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:d,bottomLeft:f,bottomRight:g}=la(c),{x:y,y:E}=t,{width:w,height:I}=r,k,L,U,q,z,$;return s==="center"?(z=E+I/2,o==="left"?(k=y,L=k-a,q=z+a,$=z-a):(k=y+w,L=k+a,q=z-a,$=z+a),U=k):(o==="left"?L=y+Math.max(l,f)+a:o==="right"?L=y+w-Math.max(d,g)-a:L=this.caretX,s==="top"?(q=E,z=q-a,k=L-a,U=L+a):(q=E+I,z=q+a,k=L+a,U=L-a),$=q),{x1:k,x2:L,x3:U,y1:q,y2:z,y3:$}}drawTitle(t,r,i){let o=this.title,s=o.length,a,c,l;if(s){let d=jc(i.rtl,this.x,this.width);for(t.x=e0(this,i.titleAlign,i),r.textAlign=d.textAlign(i.titleAlign),r.textBaseline="middle",a=en(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===s&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,r,i,o,s){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:d}=s,f=en(s.bodyFont),g=e0(this,"left",s),y=o.x(g),E=l<f.lineHeight?(f.lineHeight-l)/2:0,w=r.y+E;if(s.usePointStyle){let I={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=o.leftForLtr(y,d)+d/2,L=w+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,zv(t,I,k,L),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,zv(t,I,k,L)}else{t.lineWidth=Ve(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let I=o.leftForLtr(y,d),k=o.leftForLtr(o.xPlus(y,1),d-2),L=la(a.borderRadius);Object.values(L).some(U=>U!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Qu(t,{x:I,y:w,w:d,h:l,radius:L}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Qu(t,{x:k,y:w+1,w:d-2,h:l-2,radius:L}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(I,w,d,l),t.strokeRect(I,w,d,l),t.fillStyle=a.backgroundColor,t.fillRect(k,w+1,d-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:f}=i,g=en(i.bodyFont),y=g.lineHeight,E=0,w=jc(i.rtl,this.x,this.width),I=function(S){r.fillText(S,w.x(t.x+E),t.y+y/2),t.y+=y+s},k=w.textAlign(a),L,U,q,z,$,A,T;for(r.textAlign=a,r.textBaseline="middle",r.font=g.string,t.x=e0(this,k,i),r.fillStyle=i.bodyColor,it(this.beforeBody,I),E=c&&k!=="right"?a==="center"?d/2+f:d+2+f:0,z=0,A=o.length;z<A;++z){for(L=o[z],U=this.labelTextColors[z],r.fillStyle=U,it(L.before,I),q=L.lines,c&&q.length&&(this._drawColorBox(r,t,z,w,i),y=Math.max(g.lineHeight,l)),$=0,T=q.length;$<T;++$)I(q[$]),y=g.lineHeight;it(L.after,I)}E=0,y=g.lineHeight,it(this.afterBody,I),t.y-=s}drawFooter(t,r,i){let o=this.footer,s=o.length,a,c;if(s){let l=jc(i.rtl,this.x,this.width);for(t.x=e0(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=en(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,o){let{xAlign:s,yAlign:a}=this,{x:c,y:l}=t,{width:d,height:f}=i,{topLeft:g,topRight:y,bottomLeft:E,bottomRight:w}=la(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(c+g,l),a==="top"&&this.drawCaret(t,r,i,o),r.lineTo(c+d-y,l),r.quadraticCurveTo(c+d,l,c+d,l+y),a==="center"&&s==="right"&&this.drawCaret(t,r,i,o),r.lineTo(c+d,l+f-w),r.quadraticCurveTo(c+d,l+f,c+d-w,l+f),a==="bottom"&&this.drawCaret(t,r,i,o),r.lineTo(c+E,l+f),r.quadraticCurveTo(c,l+f,c,l+f-E),a==="center"&&s==="left"&&this.drawCaret(t,r,i,o),r.lineTo(c,l+g),r.quadraticCurveTo(c,l,c+g,l),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=ep[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=BB(this,t),l=Object.assign({},a,this._size),d=UB(r,t,l),f=HB(t,l,d,r);(o._to!==f.x||s._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=An(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,o,r),SA(t,r.textDirection),s.y+=a.top,this.drawTitle(s,t,r),this.drawBody(s,t,r),this.drawFooter(s,t,r),AA(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){let i=this._active,o=t.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),s=!zf(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(t,s,r,i),c=this._positionChanged(a,t),l=r||!zf(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,i,o){let s=this.options;if(t.type==="mouseout")return[];if(!o)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,r){let{caretX:i,caretY:o,options:s}=this,a=ep[s.position].call(this,t,r);return a!==!1&&(i!==a.x||o!==a.y)}}return n})(),qre={id:"tooltip",_element:WB,positioners:ep,afterInit(n,e,t){t&&(n.tooltip=new WB({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",ye(J({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:EU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Gre=Object.freeze({__proto__:null,Colors:ore,Decimation:lre,Filler:xre,Legend:Ore,SubTitle:Vre,Title:Lre,Tooltip:qre}),Yre=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Kre(n,e,t,r){let i=n.indexOf(e);if(i===-1)return Yre(n,e,t,r);let o=n.lastIndexOf(e);return i!==o?t:i}var Qre=(n,e)=>n===null?null:ln(Math.round(n),0,e);function qB(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var Zre=(()=>{class n extends Hc{static id="category";static defaults={ticks:{callback:qB}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Fe(t))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:Kre(i,t,be(r,t),this._addedLabels),Qre(r,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let t=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=t===0&&r===s.length-1?s:s.slice(t,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)o.push({value:a});return o}getLabelForValue(t){return qB.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function Xre(n,e){let t=[],{bounds:i,step:o,min:s,max:a,precision:c,count:l,maxTicks:d,maxDigits:f,includeBounds:g}=n,y=o||1,E=d-1,{min:w,max:I}=e,k=!Fe(s),L=!Fe(a),U=!Fe(l),q=(I-w)/(f+1),z=sA((I-w)/E/y)*y,$,A,T,S;if(z<1e-14&&!k&&!L)return[{value:w},{value:I}];S=Math.ceil(I/z)-Math.floor(w/z),S>E&&(z=sA(S*z/E/y)*y),Fe(c)||($=Math.pow(10,c),z=Math.ceil(z*$)/$),i==="ticks"?(A=Math.floor(w/z)*z,T=Math.ceil(I/z)*z):(A=w,T=I),k&&L&&o&&Pj((a-s)/o,z/1e3)?(S=Math.round(Math.min((a-s)/z,d)),z=(a-s)/S,A=s,T=a):U?(A=k?s:A,T=L?a:T,S=l-1,z=(T-A)/S):(S=(T-A)/z,Gu(S,Math.round(S),z/1e3)?S=Math.round(S):S=Math.ceil(S));let R=Math.max(cA(z),cA(A));$=Math.pow(10,Fe(c)?R:c),A=Math.round(A*$)/$,T=Math.round(T*$)/$;let P=0;for(k&&(g&&A!==s?(t.push({value:s}),A<s&&P++,Gu(Math.round((A+P*z)*$)/$,s,GB(s,q,n))&&P++):A<s&&P++);P<S;++P){let F=Math.round((A+P*z)*$)/$;if(L&&F>a)break;t.push({value:F})}return L&&g&&T!==a?t.length&&Gu(t[t.length-1].value,a,GB(a,q,n))?t[t.length-1].value=a:t.push({value:a}):(!L||T===a)&&t.push({value:T}),t}function GB(n,e,{horizontal:t,minRotation:r}){let i=$r(r),o=(t?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+n).length;return Math.min(e/o,s)}var ed=class extends Hc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Fe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=c=>i=t?i:c,a=c=>o=r?o:c;if(e){let c=mi(i),l=mi(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);a(o+c),e||s(i-c)}this.min=i,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=Xre(i,o);return e.bounds==="ticks"&&aA(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Ku(e,this.chart.options.locale,this.options.ticks.format)}},ix=class extends ed{static id="linear";static defaults={ticks:{callback:Wf.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Nt(e)?e:0,this.max=Nt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=$r(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},rp=n=>Math.floor(es(n)),Uc=(n,e)=>Math.pow(10,rp(n)+e);function YB(n){return n/Math.pow(10,rp(n))===1}function KB(n,e,t){let r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function Jre(n,e){let t=e-n,r=rp(t);for(;KB(n,e,r)>10;)r++;for(;KB(n,e,r)<10;)r--;return Math.min(r,rp(n))}function eie(n,{min:e,max:t}){e=ar(n.min,e);let r=[],i=rp(e),o=Jre(e,t),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),c=i>o?Math.pow(10,i):0,l=Math.round((e-c)*s)/s,d=Math.floor((e-c)/a/10)*a*10,f=Math.floor((l-d)/Math.pow(10,o)),g=ar(n.min,Math.round((c+d+f*Math.pow(10,o))*s)/s);for(;g<t;)r.push({value:g,major:YB(g),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(o++,f=2,s=o>=0?1:s),g=Math.round((c+d+f*Math.pow(10,o))*s)/s;let y=ar(n.max,g);return r.push({value:y,major:YB(y),significand:f}),r}var ox=class extends Hc{static id="logarithmic";static defaults={ticks:{callback:Wf.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=ed.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return Nt(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Nt(e)?Math.max(0,e):null,this.max=Nt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Nt(this._userMin)&&(this.min=e===Uc(this.min,0)?Uc(this.min,-1):Uc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=e?r:a,s=a=>i=t?i:a;r===i&&(r<=0?(o(1),s(10)):(o(Uc(r,-1)),s(Uc(i,1)))),r<=0&&o(Uc(i,-1)),i<=0&&s(Uc(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},r=eie(t,this);return e.bounds==="ticks"&&aA(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Ku(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=es(e),this._valueRange=es(this.max)-es(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(es(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function sx(n){let e=n.ticks;if(e.display&&n.display){let t=An(e.backdropPadding);return be(e.font&&e.font.size,St.font.size)+t.height}return 0}function tie(n,e,t){return t=Ct(t)?t:[t],{w:Uj(n,e.string,t),h:t.length*e.lineHeight}}function QB(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function nie(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?Ge/o:0;for(let c=0;c<o;c++){let l=s.setContext(n.getPointLabelContext(c));i[c]=l.padding;let d=n.getPointPosition(c,n.drawingArea+i[c],a),f=en(l.font),g=tie(n.ctx,f,n._pointLabels[c]);r[c]=g;let y=Dn(n.getIndexAngle(c)+a),E=Math.round(Bv(y)),w=QB(E,d.x,g.w,0,180),I=QB(E,d.y,g.h,90,270);rie(t,e,y,w,I)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=sie(n,r,i)}function rie(n,e,t,r,i){let o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),a=0,c=0;r.start<e.l?(a=(e.l-r.start)/o,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/o,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/s,n.t=Math.min(n.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/s,n.b=Math.max(n.b,e.b+c))}function iie(n,e,t){let r=n.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=t,c=n.getPointPosition(e,r+i+s,o),l=Math.round(Bv(Dn(c.angle+jt))),d=lie(c.y,a.h,l),f=aie(l),g=cie(c.x,a.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:g,top:d,right:g+a.w,bottom:d+a.h}}function oie(n,e){if(!e)return!0;let{left:t,top:r,right:i,bottom:o}=n;return!(oo({x:t,y:r},e)||oo({x:t,y:o},e)||oo({x:i,y:r},e)||oo({x:i,y:o},e))}function sie(n,e,t){let r=[],i=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:sx(o)/2,additionalAngle:s?Ge/i:0},l;for(let d=0;d<i;d++){c.padding=t[d],c.size=e[d];let f=iie(n,d,c);r.push(f),a==="auto"&&(f.visible=oie(f,l),f.visible&&(l=f))}return r}function aie(n){return n===0||n===180?"center":n<180?"left":"right"}function cie(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function lie(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function uie(n,e,t){let{left:r,top:i,right:o,bottom:s}=t,{backdropColor:a}=e;if(!Fe(a)){let c=la(e.borderRadius),l=An(e.backdropPadding);n.fillStyle=a;let d=r-l.left,f=i-l.top,g=o-r+l.width,y=s-i+l.height;Object.values(c).some(E=>E!==0)?(n.beginPath(),Qu(n,{x:d,y:f,w:g,h:y,radius:c}),n.fill()):n.fillRect(d,f,g,y)}}function die(n,e){let{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){let o=n._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(n.getPointLabelContext(i));uie(t,s,o);let a=en(s.font),{x:c,y:l,textAlign:d}=o;ca(t,n._pointLabels[i],c,l+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function wU(n,e,t,r){let{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Tt);else{let o=n.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=n.getPointPosition(s,e),i.lineTo(o.x,o.y)}}function hie(n,e,t,r,i){let o=n.ctx,s=e.circular,{color:a,lineWidth:c}=e;!s&&!r||!a||!c||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),wU(n,t,s,r),o.closePath(),o.stroke(),o.restore())}function fie(n,e,t){return ns(n,{label:t,index:e,type:"pointLabel"})}var ax=class extends ed{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=An(sx(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Nt(e)&&!isNaN(e)?e:0,this.max=Nt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/sx(this.options))}generateTickLabels(e){ed.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{let i=bt(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?nie(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){let t=Tt/(this._pointLabels.length||1),r=this.options.startAngle||0;return Dn(e*t+$r(r))}getDistanceFromCenterForValue(e){if(Fe(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Fe(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let r=t[e];return fie(this.getContext(),e,r)}}getPointPosition(e,t,r=0){let i=this.getIndexAngle(e)-jt+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),wU(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:r,grid:i,border:o}=t,s=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&die(this,s),i.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let g=this.getContext(f),y=i.setContext(g),E=o.setContext(g);hie(this,y,c,s,E)}}),r.display){for(e.save(),a=s-1;a>=0;a--){let d=r.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:g}=d;!g||!f||(e.lineWidth=g,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=r.setContext(this.getContext(c)),d=en(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=d.string,s=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let f=An(l.backdropPadding);e.fillRect(-s/2-f.left,-o-d.size/2-f.top,s+f.width,d.size+f.height)}ca(e,a.label,0,-o,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},h0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lr=Object.keys(h0);function ZB(n,e){return n-e}function XB(n,e){if(Fe(e))return null;let t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts,s=e;return typeof r=="function"&&(s=r(s)),Nt(s)||(s=typeof r=="string"?t.parse(s,r):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(Vc(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,i)),+s)}function JB(n,e,t,r){let i=lr.length;for(let o=lr.indexOf(n);o<i-1;++o){let s=h0[lr[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(a*s.size))<=r)return lr[o]}return lr[i-1]}function pie(n,e,t,r,i){for(let o=lr.length-1;o>=lr.indexOf(t);o--){let s=lr[o];if(h0[s].common&&n._adapter.diff(i,r,s)>=e-1)return s}return lr[t?lr.indexOf(t):0]}function gie(n){for(let e=lr.indexOf(n)+1,t=lr.length;e<t;++e)if(h0[lr[e]].common)return lr[e]}function eU(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:r,hi:i}=Uv(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function mie(n,e,t,r){let i=n._adapter,o=+i.startOf(e[0].value,r),s=e[e.length-1].value,a,c;for(a=o;a<=s;a=+i.add(a,1,r))c=t[a],c>=0&&(e[c].major=!0);return e}function tU(n,e,t){let r=[],i={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,r.push({value:a,major:!1});return o===0||!t?r:mie(n,r,i,t)}var cx=(()=>{class n extends Hc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){let i=t.time||(t.time={}),o=this._adapter=new Ste._date(t.adapters.date);o.init(r),Wu(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:XB(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,r=this._adapter,i=t.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=Nt(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=Nt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){let t=this.options,r=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,c=Oj(o,s,a);return this._unit=r.unit||(i.autoSkip?JB(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):pie(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:gie(this._unit),this.initOffsets(o),t.reverse&&c.reverse(),tU(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,o,s;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?r=1-o:r=(this.getDecimalForValue(t[1])-o)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=ln(r,0,a),i=ln(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let t=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||JB(s.minUnit,r,i,this._getLabelCapacity(r)),c=be(o.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,d=Vc(l)||l===!0,f={},g=r,y,E;if(d&&(g=+t.startOf(g,"isoWeek",l)),g=+t.startOf(g,d?"day":a),t.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let w=o.ticks.source==="data"&&this.getDataTimestamps();for(y=g,E=0;y<i;y=+t.add(y,c,a),E++)eU(f,y,w);return(y===i||o.bounds==="ticks"||E===1)&&eU(f,y,w),Object.keys(f).sort(ZB).map(I=>+I)}getLabelForValue(t){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(t,a)}_tickFormatFunction(t,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return bt(a,[t,r,i],this);let c=s.time.displayFormats,l=this._unit,d=this._majorUnit,f=l&&c[l],g=d&&c[d],y=i[r],E=d&&g&&y&&y.major;return this._adapter.format(t,o||(E?g:f))}generateTickLabels(t){let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r],o.label=this._tickFormatFunction(o.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let r=this.options.ticks,i=this.ctx.measureText(t).width,o=$r(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*a,h:i*a+c*s}}_getLabelCapacity(t){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(t,0,tU(this,[t],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)t=t.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],r,i;if(t.length)return t;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)t.push(XB(this,o[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return dA(t.sort(ZB))}}return n})();function t0(n,e,t){let r=0,i=n.length-1,o,s,a,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=io(n,"pos",e)),{pos:o,time:a}=n[r],{pos:s,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=io(n,"time",e)),{time:o,pos:a}=n[r],{time:s,pos:c}=n[i]);let l=s-o;return l?a+(c-a)*(e-o)/l:a}var lx=class extends cx{static id="timeseries";static defaults=cx.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=t0(t,this.min),this._tableRange=t0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:r}=this,i=[],o=[],s,a,c,l,d;for(s=0,a=e.length;s<a;++s)l=e[s],l>=t&&l<=r&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)d=i[s+1],c=i[s-1],l=i[s],Math.round((d+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(t0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return t0(this._table,r*this._tableRange+this._minPos,!0)}},yie=Object.freeze({__proto__:null,CategoryScale:Zre,LinearScale:ix,LogarithmicScale:ox,RadialLinearScale:ax,TimeScale:cx,TimeSeriesScale:lx}),IU=[Dte,Xne,Gre,yie];var fa=W$(CU());var TU=(n,e)=>({collapse:n,show:e}),_ie=(n,e)=>({"bi-chevron-down":n,"bi-chevron-up":e}),vie=(n,e,t)=>({"bg-success":n,"bg-warning":e,"bg-danger":t});function bie(n,e){if(n&1){let t=ht();ji(0),N(1,"button",41),le("click",function(){ee(t);let i=Y();return te(i.mudarAba("login"))}),B(2,"Login"),M(),N(3,"button",41),le("click",function(){ee(t);let i=Y();return te(i.mudarAba("cadastro"))}),B(4,"Cadastro"),M(),Bi()}}function Eie(n,e){if(n&1){let t=ht();N(0,"div",42)(1,"span",43),B(2),M(),N(3,"button",44),le("click",function(){ee(t);let i=Y();return te(i.sair())}),de(4,"i",45),M()()}if(n&2){let t=Y();V(),Rt("text-dark",t.temaClaro)("text-white",!t.temaClaro),V(),an(t.usuarioLogado.nome),V(2),tc("color",t.corBotaoSair)}}function wie(n,e){if(n&1){let t=ht();N(0,"button",19),le("click",function(){ee(t);let i=Y();return te(i.mudarAba("cadastrar"))}),de(1,"i",46),B(2),M()}if(n&2){let t=Y();Rt("active",t.aba==="cadastrar"),V(2),Gt(" ",t.modoEdicao?"Editando":"Nova Tarefa"," ")}}function Iie(n,e){if(n&1){let t=ht();N(0,"div",47)(1,"button",19),le("click",function(){ee(t);let i=Y();return te(i.mudarAba("concluidas"))}),de(2,"i",48),B(3," Conclu\xEDdas "),M(),N(4,"button",19),le("click",function(){ee(t);let i=Y();return te(i.mudarAba("abertas"))}),de(5,"i",49),B(6," Abertas "),M()()}if(n&2){let t=Y();V(),Rt("active",t.aba==="concluidas"),V(3),Rt("active",t.aba==="abertas")}}function Cie(n,e){if(n&1){let t=ht();N(0,"button",19),le("click",function(){ee(t);let i=Y();return te(i.mudarAba("categorias"))}),de(1,"i",50),B(2," Categorias "),M()}if(n&2){let t=Y();Rt("active",t.aba==="categorias")}}function Tie(n,e){n&1&&(ji(0),N(1,"div",51),B(2,"Fa\xE7a login para salvar"),M(),Bi())}function Die(n,e){n&1&&(N(0,"div",66),de(1,"i",67),N(2,"strong"),B(3,"Conta exclu\xEDda com sucesso!"),M(),de(4,"br"),B(5," Todos os seus dados foram removidos do nosso sistema. "),M())}function Sie(n,e){n&1&&(N(0,"div",68),B(1,"Email incorreto ou n\xE3o encontrado"),M())}function Aie(n,e){n&1&&de(0,"i",69)}function xie(n,e){n&1&&de(0,"i",70)}function Mie(n,e){n&1&&(N(0,"div",68),B(1,"Senha incorreta"),M())}function Rie(n,e){if(n&1){let t=ht();N(0,"section",52)(1,"form",53),le("ngSubmit",function(){ee(t);let i=Y();return te(i.login())}),N(2,"h4",54),B(3,"Login"),M(),pe(4,Die,6,0,"div",55),N(5,"label",56),B(6,"Email"),M(),N(7,"input",57),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.loginEmail,i)||(o.loginEmail=i),te(i)}),M(),pe(8,Sie,2,0,"div",58),N(9,"div",59)(10,"label",60),B(11,"Senha"),M(),N(12,"input",61),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.loginSenha,i)||(o.loginSenha=i),te(i)}),M(),N(13,"button",62),le("click",function(){ee(t);let i=Y();return te(i.alternarVisibilidadeSenha("login"))}),pe(14,Aie,1,0,"i",63)(15,xie,1,0,"i",64),M()(),pe(16,Mie,2,0,"div",58),N(17,"button",65),B(18),M()()()}if(n&2){let t=Y();V(4),K("ngIf",t.contaExcluidaSucesso&&t.aba==="login"),V(3),ft("ngModel",t.loginEmail),V(),K("ngIf",t.erroLoginEmail),V(4),K("type",t.mostrarSenhaLogin?"text":"password"),ft("ngModel",t.loginSenha),V(),pn("aria-label",t.mostrarSenhaLogin?"Ocultar Senha":"Mostrar Senha")("aria-expanded",t.mostrarSenhaLogin),V(),K("ngIf",!t.mostrarSenhaLogin),V(),K("ngIf",t.mostrarSenhaLogin),V(),K("ngIf",t.erroLoginSenha),V(),K("disabled",t.isLoading),V(),Gt(" ",t.isLoading?"Entrando...":"Entrar"," ")}}function Pie(n,e){n&1&&(N(0,"div",88),B(1,"Nome obrigat\xF3rio"),M())}function kie(n,e){n&1&&(N(0,"div",88),B(1,"Sobrenome obrigat\xF3rio"),M())}function Nie(n,e){n&1&&(N(0,"div",88),B(1,"Idade inv\xE1lida"),M())}function Oie(n,e){n&1&&(N(0,"div",88),B(1,"Email inv\xE1lido"),M())}function Fie(n,e){n&1&&(N(0,"div",89),B(1,"Email j\xE1 cadastrado "),M())}function Lie(n,e){n&1&&de(0,"i",69)}function Vie(n,e){n&1&&de(0,"i",70)}function jie(n,e){n&1&&(N(0,"div",88),B(1,"Senha inv\xE1lida (m\xEDnimo 6 caracteres)"),M())}function Bie(n,e){n&1&&de(0,"span",90)}function Uie(n,e){if(n&1){let t=ht();N(0,"section",71)(1,"form",53,1),le("ngSubmit",function(){ee(t);let i=Y();return te(i.salvarUsuario())}),N(3,"h4",54),B(4,"Cadastro"),M(),N(5,"div",72)(6,"label",73),B(7,"Nome"),M(),N(8,"input",74),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.usuario.nome,i)||(o.usuario.nome=i),te(i)}),M(),pe(9,Pie,2,0,"div",75),M(),N(10,"div",72)(11,"label",76),B(12,"Sobrenome"),M(),N(13,"input",77),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.usuario.sobrenome,i)||(o.usuario.sobrenome=i),te(i)}),M(),pe(14,kie,2,0,"div",75),M(),N(15,"div",72)(16,"label",78),B(17,"Idade"),M(),N(18,"input",79),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.usuario.idade,i)||(o.usuario.idade=i),te(i)}),M(),pe(19,Nie,2,0,"div",75),M(),N(20,"div",72)(21,"label",80),B(22,"Email"),M(),N(23,"input",81),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.usuario.email,i)||(o.usuario.email=i),te(i)}),M(),pe(24,Oie,2,0,"div",75)(25,Fie,2,0,"div",82),M(),N(26,"div",83)(27,"div",59)(28,"label",84),B(29,"Senha (min 6)"),M(),N(30,"input",85),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.usuario.senha,i)||(o.usuario.senha=i),te(i)}),M(),N(31,"button",62),le("click",function(){ee(t);let i=Y();return te(i.alternarVisibilidadeSenha("cadastro"))}),pe(32,Lie,1,0,"i",63)(33,Vie,1,0,"i",64),M()(),pe(34,jie,2,0,"div",75),M(),N(35,"button",86),pe(36,Bie,1,0,"span",87),B(37),M()()()}if(n&2){let t=Y();V(8),ft("ngModel",t.usuario.nome),V(),K("ngIf",t.erroNome),V(4),ft("ngModel",t.usuario.sobrenome),V(),K("ngIf",t.erroSobrenome),V(4),ft("ngModel",t.usuario.idade),V(),K("ngIf",t.erroIdade),V(4),ft("ngModel",t.usuario.email),V(),K("ngIf",t.erroEmail),V(),K("ngIf",t.erroEmailExistente),V(5),K("type",t.mostrarSenhaCadastro?"text":"password"),ft("ngModel",t.usuario.senha),V(),pn("aria-label",t.mostrarSenhaCadastro?"Ocultar Senha":"Mostrar Senha")("aria-expanded",t.mostrarSenhaCadastro),V(),K("ngIf",!t.mostrarSenhaCadastro),V(),K("ngIf",t.mostrarSenhaCadastro),V(),K("ngIf",t.erroCadastroSenha),V(),K("disabled",t.isLoading),V(),K("ngIf",t.isLoading),V(),Gt(" ",t.isLoading?"Cadastrando...":"Cadastrar"," ")}}function Hie(n,e){if(n&1&&(N(0,"small",124),B(1),M()),n&2){let t=Y(2);V(),an(t.msgSucessoPerfil)}}function $ie(n,e){if(n&1&&(N(0,"small",125),B(1),M()),n&2){let t=Y(2);V(),an(t.msgErroPerfil)}}function zie(n,e){if(n&1&&(N(0,"small",125),B(1),M()),n&2){let t=Y(2);V(),an(t.msgErroReautenticacao)}}function Wie(n,e){n&1&&(N(0,"small",126),B(1," O campo Nome n\xE3o pode ficar em branco. "),M())}function qie(n,e){n&1&&(N(0,"small",126),B(1," O campo Sobrenome n\xE3o pode ficar em branco. "),M())}function Gie(n,e){if(n&1&&(N(0,"small",124),B(1),M()),n&2){let t=Y(2);V(),an(t.msgSucessoLogin)}}function Yie(n,e){n&1&&(N(0,"small",126),B(1," O novo e-mail deve ser v\xE1lido (conter @). "),M())}function Kie(n,e){n&1&&de(0,"i",69)}function Qie(n,e){n&1&&de(0,"i",70)}function Zie(n,e){n&1&&(N(0,"small",126),B(1," A senha deve ter no m\xEDnimo 6 caracteres. "),M())}function Xie(n,e){n&1&&(N(0,"small",126),B(1," A nova senha n\xE3o pode ser igual \xE0 senha atual. "),M())}function Jie(n,e){n&1&&de(0,"i",69)}function eoe(n,e){n&1&&de(0,"i",70)}function toe(n,e){n&1&&(N(0,"small",126),B(1," As senhas n\xE3o conferem. "),M())}function noe(n,e){n&1&&de(0,"i",69)}function roe(n,e){n&1&&de(0,"i",70)}function ioe(n,e){if(n&1&&(N(0,"small",126),B(1),M()),n&2){let t=Y(2);V(),Gt(" ",t.msgErroReautenticacao," ")}}function ooe(n,e){n&1&&de(0,"div",127)}function soe(n,e){if(n&1){let t=ht();ji(0),N(1,"h3",130),B(2,"\u26A0\uFE0F Aten\xE7\xE3o"),M(),N(3,"p"),B(4,"N\xE3o encontramos nenhuma tarefa conclu\xEDda para apagar!"),M(),N(5,"p",28),B(6,"Conclua algumas tarefas e tente novamente."),M(),N(7,"button",131),le("click",function(){ee(t);let i=Y(3);return te(i.fecharModalLimpeza())}),B(8," Entendi "),M(),Bi()}}function aoe(n,e){if(n&1){let t=ht();ji(0),N(1,"h3",130),B(2,"Confirma\xE7\xE3o de Limpeza"),M(),N(3,"p"),B(4,"Tem certeza que deseja apagar "),N(5,"strong"),B(6,"TODAS"),M(),B(7," as tarefas conclu\xEDdas?"),M(),N(8,"p",132),B(9,"Esta a\xE7\xE3o \xE9 irrevers\xEDvel e os dados ser\xE3o removidos permanentemente."),M(),N(10,"button",133),le("click",function(){ee(t);let i=Y(3);return te(i.executarLimpeza())}),B(11," Sim, Apagar Agora "),M(),N(12,"button",134),le("click",function(){ee(t);let i=Y(3);return te(i.fecharModalLimpeza())}),B(13," Cancelar "),M(),Bi()}}function coe(n,e){if(n&1&&(N(0,"li")(1,"small"),B(2),M()()),n&2){let t=e.$implicit;V(2),Gt("\u{1F5D1}\uFE0F ",t.nome)}}function loe(n,e){if(n&1){let t=ht();ji(0),N(1,"h3",130),B(2,"\u2705 Limpeza Conclu\xEDda!"),M(),N(3,"p"),B(4),M(),N(5,"h5",135),B(6,"Tarefas Removidas:"),M(),N(7,"div",136)(8,"ul",137),pe(9,coe,3,1,"li",138),M()(),N(10,"button",139),le("click",function(){ee(t);let i=Y(3);return te(i.fecharModalLimpeza())}),B(11," Fechar "),M(),Bi()}if(n&2){let t=Y(3);V(4),Gt("",t.limpezaContador," tarefa(s) conclu\xEDda(s) foram apagadas com sucesso."),V(5),K("ngForOf",t.tarefasExcluidas)}}function uoe(n,e){if(n&1&&(N(0,"div",128)(1,"div",129),pe(2,soe,9,0,"ng-container",26)(3,aoe,14,0,"ng-container",26)(4,loe,12,2,"ng-container",26),M()()),n&2){let t=Y(2);V(2),K("ngIf",t.alertaLimpezaVazia),V(),K("ngIf",!t.alertaLimpezaVazia&&t.limpezaContador===0),V(),K("ngIf",t.limpezaContador>0)}}function doe(n,e){n&1&&de(0,"div",127)}function hoe(n,e){if(n&1&&(N(0,"small",126),B(1),M()),n&2){let t=Y(4);V(),an(t.erroExcluirConta)}}function foe(n,e){if(n&1){let t=ht();ji(0),N(1,"h3",142),B(2,"Excluir Conta"),M(),N(3,"p"),B(4,"Esta a\xE7\xE3o \xE9 "),N(5,"b"),B(6,"permanente"),M(),B(7,". Todos os seus dados e tarefas ser\xE3o apagados para sempre."),M(),N(8,"div",143)(9,"label",144),B(10,"Confirme sua senha para prosseguir:"),M(),N(11,"input",145),pt("ngModelChange",function(i){ee(t);let o=Y(3);return _t(o.senhaParaExcluir,i)||(o.senhaParaExcluir=i),te(i)}),M(),pe(12,hoe,2,1,"small",103),M(),N(13,"div",146)(14,"button",147),le("click",function(){ee(t);let i=Y(3);return te(i.confirmarExclusaoConta())}),B(15),M(),N(16,"button",134),le("click",function(){ee(t);let i=Y(3);return te(i.mostrarModalExcluirConta=!1)}),B(17," Cancelar "),M()(),Bi()}if(n&2){let t=Y(3);V(11),ft("ngModel",t.senhaParaExcluir),V(),K("ngIf",t.erroExcluirConta),V(2),K("disabled",t.deletandoConta),V(),Gt(" ",t.deletandoConta?"Excluindo...":"Excluir Conta"," ")}}function poe(n,e){if(n&1){let t=ht();ji(0),N(1,"h3",148),B(2,"Conta Exclu\xEDda"),M(),N(3,"p"),B(4,"Sua conta e todos os seus dados foram removidos com sucesso do nosso sistema."),M(),N(5,"p"),B(6,"Esperamos ver voc\xEA de volta em breve!"),M(),N(7,"button",149),le("click",function(){ee(t);let i=Y(3);return te(i.irParaLogin())}),B(8," Voltar para o Login "),M(),Bi()}}function goe(n,e){if(n&1&&(N(0,"div",140)(1,"div",141),pe(2,foe,18,4,"ng-container",26)(3,poe,9,0,"ng-container",26),M()()),n&2){let t=Y(2);V(2),K("ngIf",!t.contaExcluidaSucesso),V(),K("ngIf",t.contaExcluidaSucesso)}}function moe(n,e){if(n&1){let t=ht();N(0,"section",91)(1,"div",92)(2,"h2",93),B(3,"Configura\xE7\xF5es"),M(),pe(4,Hie,2,1,"small",94)(5,$ie,2,1,"small",95)(6,zie,2,1,"small",95),N(7,"button",96),le("click",function(){ee(t);let i=Y();return te(i.toggleEdicaoPerfil())}),B(8," Gerenciamento do Perfil "),M(),N(9,"div",97),de(10,"hr",98),N(11,"form",99),le("ngSubmit",function(){ee(t);let i=Y();return te(i.salvarAlteracoesPerfil())}),N(12,"div",100)(13,"label",101),B(14,"Nome:"),M(),N(15,"input",102),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.perfil.nome,i)||(o.perfil.nome=i),te(i)}),M(),pe(16,Wie,2,0,"small",103),M(),N(17,"div",100)(18,"label",104),B(19,"Sobrenome:"),M(),N(20,"input",105),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.perfil.sobrenome,i)||(o.perfil.sobrenome=i),te(i)}),M(),pe(21,qie,2,0,"small",103),M(),N(22,"button",106),B(23,"Salvar Perfil"),M(),de(24,"hr",107),M()(),N(25,"button",108),le("click",function(){ee(t);let i=Y();return te(i.toggleAlteracaoLogin())}),B(26," Alterar Login (E-mail e Senha) "),M(),N(27,"div",109),de(28,"hr",98),N(29,"form",99),le("ngSubmit",function(){ee(t);let i=Y();return te(i.alterarLogin())}),pe(30,Gie,2,1,"small",94),N(31,"div",100)(32,"label",110),B(33,"Novo E-mail:"),M(),N(34,"input",111),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novoEmail,i)||(o.novoEmail=i),te(i)}),M(),pe(35,Yie,2,0,"small",103),M(),de(36,"hr"),N(37,"div",100)(38,"label",112),B(39,"Nova Senha:"),M(),N(40,"div",59)(41,"input",113),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novaSenha,i)||(o.novaSenha=i),te(i)}),M(),N(42,"button",62),le("click",function(){ee(t);let i=Y();return te(i.alternarVisibilidadeSenha("alterar"))}),pe(43,Kie,1,0,"i",63)(44,Qie,1,0,"i",64),M()(),pe(45,Zie,2,0,"small",103)(46,Xie,2,0,"small",103),M(),N(47,"div",100)(48,"label",114),B(49,"Confirme a Nova Senha:"),M(),N(50,"div",59)(51,"input",115),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.confirmaNovaSenha,i)||(o.confirmaNovaSenha=i),te(i)}),M(),N(52,"button",62),le("click",function(){ee(t);let i=Y();return te(i.alternarVisibilidadeSenha("confirmarAlterar"))}),pe(53,Jie,1,0,"i",63)(54,eoe,1,0,"i",64),M()(),pe(55,toe,2,0,"small",103),M(),de(56,"hr",107),N(57,"div",100)(58,"label",116),B(59,"Confirme sua "),N(60,"strong"),B(61,"Senha Atual"),M(),B(62,":"),M(),N(63,"div",59)(64,"input",117),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.perfil.senhaAtual,i)||(o.perfil.senhaAtual=i),te(i)}),M(),N(65,"button",62),le("click",function(){ee(t);let i=Y();return te(i.alternarVisibilidadeSenha("confirmacao"))}),pe(66,noe,1,0,"i",63)(67,roe,1,0,"i",64),M()(),pe(68,ioe,2,1,"small",103),M(),N(69,"button",118),B(70,"Atualizar Login"),M()()(),de(71,"hr",107),N(72,"button",119),le("click",function(){ee(t);let i=Y();return te(i.abrirModalLimpeza())}),B(73,"Limpar Tarefas Conclu\xEDdas"),M(),pe(74,ooe,1,0,"div",37)(75,uoe,5,3,"div",120),N(76,"button",121),le("click",function(){ee(t);let i=Y();return te(i.alternarTema())}),B(77),M(),de(78,"hr",107),N(79,"button",121),le("click",function(){ee(t);let i=Y();return te(i.sair())}),B(80,"Sair"),M(),N(81,"button",122),le("click",function(){ee(t);let i=Y();return te(i.abrirModalExcluir())}),B(82,"Excluir Minha Conta"),M(),pe(83,doe,1,0,"div",37)(84,goe,4,2,"div",123),M()()}if(n&2){let t=Y();V(4),K("ngIf",t.msgSucessoPerfil),V(),K("ngIf",t.msgErroPerfil),V(),K("ngIf",t.msgErroReautenticacao),V(),pn("aria-expanded",t.mostrarEdicaoPerfil),V(2),K("ngClass",dh(43,TU,!t.mostrarEdicaoPerfil,t.mostrarEdicaoPerfil)),V(6),ft("ngModel",t.perfil.nome),V(),K("ngIf",t.erroNomeObrigatorio),V(4),ft("ngModel",t.perfil.sobrenome),V(),K("ngIf",t.erroSobrenomeObrigatorio),V(4),pn("aria-expanded",t.mostrarAlteracaoLogin),V(2),K("ngClass",dh(46,TU,!t.mostrarAlteracaoLogin,t.mostrarAlteracaoLogin)),V(3),K("ngIf",t.msgSucessoLogin),V(4),K("placeholder",Sw(t.perfil.email)),ft("ngModel",t.novoEmail),V(),K("ngIf",t.erroLoginEmailInvalido),V(6),ft("ngModel",t.novaSenha),K("type",t.mostrarSenhaAlterar?"text":"password"),V(),pn("aria-label",t.mostrarSenhaAlterar?"Ocultar Senha":"Mostrar Senha")("aria-expanded",t.mostrarSenhaAlterar),V(),K("ngIf",!t.mostrarSenhaAlterar),V(),K("ngIf",t.mostrarSenhaAlterar),V(),K("ngIf",t.erroLoginSenhaPequena),V(),K("ngIf",t.erroLoginSenhaIgualAtual),V(5),ft("ngModel",t.confirmaNovaSenha),K("type",t.mostrarSenhaConfirmarAlterar?"text":"password"),V(),pn("aria-label",t.mostrarSenhaConfirmarAlterar?"Ocultar Senha":"Mostrar Senha")("aria-expanded",t.mostrarSenhaConfirmarAlterar),V(),K("ngIf",!t.mostrarSenhaConfirmarAlterar),V(),K("ngIf",t.mostrarSenhaConfirmarAlterar),V(),K("ngIf",t.erroLoginSenhasDiferentes),V(9),ft("ngModel",t.perfil.senhaAtual),K("type",t.mostrarSenhaConfirmacao?"text":"password"),V(),pn("aria-label",t.mostrarSenhaConfirmacao?"Ocultar Senha":"Mostrar Senha")("aria-expanded",t.mostrarSenhaConfirmacao),V(),K("ngIf",!t.mostrarSenhaConfirmacao),V(),K("ngIf",t.mostrarSenhaConfirmacao),V(),K("ngIf",t.erroLoginSenhaAtualIncorreta),V(6),K("ngIf",t.mostrarModalLimpeza),V(),K("ngIf",t.mostrarModalLimpeza),V(2),Gt("Tema: ",t.temaClaro?"Claro":"Escuro"),V(6),K("ngIf",t.mostrarModalExcluirConta),V(),K("ngIf",t.mostrarModalExcluirConta)}}function yoe(n,e){if(n&1){let t=ht();N(0,"div",155)(1,"button",156),le("click",function(){let i=ee(t).$implicit,o=Y(2);return te(o.mudarTopicoAjuda(i.id))}),N(2,"span",157),de(3,"i",23),B(4),M(),de(5,"i",158),M(),de(6,"div",159),M()}if(n&2){let t=e.$implicit,r=Y(2);V(),Rt("active",t.id===r.topicoAjudaAtivo),pn("aria-expanded",t.id===r.topicoAjudaAtivo)("aria-controls","tutorial-content-"+t.id),V(3),Gt(" ",t.pergunta),V(),K("ngClass",dh(12,_ie,t.id!==r.topicoAjudaAtivo,t.id===r.topicoAjudaAtivo)),V(),Rt("open",t.id===r.topicoAjudaAtivo)("show",t.id===r.topicoAjudaAtivo),K("id","tutorial-content-"+t.id)("innerHTML",t.conteudo,rw)}}function _oe(n,e){if(n&1&&(N(0,"section",150)(1,"div",151)(2,"h4",152),B(3," Guia de Uso "),M(),N(4,"div",153),pe(5,yoe,7,15,"div",154),M()()()),n&2){let t=Y();V(2),Rt("border-bottom",!t.temaClaro)("border-bottom-light",t.temaClaro),V(3),K("ngForOf",t.duvidas)}}function voe(n,e){n&1&&(N(0,"span"),B(1,"T\xEDtulo obrigat\xF3rio."),M())}function boe(n,e){n&1&&(N(0,"span"),B(1,"M\xEDnimo 3 caracteres."),M())}function Eoe(n,e){if(n&1&&(N(0,"div",68),pe(1,voe,2,0,"span",26)(2,boe,2,0,"span",26),M()),n&2){Y();let t=Rs(8);V(),K("ngIf",t.errors==null?null:t.errors.required),V(),K("ngIf",t.errors==null?null:t.errors.minlength)}}function woe(n,e){n&1&&(N(0,"div",68),B(1,"Data obrigat\xF3ria"),M())}function Ioe(n,e){if(n&1&&(N(0,"option",181),B(1),M()),n&2){let t=e.$implicit;K("value",t.nome),V(),an(t.nome)}}function Coe(n,e){if(n&1){let t=ht();N(0,"button",182),le("click",function(){ee(t);let i=Y(2);return te(i.cancelarEdicao())}),B(1," Cancelar Edi\xE7\xE3o "),M()}}function Toe(n,e){n&1&&(N(0,"div",183),B(1," Tarefa salva! "),M())}function Doe(n,e){if(n&1){let t=ht();N(0,"section",160)(1,"form",53,2),le("ngSubmit",function(){ee(t);let i=Rs(2),o=Y();return te(o.modoEdicao?o.solicitarConfirmacaoEdicao(i):o.adicionarTarefa(i))}),N(3,"h4",54),B(4),M(),N(5,"label",161),B(6,"T\xEDtulo *"),M(),N(7,"input",162,3),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novaTarefa.titulo,i)||(o.novaTarefa.titulo=i),te(i)}),M(),pe(9,Eoe,3,2,"div",58),N(10,"label",163),B(11,"Descri\xE7\xE3o"),M(),N(12,"textarea",164),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novaTarefa.descricao,i)||(o.novaTarefa.descricao=i),te(i)}),M(),N(13,"label",165),B(14,"Data *"),M(),N(15,"input",166,4),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novaTarefa.data,i)||(o.novaTarefa.data=i),te(i)}),M(),pe(17,woe,2,0,"div",58),N(18,"div",167)(19,"div",168)(20,"label",169),B(21,"Prioridade"),M(),N(22,"select",170),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novaTarefa.prioridade,i)||(o.novaTarefa.prioridade=i),te(i)}),N(23,"option",171),B(24,"Baixa"),M(),N(25,"option",172),B(26,"M\xE9dia"),M(),N(27,"option",173),B(28,"Alta"),M()()(),N(29,"div",168)(30,"label",174),B(31,"Categoria"),M(),N(32,"select",175),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novaTarefa.categoria,i)||(o.novaTarefa.categoria=i),te(i)}),N(33,"option",176),B(34,"Sem categoria"),M(),pe(35,Ioe,2,2,"option",177),M()()(),N(36,"button",178),B(37),M(),pe(38,Coe,2,0,"button",179)(39,Toe,2,0,"div",180),M()()}if(n&2){let t=Rs(2),r=Rs(8),i=Rs(16),o=Y();V(4),an(o.modoEdicao?"Editar Tarefa":"Nova Tarefa"),V(3),ft("ngModel",o.novaTarefa.titulo),V(2),K("ngIf",r.invalid&&(r.dirty||r.touched||t.submitted)),V(3),ft("ngModel",o.novaTarefa.descricao),V(3),ft("ngModel",o.novaTarefa.data),pn("min",o.hoje),V(2),K("ngIf",i.invalid&&t.submitted),V(5),ft("ngModel",o.novaTarefa.prioridade),V(10),ft("ngModel",o.novaTarefa.categoria),V(3),K("ngForOf",o.categorias),V(2),Gt(" ",o.modoEdicao?"Salvar Altera\xE7\xF5es":"Salvar"," "),V(),K("ngIf",o.modoEdicao),V(),K("ngIf",o.alertTarefaSalva)}}function Soe(n,e){n&1&&(N(0,"div",68),B(1,"Digite um nome"),M())}function Aoe(n,e){if(n&1){let t=ht();N(0,"button",197),le("click",function(){ee(t);let i=Y(2);return te(i.cancelarEdicaoCategoria())}),B(1," Cancelar Edi\xE7\xE3o "),M()}}function xoe(n,e){n&1&&(N(0,"div",198),B(1," Nenhuma categoria "),M())}function Moe(n,e){if(n&1){let t=ht();N(0,"div",199)(1,"div",42),de(2,"div",200),N(3,"span",157),B(4),M()(),N(5,"div",201)(6,"button",202),le("click",function(){let i=ee(t).$implicit,o=Y(2);return te(o.ativarEdicaoCategoria(i))}),de(7,"i",203),M(),N(8,"button",204),le("click",function(){let i=ee(t).$implicit,o=Y(2);return te(o.excluirCategoria(i))}),de(9,"i",205),M()()()}if(n&2){let t=e.$implicit,r=Y(2);tc("border-left","4px solid "+t.cor),V(2),tc("background-color",t.cor),V(2),an(t.nome),V(2),ec("aria-label",Ul("Editar categoria ",t.nome)),K("disabled",r.modoEdicaoCategoria),V(2),ec("aria-label",Ul("Excluir categoria ",t.nome)),K("disabled",r.modoEdicaoCategoria)}}function Roe(n,e){if(n&1&&(N(0,"div",206),de(1,"i",207),B(2),M()),n&2){let t=Y(2);V(2),Gt(" ",t.erroExclusaoCategoria," ")}}function Poe(n,e){if(n&1){let t=ht();N(0,"section",184)(1,"div",185)(2,"h4",54),B(3,"Gerenciar Categorias"),M(),N(4,"div",83)(5,"h5",186),B(6),M(),N(7,"label",187),B(8,"Nome da Categoria"),M(),N(9,"input",188),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novaCategoria.nome,i)||(o.novaCategoria.nome=i),te(i)}),M(),pe(10,Soe,2,0,"div",58),N(11,"label",189),B(12,"Cor da Etiqueta"),M(),N(13,"input",190),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.novaCategoria.cor,i)||(o.novaCategoria.cor=i),te(i)}),M(),N(14,"button",191),le("click",function(){ee(t);let i=Y();return te(i.adicionarCategoria())}),B(15),M(),pe(16,Aoe,2,0,"button",192),M(),de(17,"hr"),N(18,"h5",54),B(19,"Categorias Atuais"),M(),pe(20,xoe,2,0,"div",193),N(21,"div",194),pe(22,Moe,10,11,"div",195),M(),pe(23,Roe,3,1,"div",196),M()()}if(n&2){let t=Y();V(6),Gt(" ",t.modoEdicaoCategoria?"Editar Categoria":"Nova Categoria"," "),V(3),ft("ngModel",t.novaCategoria.nome),V(),K("ngIf",t.erroNomeCategoria),V(3),ft("ngModel",t.novaCategoria.cor),V(2),Gt(" ",t.modoEdicaoCategoria?"Salvar Altera\xE7\xF5es":"Adicionar"," "),V(),K("ngIf",t.modoEdicaoCategoria),V(4),K("ngIf",t.categorias.length===0),V(2),K("ngForOf",t.categorias),V(),K("ngIf",t.categoriaSendoUsada)}}function koe(n,e){if(n&1){let t=ht();N(0,"button",234),le("click",function(){ee(t);let i=Y(2);return i.termoPesquisa="",te(i.tarefasFiltradas())}),de(1,"i",235),M()}}function Noe(n,e){if(n&1&&(N(0,"option",181),B(1),M()),n&2){let t=e.$implicit;K("value",t.nome),V(),an(t.nome)}}function Ooe(n,e){if(n&1&&(N(0,"span",251),B(1),M()),n&2){let t=Y().$implicit,r=Y(2);tc("background-color",r.obterCorCategoria(t.categoria))("color",r.obtendoCorTextoConstraste(r.obterCorCategoria(t.categoria))),V(),Gt(" ",t.categoria," ")}}function Foe(n,e){n&1&&(N(0,"span",28),B(1,"-"),M())}function Loe(n,e){if(n&1){let t=ht();N(0,"tr")(1,"td",236),B(2),Hl(3,"titlecase"),M(),N(4,"td",237),B(5),M(),N(6,"td",238)(7,"span",239),Hl(8,"titlecase"),B(9),Hl(10,"titlecase"),M()(),N(11,"td",240),pe(12,Ooe,2,5,"span",241)(13,Foe,2,0,"span",242),M(),N(14,"td",243),B(15),Hl(16,"date"),M(),N(17,"td",244)(18,"div",245)(19,"input",246),le("change",function(){let i=ee(t).$implicit,o=Y(2);return te(o.alternarStatus(i))}),M(),N(20,"span"),B(21),M()()(),N(22,"td",247)(23,"div",248)(24,"button",249),le("click",function(){let i=ee(t).$implicit,o=Y(2);return te(o.editarTarefa(i))}),de(25,"i",203),M(),N(26,"button",250),le("click",function(){let i=ee(t).$implicit,o=Y(2);return te(o.confirmarExclusao(i))}),de(27,"i",205),M()()()()}if(n&2){let t=e.$implicit;V(),Rt("ok",t.concluida),V(),an(hh(3,19,t.titulo)),V(2),Rt("ok",t.concluida),V(),Gt(" ",t.descricao||"-"," "),V(2),K("ngClass",Aw(29,vie,t.prioridade==="baixa",t.prioridade==="media",t.prioridade==="alta")),pn("aria-label","Prioridade: "+hh(8,21,t.prioridade)),V(2),Gt(" ",hh(10,23,t.prioridade)," "),V(3),K("ngIf",t.categoria),V(),K("ngIf",!t.categoria),V(2),an(Mw(16,25,t.data,"dd/MM/yyyy","+0000")),V(4),K("checked",t.concluida),pn("aria-label","Marcar como "+(t.concluida?"pendente":"conclu\xEDda")+": "+t.titulo),V(2),an(t.concluida?"Conclu\xEDda":"Pendente"),V(3),ec("aria-label",Ul("Editar tarefa ",t.titulo)),V(2),ec("aria-label",Ul("Excluir tarefa ",t.titulo))}}function Voe(n,e){n&1&&(N(0,"tr")(1,"td",252),de(2,"i",253),B(3," Nenhuma tarefa encontrada nesta visualiza\xE7\xE3o. "),M()())}function joe(n,e){if(n&1){let t=ht();N(0,"section",208)(1,"div",209)(2,"h5",83),de(3,"i",210),B(4," Filtros e Pesquisa"),M(),N(5,"div",211)(6,"label",212),B(7,"Pesquisar T\xEDtulo/Descri\xE7\xE3o"),M(),N(8,"div",213)(9,"span",214),de(10,"i",215),M(),N(11,"input",216),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.termoPesquisa,i)||(o.termoPesquisa=i),te(i)}),le("ngModelChange",function(){ee(t);let i=Y();return te(i.tarefasFiltradas())}),M(),pe(12,koe,2,0,"button",217),M()(),N(13,"div",218)(14,"div",219)(15,"label",220),B(16,"Data de Vencimento"),M(),N(17,"input",221),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.filtroData,i)||(o.filtroData=i),te(i)}),le("ngModelChange",function(){ee(t);let i=Y();return te(i.tarefasFiltradas())}),M()(),N(18,"div",222)(19,"label",223),B(20,"Prioridade"),M(),N(21,"select",224),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.filtroPrioridade,i)||(o.filtroPrioridade=i),te(i)}),le("ngModelChange",function(){ee(t);let i=Y();return te(i.tarefasFiltradas())}),N(22,"option",176),B(23,"Todas as Prioridades"),M(),N(24,"option",171),B(25,"Baixa"),M(),N(26,"option",172),B(27,"M\xE9dia"),M(),N(28,"option",173),B(29,"Alta"),M()()(),N(30,"div",225)(31,"label",226),B(32,"Categoria"),M(),N(33,"select",227),pt("ngModelChange",function(i){ee(t);let o=Y();return _t(o.filtroCategoria,i)||(o.filtroCategoria=i),te(i)}),le("ngModelChange",function(){ee(t);let i=Y();return te(i.tarefasFiltradas())}),N(34,"option",176),B(35,"Todas as Categorias"),M(),pe(36,Noe,2,2,"option",177),M()()(),N(37,"div",228)(38,"button",229),le("click",function(){ee(t);let i=Y();return te(i.limparTodosFiltros())}),de(39,"i",230),B(40," Limpar Filtros "),M()()(),N(41,"table",231)(42,"thead")(43,"tr")(44,"th",232),B(45,"T\xEDtulo"),M(),N(46,"th",232),B(47,"Descri\xE7\xE3o"),M(),N(48,"th",232),B(49,"Prioridade"),M(),N(50,"th",232),B(51,"Categoria"),M(),N(52,"th",232),B(53,"Data"),M(),N(54,"th",232),B(55,"Status"),M(),N(56,"th",233),B(57,"A\xE7\xF5es"),M()()(),N(58,"tbody"),pe(59,Loe,28,33,"tr",138)(60,Voe,4,0,"tr",26),M()()()}if(n&2){let t=Y();V(),Rt("bg-dark",!t.temaClaro)("border-0",!t.temaClaro),V(10),ft("ngModel",t.termoPesquisa),V(),K("ngIf",t.termoPesquisa),V(5),ft("ngModel",t.filtroData),V(4),ft("ngModel",t.filtroPrioridade),V(12),ft("ngModel",t.filtroCategoria),V(3),K("ngForOf",t.categorias),V(5),Rt("table-dark",!t.temaClaro),V(18),K("ngForOf",t.tarefasFiltradas()),V(),K("ngIf",t.tarefasFiltradas().length===0)}}function Boe(n,e){n&1&&de(0,"div",127)}function Uoe(n,e){if(n&1){let t=ht();N(0,"div",254)(1,"p",255),B(2,"Confirmar altera\xE7\xF5es na tarefa "),N(3,"b"),B(4),M(),B(5,"?"),M(),N(6,"div",201)(7,"button",256),le("click",function(){ee(t);let i=Y();return te(i.confirmarEdicao())}),B(8,"Confirmar"),M(),N(9,"button",257),le("click",function(){ee(t);let i=Y();return te(i.cancelarConfirmacaoEdicao())}),B(10,"Cancelar"),M()()()}if(n&2){let t=Y();V(4),an(t.tarefaConfirmacaoEdicao.titulo)}}function Hoe(n,e){n&1&&de(0,"div",127)}function $oe(n,e){if(n&1){let t=ht();N(0,"div",258)(1,"p",259),B(2,"Excluir "),N(3,"b"),B(4),M(),B(5,"?"),M(),N(6,"div",201)(7,"button",260),le("click",function(){ee(t);let i=Y();return te(i.excluirDefinitivo())}),B(8,"Excluir"),M(),N(9,"button",257),le("click",function(){ee(t);let i=Y();return te(i.cancelarExclusao())}),B(10,"Cancelar"),M()()()}if(n&2){let t=Y();V(4),an(t.tarefaSelecionadaParaExcluir.titulo)}}function zoe(n,e){n&1&&de(0,"div",127)}function Woe(n,e){if(n&1){let t=ht();N(0,"div",261)(1,"p",262),B(2,"Excluir categoria "),N(3,"b"),B(4),M(),B(5,"?"),M(),N(6,"div",201)(7,"button",260),le("click",function(){ee(t);let i=Y();return te(i.confirmarExclusaoCategoria())}),B(8,"Excluir"),M(),N(9,"button",257),le("click",function(){ee(t);let i=Y();return te(i.cancelarExclusaoCategoria())}),B(10,"Cancelar"),M()()()}if(n&2){let t=Y();V(4),an(t.categoriaSelecionadaParaExcluir.nome)}}op.register(...IU);var f0=class n{constructor(e,t,r,i,o,s){this.auth=e;this.firestore=t;this.zone=r;this.cdr=i;this.router=o;this.route=s;this.carregarTema(),document.body.classList.toggle("tema-claro",this.temaClaro),this.route.queryParams.subscribe(a=>{a.excluido==="true"&&this.zone.run(()=>{this.contaExcluidaSucesso=!0,this.aba="login",this.cdr.detectChanges(),setTimeout(()=>{this.contaExcluidaSucesso=!1,this.router.navigate([],{queryParams:{excluido:null},queryParamsHandling:"merge"}),this.cdr.detectChanges()},8e3)})}),rF(this.auth,a=>{this.deletandoConta||this.zone.run(()=>{this.usuarioFirebase=a,a?(this.usuarioLogado={email:a.email,nome:a.displayName||"Usu\xE1rio"},this.carregarPerfil(),this.carregarDadosUsuario(a.uid),(this.aba==="login"||this.aba==="cadastro")&&(this.aba="cadastrar")):(this.usuarioLogado=null,this.contaExcluidaSucesso||(this.aba="login"),this.tarefas=[],this.categorias=[]),this.cdr.detectChanges()})})}hoje=new Date().toISOString().split("T")[0];novaTarefa={titulo:"",descricao:"",data:"",prioridade:"media",categoria:""};perfil={nome:"",sobrenome:"",email:"",senhaAtual:""};tarefas=[];termoPesquisa="";categorias=[];novaCategoria={nome:"",cor:"#563d7c"};categoriaSendoUsada=!1;erroExclusaoCategoria="";erroNomeCategoria=!1;tarefaSelecionadaParaExcluir=null;tarefaEditando=null;modoEdicao=!1;formEdicaoAtual=null;tarefaConfirmacaoEdicao=null;alertTarefaSalva=!1;categoriaEditando=null;modoEdicaoCategoria=!1;categoriaSelecionadaParaExcluir=null;mostrarEdicaoPerfil=!1;mostrarAlteracaoLogin=!1;novaSenha="";confirmaNovaSenha="";novoEmail="";mostrarModalLimpeza=!1;tarefasExcluidas=[];limpezaContador=0;alertaLimpezaVazia=!1;mostrarModalExcluirConta=!1;senhaParaExcluir="";erroExcluirConta="";contaExcluidaSucesso=!1;deletandoConta=!1;isLoading=!1;isExcluindoConta=!1;mostrarSenhaLogin=!1;mostrarSenhaCadastro=!1;mostrarSenhaAlterar=!1;mostrarSenhaConfirmarAlterar=!1;mostrarSenhaConfirmacao=!1;mostrarSenhaExclusao=!1;usuario={nome:"",sobrenome:"",idade:"",email:"",senha:""};loginEmail="";loginSenha="";usuarioLogado=null;usuarioFirebase=null;erroLoginEmail=!1;erroLoginSenha=!1;erroNome=!1;erroSobrenome=!1;erroIdade=!1;erroEmail=!1;erroSenha=!1;erroEmailExistente=!1;erroNomeObrigatorio=!1;erroSobrenomeObrigatorio=!1;erroLoginEmailInvalido=!1;erroLoginSenhaPequena=!1;erroLoginSenhasDiferentes=!1;erroLoginSenhaIgualAtual=!1;erroLoginSenhaAtualIncorreta=!1;msgSucessoLogin="";msgSucessoPerfil="";msgErroPerfil="";msgErroReautenticacao="";erroCadastroSenha=!1;erroFormIncompleto=!1;erroTarefaInvalida=!1;filtroData="";filtroPrioridade="";filtroCategoria="";tarefasDoDia=[];contadoresPainel={atrasadas:0,hoje:0,concluidasHoje:0};chartCategorias=null;chartPrioridades=null;chartCategoriasId="chartCategorias";chartPrioridadesId="chartPrioridades";temaClaro=!1;sidebarAberta=!1;aba="login";topicoAjudaAtivo="";duvidas=[{id:"login",pergunta:"Login e Acesso \xE0 Conta",conteudo:'<p>Se voc\xEA j\xE1 possui um cadastro, use esta aba para acessar suas tarefas. Siga os passos:</p><ul><li>Digite o <b>Email</b> e a <b>Senha</b> cadastrados.</li><li>Clique em <b>Entrar</b>.</li></ul><p>Se as credenciais estiverem incorretas, voc\xEA receber\xE1 uma notifica\xE7\xE3o de erro. Se for seu primeiro acesso, use a aba "Cadastro".</p>'},{id:"cadastro",pergunta:"Cadastro de Novo Usu\xE1rio",conteudo:"<p>Para come\xE7ar a usar o sistema, voc\xEA deve se cadastrar preenchendo as informa\xE7\xF5es:</p><ul><li>Preencha todos os campos obrigat\xF3rios (Nome, Sobrenome, Idade, Email e Senha).</li><li>O Email deve ser \xFAnico e a Senha deve ter no m\xEDnimo 5 caracteres.</li><li>Clique em <b>Salvar</b>.</li></ul><p>Ap\xF3s o cadastro, voc\xEA ser\xE1 redirecionado para a tela de Login.</p>"},{id:"edicao-perfil",pergunta:"Edi\xE7\xE3o de Perfil, Senha e Exclus\xE3o",conteudo:"<h4>Edi\xE7\xE3o de Dados Pessoais</h4><p>Na aba <b>Configura\xE7\xF5es</b>, voc\xEA pode atualizar seu Nome, Sobrenome e Email. Para salvar qualquer altera\xE7\xE3o de dados, voc\xEA deve fornecer sua <b>Senha Atual</b>.</p>"},{id:"novaTarefa",pergunta:"Adicionar e Editar Tarefas",conteudo:'<p>Para criar uma nova tarefa, v\xE1 em <b>Nova Tarefa</b>:</p><ul><li>Preencha o <b>T\xEDtulo</b> (m\xEDnimo 3 caracteres) e a <b>Data</b> (obrigat\xF3rios).</li><li>Defina a <b>Prioridade</b> (Baixa, M\xE9dia, Alta) e selecione a <b>Categoria</b>.</li><li>Clique em <b>Cadastrar</b>.</li></ul><p>Para editar, clique no \xEDcone de l\xE1pis (<i class="bi bi-pencil"></i>) na lista de tarefas; voc\xEA ser\xE1 levado de volta \xE0 aba de cadastro para fazer as altera\xE7\xF5es.</p>'},{id:"listagem-tarefas",pergunta:"Listar e Gerenciar Tarefas",conteudo:'<p>A tela principal exibe suas tarefas em uma tabela. Aqui voc\xEA pode:</p><ul><li><b>Alternar status:</b> Clique no <b>switch</b> ao lado de uma tarefa para marcar/desmarcar como conclu\xEDda.</li><li><b>Editar:</b> Use o \xEDcone de l\xE1pis (<i class="bi bi-pencil"></i>).</li><li><b>Excluir:</b> Use o \xEDcone de lixeira (<i class="bi bi-trash"></i>).</li></ul><p>Use os bot\xF5es na lateral para ver apenas tarefas <b>Conclu\xEDdas</b> ou <b>Abertas</b>.</p>'},{id:"filtros-avancados",pergunta:"Filtragem e Pesquisa",conteudo:"<p>Para encontrar rapidamente tarefas espec\xEDficas, use os controles de filtro no topo da listagem:</p><ul><li><b>Pesquisa:</b> Use o campo de busca principal para filtrar por <b>T\xEDtulo</b> ou <b>Descri\xE7\xE3o</b> da tarefa.</li><li><b>Filtros Avan\xE7ados:</b> Use o painel de filtros abaixo para refinar os resultados por:</li><ul><li><b>Data:</b> Selecione uma data espec\xEDfica de vencimento.</li><li><b>Prioridade:</b> Escolha Baixa, M\xE9dia ou Alta.</li><li><b>Categoria:</b> Filtre por categorias criadas por voc\xEA.</li></ul></ul><p>Clique em <b>Limpar Todos os Filtros</b> para resetar a pesquisa e a filtragem avan\xE7ada.</p>"},{id:"status",pergunta:"Alternar o Status (Conclu\xEDdo)",conteudo:"<p>Para marcar uma tarefa como conclu\xEDda (ou reabri-la), utilize o seletor (checkbox/switch) na coluna <b>Status</b> da tabela.</p><p>O status \xE9 salvo automaticamente. Tarefas conclu\xEDdas aparecem com a linha riscada.</p>"},{id:"categorias",pergunta:"Gerenciar Categorias",conteudo:'<p>V\xE1 em <b>Categorias</b> para criar e organizar as etiquetas de suas tarefas.</p><ul><li>Para <b>Adicionar</b> uma nova, preencha o Nome e a Cor e clique em <b>Adicionar</b>.</li><li>Para <b>Editar</b>, clique no \xEDcone de l\xE1pis (<i class="bi bi-pencil"></i>) ao lado da categoria na lista. O formul\xE1rio ser\xE1 preenchido para voc\xEA fazer as altera\xE7\xF5es e clicar em <b>Salvar Altera\xE7\xF5es</b>.</li></ul><p><b>Aten\xE7\xE3o:</b> Uma categoria s\xF3 pode ser exclu\xEDda (<i class="bi bi-trash"></i>) se <b>n\xE3o houver nenhuma tarefa vinculada a ela</b>.</p>'},{id:"config",pergunta:"Configura\xE7\xF5es e Tema",conteudo:"<p>Na aba <b>Configura\xE7\xF5es</b>, voc\xEA pode ver seus dados de perfil e alterar o visual do site:</p><ul><li>Clique em <b>Tema</b> para alternar entre o Tema Claro e o Tema Escuro.</li><li>Use o bot\xE3o <b>Sair</b> para desconectar da conta e proteger suas tarefas.</li></ul>"},{id:"exclusao-conta",pergunta:"Exclus\xE3o Permanente da Conta",conteudo:"<p>Para excluir permanentemente sua conta e todos os dados associados, acesse a <b>Configura\xE7\xE3o de Perfil</b> e localize a op\xE7\xE3o de exclus\xE3o.</p><ul><li>\xC9 obrigat\xF3rio fornecer a <b>senha atual</b> para confirmar a exclus\xE3o.</li><li>Ap\xF3s clicar em <b>Excluir Permanentemente</b>, o bot\xE3o mudar\xE1 para <b>Excluindo...</b> para indicar o processamento. N\xE3o feche a aplica\xE7\xE3o neste momento.</li></ul><p>Ap\xF3s a exclus\xE3o bem-sucedida, voc\xEA ser\xE1 redirecionado para a tela de Login.</p>"}];tarefasObservable;alternarSidebar(){this.sidebarAberta=!this.sidebarAberta}fecharSidebar(){this.sidebarAberta=!1}mudarAba(e){e==="cadastro"&&(this.usuario={nome:"",sobrenome:"",idade:"",email:"",senha:""},this.resetErrosCadastro()),this.aba==="categorias"&&e!=="categorias"&&(this.erroNomeCategoria=!1,this.categoriaSendoUsada=!1,this.cancelarEdicaoCategoria()),e==="ajuda"&&this.aba!=="ajuda"&&(this.topicoAjudaAtivo=""),this.aba=e,this.fecharSidebar(),["todas","abertas","concluidas"].includes(e)&&this.tarefasFiltradas()}mudarTopicoAjuda(e){this.topicoAjudaAtivo===e?this.topicoAjudaAtivo="":this.topicoAjudaAtivo=e}resetErrosCadastro(){this.erroNome=!1,this.erroSobrenome=!1,this.erroIdade=!1,this.erroEmail=!1,this.erroSenha=!1,this.erroEmailExistente=!1}async salvarUsuario(){if(this.erroEmailExistente=!1,this.erroCadastroSenha=!1,this.erroFormIncompleto=!1,this.isLoading=!1,!this.usuario.nome||!this.usuario.email||!this.usuario.senha){this.zone.run(()=>{this.erroFormIncompleto=!0,this.cdr.detectChanges()});return}if(this.usuario.senha.length<6){this.zone.run(()=>{this.erroCadastroSenha=!0,this.cdr.detectChanges()});return}this.zone.run(()=>{this.isLoading=!0,this.cdr.detectChanges()});try{let t=(await eF(this.auth,this.usuario.email,this.usuario.senha)).user;if(t){let r=or(this.firestore,"users",t.uid);await Lu(r,{nome:this.usuario.nome,sobrenome:this.usuario.sobrenome,idade:this.usuario.idade,email:this.usuario.email,createdAt:new Date}),console.log("Perfil do usu\xE1rio salvo no Firestore.")}this.zone.run(()=>{this.usuario={nome:"",sobrenome:"",idade:"",email:"",senha:""},this.isLoading=!1,this.cdr.detectChanges()})}catch(e){this.zone.run(()=>{this.isLoading=!1,e.code==="auth/email-already-in-use"?this.erroEmailExistente=!0:console.error("Erro no cadastro:",e),this.cdr.detectChanges()})}}async carregarPerfil(){this.msgSucessoPerfil="",this.msgErroPerfil="";let e=this.auth.currentUser;if(e){let t=or(this.firestore,"users",e.uid),r=await uv(t);this.zone.run(()=>{if(r.exists()){let i=r.data();this.perfil={nome:i.nome||"",sobrenome:i.sobrenome||"",idade:i.idade||"",email:e.email,senhaAtual:""}}else this.perfil={nome:"",sobrenome:"",idade:"",email:e.email,senhaAtual:""};this.cdr.detectChanges()})}}async login(){this.erroLoginEmail=!1,this.erroLoginSenha=!1;let e=!1;if((!this.loginEmail||this.loginEmail.trim()==="")&&(this.erroLoginEmail=!0,e=!0),(!this.loginSenha||this.loginSenha.trim()==="")&&(this.erroLoginSenha=!0,e=!0),e){this.zone.run(()=>{this.cdr.detectChanges()});return}this.zone.run(()=>{this.isLoading=!0,this.cdr.detectChanges()});try{await iF(this.auth,this.loginEmail,this.loginSenha),this.zone.run(()=>{this.loginEmail="",this.loginSenha="",this.isLoading=!1,this.cdr.detectChanges()})}catch(t){this.zone.run(()=>{this.isLoading=!1,t.code==="auth/invalid-credential"||t.code==="auth/user-not-found"||t.code==="auth/wrong-password"?(this.erroLoginEmail=!0,this.erroLoginSenha=!0):console.error("Erro no login:",t),this.cdr.detectChanges()})}}async salvarAlteracoesPerfil(){this.msgSucessoPerfil="",this.msgErroPerfil="",this.erroNomeObrigatorio=!1,this.erroSobrenomeObrigatorio=!1,this.cdr.detectChanges();let e=!0;if((!this.perfil.nome||this.perfil.nome.trim()==="")&&(this.erroNomeObrigatorio=!0,e=!1),(!this.perfil.sobrenome||this.perfil.sobrenome.trim()==="")&&(this.erroSobrenomeObrigatorio=!0,e=!1),!e){this.zone.run(()=>{this.cdr.detectChanges()});return}let t=this.auth.currentUser;if(t)try{let r=or(this.firestore,"users",t.uid);await Lu(r,{nome:this.perfil.nome,sobrenome:this.perfil.sobrenome},{merge:!0}),this.zone.run(async()=>{this.msgSucessoPerfil="Perfil atualizado com sucesso!",this.msgErroPerfil="",await this.carregarDadosUsuario(t.uid),this.cdr.detectChanges(),setTimeout(()=>{this.zone.run(()=>{this.msgSucessoPerfil="",this.cdr.detectChanges()})},3e3)})}catch(r){this.zone.run(()=>{this.msgErroPerfil="Erro ao salvar o perfil.",this.msgSucessoPerfil="",console.error("Erro ao salvar perfil:",r),this.cdr.detectChanges()})}}async alterarLogin(){this.msgSucessoLogin="",this.msgErroReautenticacao="",this.erroLoginEmailInvalido=!1,this.erroLoginSenhaPequena=!1,this.erroLoginSenhasDiferentes=!1,this.erroLoginSenhaIgualAtual=!1,this.erroLoginSenhaAtualIncorreta=!1,this.cdr.detectChanges();let e=this.auth.currentUser;if(!e)return;let t=this.novoEmail.trim()!==""&&this.novoEmail.trim()!==e.email,r=this.novaSenha.trim()!=="",i=!0;if(t&&(this.novoEmail.includes("@")||(this.erroLoginEmailInvalido=!0,i=!1)),r&&(this.novaSenha.length<6&&(this.erroLoginSenhaPequena=!0,i=!1),this.novaSenha!==this.confirmaNovaSenha&&(this.erroLoginSenhasDiferentes=!0,i=!1)),(!this.perfil.senhaAtual||this.perfil.senhaAtual.trim()==="")&&(this.msgErroReautenticacao="A senha atual \xE9 obrigat\xF3ria para qualquer altera\xE7\xE3o.",i=!1),!i){this.zone.run(()=>this.cdr.detectChanges());return}let o=rf.credential(e.email,this.perfil.senhaAtual);try{await ZC(e,o);let s="Login atualizado com sucesso. ";if(t&&(await sF(e,this.novoEmail),this.perfil.email=this.novoEmail,s+="O E-mail foi alterado. "),r){if(this.novaSenha===this.perfil.senhaAtual){this.erroLoginSenhaIgualAtual=!0,this.zone.run(()=>this.cdr.detectChanges());return}await aF(e,this.novaSenha),s+="A Senha foi alterada. "}this.zone.run(()=>{this.msgSucessoLogin=s,this.perfil.senhaAtual="",this.novaSenha="",this.confirmaNovaSenha="",this.novoEmail="",this.cdr.detectChanges(),setTimeout(()=>{this.zone.run(()=>{this.msgSucessoLogin="",this.cdr.detectChanges()})},3e3)})}catch(s){this.zone.run(()=>{s.code==="auth/wrong-password"||s.code==="auth/invalid-credential"?(this.erroLoginSenhaAtualIncorreta=!0,this.msgErroReautenticacao="A senha atual fornecida est\xE1 incorreta. Tente novamente."):(this.msgErroReautenticacao=`Erro ao atualizar login: ${s.message}`,console.error("Erro ao atualizar login:",s)),this.cdr.detectChanges()})}}toggleEdicaoPerfil(){this.mostrarEdicaoPerfil=!this.mostrarEdicaoPerfil,this.mostrarEdicaoPerfil&&(this.mostrarAlteracaoLogin=!1),this.cdr.detectChanges()}toggleAlteracaoLogin(){this.mostrarAlteracaoLogin=!this.mostrarAlteracaoLogin,this.mostrarAlteracaoLogin&&(this.mostrarEdicaoPerfil=!1),this.cdr.detectChanges()}sair(){oF(this.auth).then(()=>{this.zone.run(()=>{this.cdr.detectChanges(),this.resetarEstadoGeral()})}).catch(e=>{console.error("Erro ao sair:",e)})}abrirModalExcluir(){this.senhaParaExcluir="",this.erroExcluirConta="",this.mostrarModalExcluirConta=!0,this.cdr.detectChanges()}async confirmarExclusaoConta(){let e=this.auth.currentUser;if(!(!e||!this.senhaParaExcluir)){this.deletandoConta=!0,this.erroExcluirConta="";try{let t=rf.credential(e.email,this.senhaParaExcluir);await ZC(e,t);let r=xf(this.firestore,`users/${e.uid}/tarefas`),o=(await wS(r)).docs.map(s=>Fu(s.ref));await Promise.all([...o,Fu(or(this.firestore,"categorias",e.uid)),Fu(or(this.firestore,"users",e.uid))]),await tF(e),this.resetarEstadoGeral(),this.zone.run(()=>{this.mostrarModalExcluirConta=!1,this.senhaParaExcluir="",this.deletandoConta=!1,this.router.navigate([],{queryParams:{excluido:"true"},queryParamsHandling:"merge"})})}catch(t){this.deletandoConta=!1,this.zone.run(()=>{console.error("Erro na exclus\xE3o:",t.code),t.code==="auth/wrong-password"||t.code==="auth/invalid-credential"?this.erroExcluirConta="Senha incorreta.":t.code==="auth/requires-recent-login"?this.erroExcluirConta="Sess\xE3o expirada. Refa\xE7a o login para excluir sua conta.":this.erroExcluirConta="N\xE3o foi poss\xEDvel excluir. Verifique sua conex\xE3o.",this.cdr.detectChanges()})}}}irParaLogin(){this.contaExcluidaSucesso=!1,this.mostrarModalExcluirConta=!1,this.router.navigate(["/"])}resetarEstadoGeral(){this.zone.run(()=>{this.usuarioFirebase=null,this.usuarioLogado=null,this.perfil={nome:"",sobrenome:"",email:"",senhaAtual:""},this.tarefas=[],this.categorias=[],this.tarefasExcluidas=[],this.aba="login",this.sidebarAberta=!1,this.mostrarModalExcluirConta=!1,this.deletandoConta=!1,this.isLoading=!1,this.loginEmail="",this.loginSenha="",this.senhaParaExcluir="",this.novaTarefa={titulo:"",descricao:"",data:"",prioridade:"media",categoria:""},this.novaCategoria={nome:"",cor:"#563d7c"},this.cancelarEdicaoCategoria(),this.cdr.detectChanges()})}async executarLimpeza(){let e=this.auth.currentUser;if(!e)return;this.tarefasExcluidas=[],this.limpezaContador=0,this.cdr.detectChanges();let t=xf(this.firestore,`users/${e.uid}/tarefas`),r=YV(t,KV("concluida","==",!0));try{let i=await wS(r),o=[];i.forEach(s=>{let a=s.data();this.tarefasExcluidas.push({id:s.id,nome:a.titulo||"Tarefa sem nome"}),o.push(Fu(s.ref))}),await Promise.all(o),this.zone.run(()=>{this.limpezaContador=this.tarefasExcluidas.length,this.cdr.detectChanges()})}catch(i){this.zone.run(()=>{this.fecharModalLimpeza(),console.error("Erro ao limpar tarefas conclu\xEDdas:",i)})}}abrirModalLimpeza(){if(!this.auth.currentUser)return;this.limpezaContador=0,this.tarefasExcluidas=[],this.alertaLimpezaVazia=!1,this.tarefas.filter(t=>t.concluida===!0).length===0?this.alertaLimpezaVazia=!0:this.alertaLimpezaVazia=!1,this.mostrarModalLimpeza=!0,this.cdr.detectChanges()}fecharModalLimpeza(){this.mostrarModalLimpeza=!1,this.cdr.detectChanges()}carregarTema(){let e=localStorage.getItem("tema");this.temaClaro=e==="claro",typeof document<"u"&&(this.temaClaro?document.body.classList.add("tema-claro"):document.body.classList.remove("tema-claro"))}get corBotaoSair(){return this.temaClaro?"#000000":"#ffffff"}alternarTema(){this.temaClaro=!this.temaClaro,localStorage.setItem("tema",this.temaClaro?"claro":"escuro"),typeof document<"u"&&(this.temaClaro?document.body.classList.add("tema-claro"):document.body.classList.remove("tema-claro")),this.fecharSidebar()}exibirAlertTarefaSalva(){this.alertTarefaSalva=!0,setTimeout(()=>this.alertTarefaSalva=!1,3e3)}atualizarPainelHome(){let e=this.tarefas;if(!e||e.length===0){this.tarefasDoDia=[],this.contadoresPainel={atrasadas:0,hoje:0,concluidasHoje:0},this.chartCategorias&&this.chartCategorias.destroy(),this.chartPrioridades&&this.chartPrioridades.destroy(),this.cdr.detectChanges();return}let t=(0,fa.default)(),r=t.format("DD/MM/YYYY");this.tarefasDoDia=e.filter(i=>!i.concluida&&i.data&&(0,fa.default)(i.data,"DD/MM/YYYY").isSame(t,"day")),this.contadoresPainel.hoje=this.tarefasDoDia.length,this.contadoresPainel.atrasadas=e.filter(i=>!i.concluida&&i.data&&(0,fa.default)(i.data,"DD/MM/YYYY").isBefore(t,"day")).length,this.contadoresPainel.concluidasHoje=e.filter(i=>i.concluida&&i.dataConclusao===r).length,this.zone.runOutsideAngular(()=>{this.criarGraficoCategorias(),this.criarGraficoPrioridades()}),this.cdr.detectChanges()}async marcarTarefaComoConcluida(e){if(!this.usuarioFirebase||!this.usuarioFirebase.uid||!e.id){console.error("Erro: Usu\xE1rio n\xE3o logado ou ID da tarefa ausente.");return}let t=!e.concluida,r=t?(0,fa.default)().format("DD/MM/YYYY"):"",i={concluida:t,dataConclusao:r};try{let o=or(this.firestore,`users/${this.usuarioFirebase.uid}/tarefas/${e.id}`);await dv(o,i),this.zone.run(()=>{this.tarefasFiltradas(),this.atualizarPainelHome()})}catch(o){console.error("Erro ao atualizar o status de conclus\xE3o da tarefa no Firestore:",o)}}criarGraficoCategorias(){this.chartCategorias&&this.chartCategorias.destroy();let t=this.tarefas.filter(a=>!a.concluida).reduce((a,c)=>{let l=c.categoria?c.categoria.nome:"Sem Categoria",d=this.obterCorCategoria(l);return a[l]=a[l]||{count:0,cor:d},a[l].count++,a},{}),r=Object.keys(t),i=r.map(a=>t[a].count),o=r.map(a=>t[a].cor),s=document.getElementById(this.chartCategoriasId);s&&(this.chartCategorias=new op(s,{type:"doughnut",data:{labels:r,datasets:[{data:i,backgroundColor:o,borderColor:"rgba(0, 0, 0, 0.5)"}]},options:{responsive:!0,plugins:{legend:{position:"right",labels:{color:this.temaClaro?"#000000":"#ffffff"}},title:{display:!1}}}}))}criarGraficoPrioridades(){this.chartPrioridades&&this.chartPrioridades.destroy();let t=this.tarefas.filter(c=>!c.concluida).reduce((c,l)=>(c[l.prioridade]=(c[l.prioridade]||0)+1,c),{}),r=["Alta","M\xE9dia","Baixa"],i=r.map(c=>t[c]||0),o=["#dc3545","#ffc107","#17a2b8"],s=document.getElementById(this.chartPrioridadesId);if(!s)return;let a=this.temaClaro?"#000000":"#ffffff";this.chartPrioridades=new op(s,{type:"bar",data:{labels:r,datasets:[{label:"Tarefas Abertas",data:i,backgroundColor:o,borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{color:a},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:a},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{display:!1}}}})}getPrioridadeClass(e){switch(e){case"Alta":return"bg-danger text-white";case"M\xE9dia":return"bg-warning text-dark";case"Baixa":return"bg-info text-white";default:return"bg-secondary text-white"}}async adicionarTarefa(e){if(!this.usuarioFirebase||e.invalid){this.erroTarefaInvalida=!0,setTimeout(()=>this.erroTarefaInvalida=!1,3e3);return}try{let t=xf(this.firestore,`users/${this.usuarioFirebase.uid}/tarefas`),r=this.categorias.find(i=>i.nome===this.novaTarefa.categoria);await Lu(or(t),ye(J({},this.novaTarefa),{categoria:r?{nome:r.nome,cor:r.cor}:{nome:"",cor:""},concluida:!1,criadoEm:new Date().toISOString()})),e.resetForm(),this.novaTarefa={titulo:"",descricao:"",data:"",prioridade:"media",categoria:""},this.exibirAlertTarefaSalva()}catch(t){console.error("Erro ao adicionar tarefa: ",t)}}carregarTarefas(){!this.usuarioFirebase||!this.usuarioFirebase.uid||(this.atualizarPainelHome(),this.cdr.detectChanges())}async carregarDadosUsuario(e){if(!e)return;try{let r=or(this.firestore,`users/${e}`),i=await uv(r);this.zone.run(()=>{if(i.exists()){let o=i.data();this.usuarioLogado=ye(J({},this.usuarioLogado),{nome:o.nome||"Usu\xE1rio",sobrenome:o.sobrenome||""})}this.cdr.detectChanges()})}catch(r){console.error("Erro ao carregar dados do perfil: ",r)}try{let r=or(this.firestore,`categorias/${e}`),i=await uv(r);i.exists()?this.categorias=i.data().lista||[]:(this.categorias=[{nome:"Trabalho",cor:"#0d6efd"},{nome:"Pessoal",cor:"#198754"},{nome:"Urgente",cor:"#dc3545"}],await Lu(r,{lista:this.categorias}))}catch(r){console.error("Erro ao carregar categorias: ",r)}let t=xf(this.firestore,`users/${e}/tarefas`);this.tarefasObservable=qV(t,{idField:"id"}),this.tarefasObservable.subscribe(r=>{this.zone.run(()=>{this.tarefas=r,this.tarefasFiltradas(),this.atualizarPainelHome(),this.cdr.detectChanges()})})}async salvarCategoriasFirestore(){if(this.usuarioFirebase)try{let e=or(this.firestore,`categorias/${this.usuarioFirebase.uid}`);await Lu(e,{lista:this.categorias})}catch(e){console.error("Erro ao salvar categorias no Firestore: ",e)}}async adicionarCategoria(){if(!this.novaCategoria.nome.trim()){this.erroNomeCategoria=!0,this.cdr.detectChanges();return}this.erroNomeCategoria=!1,this.modoEdicaoCategoria&&this.categoriaEditando?(this.categoriaEditando.nome=this.novaCategoria.nome,this.categoriaEditando.cor=this.novaCategoria.cor,await this.salvarCategoriasFirestore(),this.cancelarEdicaoCategoria(),this.cdr.detectChanges()):this.categorias.some(e=>e.nome.toLowerCase()===this.novaCategoria.nome.toLowerCase())||(this.categorias.push(J({},this.novaCategoria)),await this.salvarCategoriasFirestore(),this.novaCategoria={nome:"",cor:"#563d7c"},this.cdr.detectChanges())}ativarEdicaoCategoria(e){this.categoriaEditando=e,this.novaCategoria=J({},e),this.modoEdicaoCategoria=!0}cancelarEdicaoCategoria(){this.categoriaEditando=null,this.modoEdicaoCategoria=!1,this.novaCategoria={nome:"",cor:"#563d7c"},this.erroNomeCategoria=!1,this.categoriaSendoUsada=!1}obtendoCorTextoConstraste(e){if(!e)return"#ffffff";let t=e.replace("#",""),r=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);return(r*299+i*587+o*114)/1e3>=128?"#000000":"#ffffff"}excluirCategoria(e){let t=this.tarefas.some(r=>(typeof r.categoria=="object"&&r.categoria!==null?r.categoria.nome:r.categoria)===e.nome);if(this.categoriaSendoUsada=!1,this.erroExclusaoCategoria="",t){this.categoriaSendoUsada=!0,this.erroExclusaoCategoria=`A categoria "${e.nome}" n\xE3o pode ser exclu\xEDda pois h\xE1 tarefas vinculadas a ela.`,setTimeout(()=>{this.categoriaSendoUsada=!1,this.cdr.detectChanges()},4e3);return}this.categoriaSelecionadaParaExcluir=e,this.cdr.detectChanges()}async confirmarExclusaoCategoria(){let e=this.categoriaSelecionadaParaExcluir;if(!e||!this.usuarioFirebase||!this.usuarioFirebase.uid){console.error("Erro: Categoria ou UID do usu\xE1rio ausente para exclus\xE3o."),this.zone.run(()=>{this.categoriaSelecionadaParaExcluir=null,this.cdr.detectChanges()});return}let t=this.usuarioFirebase.uid,r={cor:e.cor,nome:e.nome};try{let i=`categorias/${t}`,o=or(this.firestore,i);await dv(o,{lista:jV(r)}),this.categorias=this.categorias.filter(s=>s.nome!==e.nome),this.zone.run(()=>{this.categoriaSelecionadaParaExcluir=null,this.tarefasFiltradas(),this.cdr.detectChanges()})}catch(i){this.zone.run(()=>{console.error("ERRO REAL NO FIRESTORE DURANTE A EXCLUS\xC3O:",i),this.categoriaSelecionadaParaExcluir=null,this.cdr.detectChanges()})}}cancelarExclusaoCategoria(){this.zone.run(()=>{this.categoriaSelecionadaParaExcluir=null,this.cdr.detectChanges()})}obterCorCategoria(e){let t=this.categorias.find(r=>r.nome===e);return t?t.cor:"#6c757d"}editarTarefa(e){this.modoEdicao=!0,this.tarefaEditando=e;let t=e.categoria&&e.categoria.nome?e.categoria.nome:"";this.novaTarefa=ye(J({},e),{categoria:t}),this.mudarAba("cadastrar")}solicitarConfirmacaoEdicao(e){e.invalid||(this.tarefaConfirmacaoEdicao=J({},this.novaTarefa),this.formEdicaoAtual=e)}async confirmarEdicao(){if(!this.formEdicaoAtual||!this.tarefaEditando||!this.usuarioFirebase||!this.tarefaEditando.id)return;let e=J({},this.tarefaConfirmacaoEdicao),t=this.categorias.find(i=>i.nome===e.categoria);delete e.id;let r=ye(J({},e),{categoria:t?{nome:t.nome,cor:t.cor}:{nome:"",cor:""}});try{let i=or(this.firestore,`users/${this.usuarioFirebase.uid}/tarefas/${this.tarefaEditando.id}`);await dv(i,r),this.formEdicaoAtual.resetForm(),this.tarefaConfirmacaoEdicao=null,this.cancelarEdicao(),this.mudarAba("todas")}catch(i){console.error("Erro ao confirmar edi\xE7\xE3o: ",i)}}cancelarConfirmacaoEdicao(){this.tarefaConfirmacaoEdicao=null}cancelarEdicao(){this.modoEdicao=!1,this.tarefaEditando=null,this.novaTarefa={titulo:"",descricao:"",data:"",prioridade:"media",categoria:""},this.formEdicaoAtual=null}async alternarStatus(e){await this.marcarTarefaComoConcluida(e)}confirmarExclusao(e){this.tarefaSelecionadaParaExcluir=e}cancelarExclusao(){this.tarefaSelecionadaParaExcluir=null}async excluirDefinitivo(){if(!(!this.usuarioFirebase||!this.tarefaSelecionadaParaExcluir||!this.tarefaSelecionadaParaExcluir.id))try{let e=or(this.firestore,`users/${this.usuarioFirebase.uid}/tarefas/${this.tarefaSelecionadaParaExcluir.id}`);await Fu(e),this.cancelarExclusao()}catch(e){console.error("Erro ao excluir tarefa: ",e)}}limparTodosFiltros(){this.termoPesquisa="",this.filtroData="",this.filtroPrioridade="",this.filtroCategoria="",this.tarefasFiltradas()}tarefasFiltradas(){let e=this.tarefas;if(this.aba==="concluidas"?e=this.tarefas.filter(t=>t.concluida):this.aba==="abertas"&&(e=this.tarefas.filter(t=>!t.concluida)),this.termoPesquisa.trim()){let t=this.termoPesquisa.toLowerCase().trim();e=e.filter(r=>r.titulo.toLowerCase().includes(t)||r.descricao.toLowerCase().includes(t))}if(this.filtroData){let t=(0,fa.default)(this.filtroData).format("DD/MM/YYYY");e=e.filter(r=>r.data===t)}return this.filtroPrioridade&&(e=e.filter(t=>t.prioridade===this.filtroPrioridade)),this.filtroCategoria&&(e=e.filter(t=>(typeof t.categoria=="object"&&t.categoria!==null?t.categoria.nome:t.categoria)===this.filtroCategoria)),e.sort((t,r)=>{let i=t.data?(0,fa.default)(t.data,"DD/MM/YYYY").toDate().getTime():1/0,o=r.data?(0,fa.default)(r.data,"DD/MM/YYYY").toDate().getTime():1/0;return i-o})}alternarVisibilidadeSenha(e){switch(e){case"login":this.mostrarSenhaLogin=!this.mostrarSenhaLogin;break;case"cadastro":this.mostrarSenhaCadastro=!this.mostrarSenhaCadastro;break;case"alterar":this.mostrarSenhaAlterar=!this.mostrarSenhaAlterar;break;case"confirmarAlterar":this.mostrarSenhaConfirmarAlterar=!this.mostrarSenhaConfirmarAlterar;break;case"confirmacao":this.mostrarSenhaConfirmacao=!this.mostrarSenhaConfirmacao;break;case"exclusao":this.mostrarSenhaExclusao=!this.mostrarSenhaExclusao;break;default:console.error("Campo de senha desconhecido:",e)}this.cdr.detectChanges()}static \u0275fac=function(t){return new(t||n)(ve(yc),ve(Rc),ve(dt),ve(Ps),ve(nu),ve(zi))};static \u0275cmp=Ja({type:n,selectors:[["app-tarefas"]],decls:49,vars:32,consts:[["logado",""],["formUser","ngForm"],["form","ngForm"],["tituloInput","ngModel"],["dataInput","ngModel"],["rel","stylesheet","href",Sm`https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css`],["rel","stylesheet","href",Sm`https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css`],[1,"layout"],[1,"navbar-top","d-flex","align-items-center","px-3"],[1,"d-flex","align-items-center","gap-3"],["aria-controls","sidebar-menu","aria-label","Abrir Menu Lateral",1,"btn","btn-outline-light","d-md-none","border-0","px-2",3,"click"],["aria-hidden","true",1,"bi","bi-list","fs-4"],[1,"m-0","fs-5","fs-md-4"],[1,"ms-auto","d-flex","align-items-center","gap-2"],[4,"ngIf","ngIfElse"],["aria-hidden","true",1,"sidebar-overlay",3,"click"],["id","sidebar-menu",1,"sidebar","d-flex","flex-column"],[1,"menu-principal"],[3,"active","click",4,"ngIf"],[3,"click"],["aria-hidden","true",1,"bi","bi-list-task","me-2"],["class","sub-menu",4,"ngIf"],[1,"sidebar-footer","mt-auto"],["aria-hidden","true",1,"bi","bi-question-circle","me-2"],[2,"margin-bottom","15px",3,"click"],["aria-hidden","true",1,"bi","bi-gear","me-2"],[4,"ngIf"],[1,"info-app"],[1,"text-muted","small"],[1,"conteudo"],["class","centro","aria-label","Se\xE7\xE3o de Login",4,"ngIf"],["class","centro","aria-label","Se\xE7\xE3o de Cadastro de Usu\xE1rio",4,"ngIf"],["class","centro","aria-label","Se\xE7\xE3o de Configura\xE7\xF5es",4,"ngIf"],["class","centro","aria-label","Se\xE7\xE3o de Ajuda e FAQ",4,"ngIf"],["class","centro","aria-label","Formul\xE1rio de Tarefa",4,"ngIf"],["class","centro","aria-label","Gerenciamento de Categorias",4,"ngIf"],["class","listagem-container","aria-label","Lista de Tarefas",4,"ngIf"],["class","modal-backdrop","aria-hidden","true",4,"ngIf"],["class","modal-card","role","dialog","aria-modal","true","aria-labelledby","edicaoModalTitle",4,"ngIf"],["class","modal-card","role","dialog","aria-modal","true","aria-labelledby","exclusaoTarefaModalTitle",4,"ngIf"],["class","modal-card","role","dialog","aria-modal","true","aria-labelledby","exclusaoCategoriaModalTitle",4,"ngIf"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"d-flex","align-items-center","gap-2"],[1,"me-1","d-none","d-md-inline"],["aria-label","Sair da conta",1,"btn-sair",3,"click"],["aria-hidden","true",1,"bi","bi-box-arrow-right"],["aria-hidden","true",1,"bi","bi-plus-circle","me-2"],[1,"sub-menu"],["aria-hidden","true",1,"bi","bi-check2-circle","me-2"],["aria-hidden","true",1,"bi","bi-circle","me-2"],["aria-hidden","true",1,"bi","bi-tag","me-2"],[1,"small","text-muted","p-2"],["aria-label","Se\xE7\xE3o de Login",1,"centro"],[1,"card-tarefas",3,"ngSubmit"],[1,"text-center","mb-3"],["class","alert alert-success text-center mb-3 animate__animated animate__fadeIn","role","alert",4,"ngIf"],["for","loginEmailInput",1,"visually-hidden"],["id","loginEmailInput","placeholder","Email","name","e","type","email","required","","autocomplete","email",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["class","text-danger small","role","alert",4,"ngIf"],[1,"password-input-container","mb-3"],["for","loginSenhaInput",1,"visually-hidden"],["id","loginSenhaInput","name","loginSenha","placeholder","Senha","autocomplete","current-password",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button","title","Mostrar/Ocultar Senha",1,"toggle-password",3,"click"],["class","bi bi-eye-slash","aria-hidden","true",4,"ngIf"],["class","bi bi-eye","aria-hidden","true",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","mt-3",3,"disabled"],["role","alert",1,"alert","alert-success","text-center","mb-3","animate__animated","animate__fadeIn"],["aria-hidden","true",1,"bi","bi-check-circle-fill","me-2"],["role","alert",1,"text-danger","small"],["aria-hidden","true",1,"bi","bi-eye-slash"],["aria-hidden","true",1,"bi","bi-eye"],["aria-label","Se\xE7\xE3o de Cadastro de Usu\xE1rio",1,"centro"],[1,"mb-2"],["for","cadastroNomeInput",1,"visually-hidden"],["id","cadastroNomeInput","placeholder","Nome","name","n","required","","autocomplete","given-name",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger small d-block","role","alert",4,"ngIf"],["for","cadastroSobrenomeInput",1,"visually-hidden"],["id","cadastroSobrenomeInput","placeholder","Sobrenome","name","sn","required","","autocomplete","family-name",1,"form-control",3,"ngModelChange","ngModel"],["for","cadastroIdadeInput",1,"visually-hidden"],["id","cadastroIdadeInput","type","number","placeholder","Idade","name","i","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","cadastroEmailInput",1,"visually-hidden"],["id","cadastroEmailInput","type","email","placeholder","Email","name","email","required","","autocomplete","email",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-warning mt-1 p-1 small","role","alert",4,"ngIf"],[1,"mb-3"],["for","cadastroSenhaInput",1,"visually-hidden"],["id","cadastroSenhaInput","placeholder","Senha (min 6)","name","senha","required","","autocomplete","new-password",1,"form-control",3,"ngModelChange","type","ngModel"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","spinner-pequeno","aria-hidden","true",4,"ngIf"],["role","alert",1,"text-danger","small","d-block"],["role","alert",1,"alert","alert-warning","mt-1","p-1","small"],["aria-hidden","true",1,"spinner-pequeno"],["aria-label","Se\xE7\xE3o de Configura\xE7\xF5es",1,"centro"],[1,"card-tarefas","mb-4","w-100"],[1,"mb-4"],["class","text-success d-block mb-3","role","status",4,"ngIf"],["class","text-danger d-block mb-3","role","alert",4,"ngIf"],["type","button","aria-controls","collapsePerfil",1,"btn","btn-primary","w-100","mb-2",3,"click"],["id","collapsePerfil",3,"ngClass"],[1,"mt-2","mb-3"],[3,"ngSubmit"],[1,"form-group","mb-3","text-start"],["for","perfilNome",1,"form-label"],["id","perfilNome","name","perfilNome","required","","autocomplete","given-name",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger","role","alert",4,"ngIf"],["for","perfilSobrenome",1,"form-label"],["id","perfilSobrenome","name","perfilSobrenome","autocomplete","family-name",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100","mb-1"],[1,"mt-3","mb-3"],["type","button","aria-controls","collapseLogin",1,"btn","btn-secondary","w-100","mb-2",3,"click"],["id","collapseLogin",3,"ngClass"],["for","novoEmail",1,"form-label"],["id","novoEmail","name","novoEmail","type","email","autocomplete","email",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","novaSenha",1,"form-label"],["id","novaSenha","name","novaSenha","placeholder","M\xEDnimo 6 caracteres","autocomplete","new-password",1,"form-control",3,"ngModelChange","ngModel","type"],["for","confirmaNovaSenha",1,"form-label"],["id","confirmaNovaSenha","name","confirmaNovaSenha","placeholder","As senhas devem ser id\xEAnticas","autocomplete","new-password",1,"form-control",3,"ngModelChange","ngModel","type"],["for","senhaAtual",1,"form-label"],["id","senhaAtual","name","senhaAtual","required","","placeholder","Senha atual","autocomplete","current-password",1,"form-control",3,"ngModelChange","ngModel","type"],["type","submit",1,"btn","btn-warning","w-100"],["aria-haspopup","dialog",1,"btn","btn-secondary","w-100","mb-2",3,"click"],["class","modal-custom","role","dialog","aria-modal","true","aria-labelledby","limpezaTitulo",4,"ngIf"],[1,"btn","btn-secondary","w-100","mb-2",3,"click"],["aria-haspopup","dialog",1,"btn","btn-danger","w-100",3,"click"],["class","modal-custom","role","dialog","aria-modal","true","aria-labelledby","exclusaoTitulo",4,"ngIf"],["role","status",1,"text-success","d-block","mb-3"],["role","alert",1,"text-danger","d-block","mb-3"],["role","alert",1,"text-danger"],["aria-hidden","true",1,"modal-backdrop"],["role","dialog","aria-modal","true","aria-labelledby","limpezaTitulo",1,"modal-custom"],[1,"modal-content-custom"],["id","limpezaTitulo"],[1,"btn","btn-secondary","mt-3",3,"click"],[1,"text-danger"],[1,"btn","btn-danger","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"mt-3"],[1,"lista-excluidas"],["aria-label","Lista de tarefas exclu\xEDdas",1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","mt-3",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","exclusaoTitulo",1,"modal-custom"],[1,"modal-content-custom","border","border-danger"],["id","exclusaoTitulo",1,"text-danger"],[1,"mb-3","text-start"],["for","senhaExcluirInput",1,"form-label"],["id","senhaExcluirInput","type","password","autocomplete","current-password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center"],[1,"btn","btn-danger","me-2",3,"click","disabled"],["id","exclusaoTitulo",1,"text-success"],[1,"btn","btn-primary","mt-2",3,"click"],["aria-label","Se\xE7\xE3o de Ajuda e FAQ",1,"centro"],[1,"card-tarefas","w-100","p-0",2,"max-width","900px"],[1,"text-center","p-3","m-0"],[1,"tutorial-list"],["class","tutorial-item",4,"ngFor","ngForOf"],[1,"tutorial-item"],[1,"btn-tutorial-link","w-100","text-start","py-3","px-4","d-flex","justify-content-between","align-items-center",3,"click"],[1,"fw-bold"],["aria-hidden","true",1,"bi",3,"ngClass"],[1,"tutorial-content","px-4","pb-3","collapse",3,"id","innerHTML"],["aria-label","Formul\xE1rio de Tarefa",1,"centro"],["for","tituloInput"],["id","tituloInput","minlength","3","name","titulo","required","",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["for","descricaoTextarea"],["id","descricaoTextarea","name","descricao","rows","3",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["for","dataInput"],["id","dataInput","type","date","name","data","required","",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-6"],["for","prioridadeSelect"],["id","prioridadeSelect","name","prioridade",1,"form-select","mb-2",3,"ngModelChange","ngModel"],["value","baixa"],["value","media"],["value","alta"],["for","categoriaSelect"],["id","categoriaSelect","name","categoria",1,"form-select","mb-2",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","w-100","mt-2"],["type","button","class","btn btn-secondary w-100 mt-2",3,"click",4,"ngIf"],["class","alert alert-success mt-2 p-2 text-center","role","status",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-secondary","w-100","mt-2",3,"click"],["role","status",1,"alert","alert-success","mt-2","p-2","text-center"],["aria-label","Gerenciamento de Categorias",1,"centro"],[1,"card-tarefas"],[1,"mb-3","text-center"],["for","nomeCatInput"],["id","nomeCatInput","placeholder","Ex: Trabalho...","name","nomeCat",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["for","corCatInput"],["id","corCatInput","type","color","name","corCat","title","Escolha uma cor",1,"form-control","form-control-color","mb-2","w-100",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mt-2",3,"click"],["class","btn btn-secondary w-100 mt-2",3,"click",4,"ngIf"],["class","text-center text-muted py-3",4,"ngIf"],[1,"categoria-lista",2,"max-height","300px","overflow-y","auto"],["class","categoria-item mb-2 p-2 rounded d-flex justify-content-between align-items-center",3,"borderLeft",4,"ngFor","ngForOf"],["class","alert alert-warning mt-3 small","role","alert",4,"ngIf"],[1,"btn","btn-secondary","w-100","mt-2",3,"click"],[1,"text-center","text-muted","py-3"],[1,"categoria-item","mb-2","p-2","rounded","d-flex","justify-content-between","align-items-center"],["aria-hidden","true",1,"categoria-cor"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-primary","btn-sm","border-0",3,"click","disabled","aria-label"],["aria-hidden","true",1,"bi","bi-pencil"],[1,"btn","btn-outline-danger","btn-sm","border-0",3,"click","disabled","aria-label"],["aria-hidden","true",1,"bi","bi-trash"],["role","alert",1,"alert","alert-warning","mt-3","small"],["aria-hidden","true",1,"bi","bi-exclamation-triangle","me-1"],["aria-label","Lista de Tarefas",1,"listagem-container"],[1,"card","p-3","mb-4"],["aria-hidden","true",1,"bi","bi-funnel","me-2"],[1,"mb-3","search-box"],["for","termoPesquisaInput",1,"form-label","fw-bold","small","mb-1"],[1,"input-group"],[1,"input-group-text"],["aria-hidden","true",1,"bi","bi-search"],["id","termoPesquisaInput","type","text","placeholder","Digite para buscar...","name","search",1,"form-control",3,"ngModelChange","ngModel"],["class","btn btn-outline-secondary","type","button","aria-label","Limpar Pesquisa",3,"click",4,"ngIf"],[1,"row","mb-3","gx-2"],[1,"col-12","col-md-4","mb-2","mb-md-0"],["for","filtroDataInput",1,"form-label","fw-bold","small","mb-1"],["id","filtroDataInput","type","date","name","filtroData","title","Filtrar por data de vencimento",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6","col-md-4","mb-2","mb-md-0"],["for","filtroPrioridadeSelect",1,"form-label","fw-bold","small","mb-1"],["id","filtroPrioridadeSelect","name","filtroPrioridade",1,"form-select",3,"ngModelChange","ngModel"],[1,"col-6","col-md-4"],["for","filtroCategoriaSelect",1,"form-label","fw-bold","small","mb-1"],["id","filtroCategoriaSelect","name","filtroCategoria",1,"form-select",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["aria-label","Limpar todos os filtros de busca",1,"btn","btn-sm","btn-outline-secondary","d-flex","align-items-center",3,"click"],["aria-hidden","true",1,"bi","bi-x-circle","me-1"],["aria-label","Tarefas Cadastradas",1,"table","table-hover","tabela-responsiva"],["scope","col"],["scope","col",1,"text-end"],["type","button","aria-label","Limpar Pesquisa",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"bi","bi-x"],["data-label","T\xEDtulo",1,"fw-bold-mobile"],["data-label","Descri\xE7\xE3o",1,"text-wrap-mobile"],["data-label","Prioridade"],[1,"badge",3,"ngClass"],["data-label","Categoria"],["class","badge",3,"backgroundColor","color",4,"ngIf"],["class","text-muted small",4,"ngIf"],["data-label","Data"],["data-label","Status"],[1,"form-check","form-switch","p-0","m-0","d-flex","align-items-center","gap-2"],["type","checkbox",1,"form-check-input","m-0",3,"change","checked"],["data-label","A\xE7\xF5es"],[1,"d-flex","gap-2","justify-content-end","w-100","mobile-actions"],[1,"btn","btn-warning","btn-sm",3,"click","aria-label"],[1,"btn","btn-sm","btn-danger",3,"click","aria-label"],[1,"badge"],["colspan","7",1,"text-center","py-5","text-muted"],["aria-hidden","true",1,"bi","bi-inbox","fs-1","d-block","mb-2","opacity-50"],["role","dialog","aria-modal","true","aria-labelledby","edicaoModalTitle",1,"modal-card"],["id","edicaoModalTitle"],[1,"btn","btn-primary","w-50",3,"click"],[1,"btn","btn-secondary","w-50",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","exclusaoTarefaModalTitle",1,"modal-card"],["id","exclusaoTarefaModalTitle"],[1,"btn","btn-danger","w-50",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","exclusaoCategoriaModalTitle",1,"modal-card"],["id","exclusaoCategoriaModalTitle"]],template:function(t,r){if(t&1){let i=ht();de(0,"link",5)(1,"link",6),N(2,"div",7)(3,"nav",8)(4,"div",9)(5,"button",10),le("click",function(){return ee(i),te(r.alternarSidebar())}),de(6,"i",11),M(),N(7,"h4",12),B(8,"Gerenciador de Tarefas"),M()(),N(9,"div",13),pe(10,bie,5,0,"ng-container",14)(11,Eie,5,7,"ng-template",null,0,Rw),M()(),N(13,"div",15),le("click",function(){return ee(i),te(r.fecharSidebar())}),M(),N(14,"aside",16)(15,"div",17),pe(16,wie,3,3,"button",18),N(17,"button",19),le("click",function(){return ee(i),te(r.mudarAba("todas"))}),de(18,"i",20),B(19," Tarefas "),M(),pe(20,Iie,7,4,"div",21)(21,Cie,3,2,"button",18),M(),N(22,"div",22)(23,"button",19),le("click",function(){return ee(i),te(r.mudarAba("ajuda"))}),de(24,"i",23),B(25," Ajuda "),M(),N(26,"button",24),le("click",function(){return ee(i),te(r.mudarAba("config"))}),de(27,"i",25),B(28," Configura\xE7\xF5es "),M(),pe(29,Tie,3,0,"ng-container",26),N(30,"div",27)(31,"p",28),B(32," \xA9 2025 Projeto ToDo. "),de(33,"br"),B(34," Desenvolvido por Krieger. "),M()()()(),N(35,"main",29),pe(36,Rie,19,12,"section",30)(37,Uie,38,19,"section",31)(38,moe,85,49,"section",32)(39,_oe,6,5,"section",33)(40,Doe,40,13,"section",34)(41,Poe,24,9,"section",35)(42,joe,61,14,"section",36)(43,Boe,1,0,"div",37)(44,Uoe,11,1,"div",38)(45,Hoe,1,0,"div",37)(46,$oe,11,1,"div",39)(47,zoe,1,0,"div",37)(48,Woe,11,1,"div",40),M()()}if(t&2){let i=Rs(12);V(2),Rt("light",r.temaClaro),V(3),pn("aria-expanded",r.sidebarAberta),V(5),K("ngIf",!r.usuarioLogado)("ngIfElse",i),V(3),Rt("show",r.sidebarAberta),V(),Rt("mobile-open",r.sidebarAberta),V(2),K("ngIf",r.usuarioLogado),V(),Rt("active",r.aba==="todas"),V(3),K("ngIf",r.aba==="todas"||r.aba==="concluidas"||r.aba==="abertas"),V(),K("ngIf",r.usuarioLogado),V(2),Rt("active",r.aba==="ajuda"),V(3),Rt("active",r.aba==="config"),V(3),K("ngIf",!r.usuarioLogado),V(7),K("ngIf",r.aba==="login"),V(),K("ngIf",r.aba==="cadastro"),V(),K("ngIf",r.aba==="config"),V(),K("ngIf",r.aba==="ajuda"),V(),K("ngIf",r.aba==="cadastrar"),V(),K("ngIf",r.aba==="categorias"),V(),K("ngIf",r.aba!=="login"&&r.aba!=="cadastro"&&r.aba!=="config"&&r.aba!=="cadastrar"&&r.aba!=="categorias"&&r.aba!=="ajuda"),V(),K("ngIf",r.tarefaConfirmacaoEdicao),V(),K("ngIf",r.tarefaConfirmacaoEdicao),V(),K("ngIf",r.tarefaSelecionadaParaExcluir),V(),K("ngIf",r.tarefaSelecionadaParaExcluir),V(),K("ngIf",r.categoriaSelecionadaParaExcluir),V(),K("ngIf",r.categoriaSelecionadaParaExcluir)}},dependencies:[lj,rj,oj,aj,Tv,GS,Av,Q2,Z2,YS,KS,qS,WS,Jm,Ww,Xm,qw,Gw,Yw],styles:["[_nghost-%COMP%]{display:block;width:100vw;height:100vh;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.layout[_ngcontent-%COMP%]{display:grid;grid-template-rows:60px 1fr;grid-template-columns:250px 1fr;height:100%;transition:all .3s ease}.navbar-top[_ngcontent-%COMP%]{grid-column:1 / span 2;background:#1b1f27;color:#fff;z-index:20;box-shadow:0 2px 5px #0003}.sidebar[_ngcontent-%COMP%]{background:#232832;color:#fff;padding:15px;display:flex;flex-direction:column;gap:8px;overflow-y:auto;border-right:1px solid rgba(255,255,255,.05);z-index:15}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:12px;text-align:left;color:#adb5bd;border-radius:8px;cursor:pointer;transition:all .2s;width:100%}.sidebar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#333a48;color:#fff}.sub[_ngcontent-%COMP%]{margin-left:15px;display:flex;flex-direction:column;border-left:1px solid #444;padding-left:5px}.conteudo[_ngcontent-%COMP%]{background:#0d1117;color:#fff;padding:30px;overflow-y:auto;position:relative}.centro[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;margin-top:20px}.card-tarefas[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:25px;background:#1f2937;color:#fff;border-radius:12px;box-shadow:0 4px 15px #0000004d}.listagem-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.tabela-responsiva[_ngcontent-%COMP%]{width:100%;vertical-align:middle}.ok[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;z-index:1050;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.modal-card[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:25px;width:90%;max-width:350px;border-radius:12px;text-align:center;color:#000;box-shadow:0 10px 25px #00000080;z-index:1060}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:14;opacity:0;visibility:hidden;transition:.3s}.sidebar-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media(max-width:768px){.layout[_ngcontent-%COMP%]{grid-template-columns:1fr}.sidebar[_ngcontent-%COMP%]{position:fixed;top:60px;bottom:0;left:-260px;width:260px;transition:transform .3s cubic-bezier(.4,0,.2,1);box-shadow:4px 0 10px #0000004d}.sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(260px)}.conteudo[_ngcontent-%COMP%]{padding:15px}.tabela-responsiva[_ngcontent-%COMP%], .tabela-responsiva[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .tabela-responsiva[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .tabela-responsiva[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.tabela-responsiva[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.tabela-responsiva[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:15px;background:#1f2937;border-radius:10px;padding:15px;border:1px solid #374151;box-shadow:0 2px 4px #0000001a}.tabela-responsiva[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;text-align:right;padding:8px 0;border-bottom:1px solid #374151}.tabela-responsiva[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-top:15px}.tabela-responsiva[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;color:#9ca3af;text-transform:uppercase;font-size:.75rem;margin-right:15px}.fw-bold-mobile[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#fff;text-align:left!important;display:block!important}.fw-bold-mobile[_ngcontent-%COMP%]:before{display:none}.text-wrap-mobile[_ngcontent-%COMP%]{text-align:left!important;display:block!important;font-size:.9rem;color:#d1d5db}.text-wrap-mobile[_ngcontent-%COMP%]:before{display:block;margin-bottom:5px}.mobile-actions[_ngcontent-%COMP%]{justify-content:stretch!important}.mobile-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:8px}}.light[_ngcontent-%COMP%]   .navbar-top[_ngcontent-%COMP%]{background:#fff;color:#333;border-bottom:1px solid #eee}.light[_ngcontent-%COMP%]   .navbar-top[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{color:#333;border-color:#ddd}.light[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{background:#f8f9fa;border-right:1px solid #e9ecef;color:#212529}.light[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#495057}.light[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .light[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#e9ecef;color:#000}.light[_ngcontent-%COMP%]   .conteudo[_ngcontent-%COMP%]{background:#f0f2f5;color:#212529}.light[_ngcontent-%COMP%]   .card-tarefas[_ngcontent-%COMP%]{background:#fff;color:#212529;box-shadow:0 4px 12px #00000014}.light[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%], .light[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#212529}.light[_ngcontent-%COMP%]   .tabela-responsiva[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6}.light[_ngcontent-%COMP%]   .tabela-responsiva[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #eee}.light[_ngcontent-%COMP%]   .fw-bold-mobile[_ngcontent-%COMP%]{color:#000}.light[_ngcontent-%COMP%]   .text-wrap-mobile[_ngcontent-%COMP%]{color:#4b5563}.light[_ngcontent-%COMP%]   .tabela-responsiva[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{color:#6c757d}.light[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.light[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{color:#212529;background-color:transparent}.categoria-item[_ngcontent-%COMP%]{background:#2d3442;color:#fff;border-left:4px solid #ccc;transition:all .2s}.light[_ngcontent-%COMP%]   .categoria-item[_ngcontent-%COMP%]{background-color:#fff;color:#212529;border:1px solid #dee2e6;border-left-width:4px}.categoria-cor[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;border:2px solid rgba(0,0,0,.1)}.badge[_ngcontent-%COMP%]{font-weight:500;letter-spacing:.3px}.layout[_ngcontent-%COMP%]:not(.light)   .text-muted[_ngcontent-%COMP%]{color:#ffffffc7!important}.layout[_ngcontent-%COMP%]:not(.light)   .small[_ngcontent-%COMP%]{color:#ffffffe0!important}.layout[_ngcontent-%COMP%]:not(.light)   .text-danger[_ngcontent-%COMP%], .layout[_ngcontent-%COMP%]:not(.light)   .text-danger[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:#dc3545!important}.layout[_ngcontent-%COMP%]:not(.light)   .alert-warning[_ngcontent-%COMP%]{background-color:#ffc107;border-color:#ffc107;color:#000!important}.layout[_ngcontent-%COMP%]:not(.light)   .alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .layout[_ngcontent-%COMP%]:not(.light)   .alert-warning[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:#000!important}.layout[_ngcontent-%COMP%]:not(.light)   .categoria-item[_ngcontent-%COMP%]{background:#2d3442;color:#fff}.layout[_ngcontent-%COMP%]:not(.light)   .categoria-item[_ngcontent-%COMP%]   .fw-bold[_ngcontent-%COMP%]{color:#fff!important}.layout[_ngcontent-%COMP%]:not(.light)   .badge[_ngcontent-%COMP%]{color:#fff}.btn-sair[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;font-size:1.3rem;border-radius:50%;border:none;background-color:transparent;cursor:pointer;transition:transform .2s ease}.btn-sair[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.btn-sair[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--cor-sair);transition:color .2s ease}.search-box[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .search-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#374151;background:#1f2937;color:#fff}.light[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .light[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#ced4da;background:#fff;color:#212529}.search-box[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#9ca3af;border-color:#374151;background-color:#1f2937}.light[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#ced4da;background-color:#fff}.tutorial-list[_ngcontent-%COMP%]{padding:0}.tutorial-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1)}.light[_ngcontent-%COMP%]   .tutorial-item[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.btn-tutorial-link[_ngcontent-%COMP%]{background:none;border:none;color:#adb5bd;border-radius:0;transition:background-color .2s;font-size:1rem}.btn-tutorial-link[_ngcontent-%COMP%]:hover, .btn-tutorial-link.active[_ngcontent-%COMP%]{background:#333a48;color:#fff}.light[_ngcontent-%COMP%]   .btn-tutorial-link[_ngcontent-%COMP%]{color:#495057}.light[_ngcontent-%COMP%]   .btn-tutorial-link[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#000}.light[_ngcontent-%COMP%]   .btn-tutorial-link.active[_ngcontent-%COMP%]{background:#dee2e6;color:#000}.tutorial-content[_ngcontent-%COMP%]{background-color:#1b1f27;color:#f8f9fa;max-height:0;overflow:hidden;transition:max-height .4s ease-in-out,padding .4s ease-in-out;padding-top:0!important;padding-bottom:0!important}.tutorial-content.open[_ngcontent-%COMP%]{max-height:1000px;padding-top:1rem!important;padding-bottom:1rem!important}.light[_ngcontent-%COMP%]   .tutorial-content[_ngcontent-%COMP%]{background-color:#fff;color:#212529}.tutorial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;line-height:1.6}.tutorial-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin-bottom:1rem}.tutorial-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.border-bottom-light[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6!important}.sidebar-footer[_ngcontent-%COMP%]{padding:15px;text-align:center;border-top:1px solid rgba(0,0,0,.1)}.sidebar-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:var(--cor-texto-secundario, #6c757d);margin:0}.modal-custom[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#202020;padding:25px;width:90%;max-width:400px;border-radius:12px;text-align:center;color:#fff;box-shadow:0 10px 25px #00000080;z-index:1060}.modal-content-custom[_ngcontent-%COMP%]{background:transparent;color:#fff}.lista-excluidas[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;background-color:#202020;padding:10px;border-radius:4px}.password-input-container[_ngcontent-%COMP%]{position:relative;display:flex}.toggle-password[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:0;color:#6c757d;z-index:10;font-size:1.2rem}.toggle-password[_ngcontent-%COMP%]:focus, .toggle-password[_ngcontent-%COMP%]:active{box-shadow:none;outline:none}.password-input-container[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{padding-right:40px}"]})};var p0=class n{title=nr("ProjetoToDo");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ja({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&de(0,"app-tarefas")},dependencies:[f0],encapsulation:2})};oI(p0,P2).catch(n=>console.error(n));
